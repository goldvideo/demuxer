{"version":3,"sources":["webpack://Demuxer/webpack/universalModuleDefinition","webpack://Demuxer/webpack/bootstrap","webpack://Demuxer/../src/index.js","webpack://Demuxer/../src/demuxer.js","webpack://Demuxer/../node_modules/core-js/modules/es.array.iterator.js","webpack://Demuxer/../node_modules/core-js/internals/to-indexed-object.js","webpack://Demuxer/../node_modules/core-js/internals/indexed-object.js","webpack://Demuxer/../node_modules/core-js/internals/fails.js","webpack://Demuxer/../node_modules/core-js/internals/classof-raw.js","webpack://Demuxer/../node_modules/core-js/internals/require-object-coercible.js","webpack://Demuxer/../node_modules/core-js/internals/add-to-unscopables.js","webpack://Demuxer/../node_modules/core-js/internals/well-known-symbol.js","webpack://Demuxer/../node_modules/core-js/internals/global.js","webpack://Demuxer/../node_modules/webpack/buildin/global.js","webpack://Demuxer/../node_modules/core-js/internals/shared.js","webpack://Demuxer/../node_modules/core-js/internals/is-pure.js","webpack://Demuxer/../node_modules/core-js/internals/shared-store.js","webpack://Demuxer/../node_modules/core-js/internals/set-global.js","webpack://Demuxer/../node_modules/core-js/internals/create-non-enumerable-property.js","webpack://Demuxer/../node_modules/core-js/internals/descriptors.js","webpack://Demuxer/../node_modules/core-js/internals/object-define-property.js","webpack://Demuxer/../node_modules/core-js/internals/ie8-dom-define.js","webpack://Demuxer/../node_modules/core-js/internals/document-create-element.js","webpack://Demuxer/../node_modules/core-js/internals/is-object.js","webpack://Demuxer/../node_modules/core-js/internals/an-object.js","webpack://Demuxer/../node_modules/core-js/internals/to-primitive.js","webpack://Demuxer/../node_modules/core-js/internals/create-property-descriptor.js","webpack://Demuxer/../node_modules/core-js/internals/has.js","webpack://Demuxer/../node_modules/core-js/internals/uid.js","webpack://Demuxer/../node_modules/core-js/internals/native-symbol.js","webpack://Demuxer/../node_modules/core-js/internals/use-symbol-as-uid.js","webpack://Demuxer/../node_modules/core-js/internals/object-create.js","webpack://Demuxer/../node_modules/core-js/internals/object-define-properties.js","webpack://Demuxer/../node_modules/core-js/internals/object-keys.js","webpack://Demuxer/../node_modules/core-js/internals/object-keys-internal.js","webpack://Demuxer/../node_modules/core-js/internals/array-includes.js","webpack://Demuxer/../node_modules/core-js/internals/to-length.js","webpack://Demuxer/../node_modules/core-js/internals/to-integer.js","webpack://Demuxer/../node_modules/core-js/internals/to-absolute-index.js","webpack://Demuxer/../node_modules/core-js/internals/hidden-keys.js","webpack://Demuxer/../node_modules/core-js/internals/enum-bug-keys.js","webpack://Demuxer/../node_modules/core-js/internals/html.js","webpack://Demuxer/../node_modules/core-js/internals/get-built-in.js","webpack://Demuxer/../node_modules/core-js/internals/path.js","webpack://Demuxer/../node_modules/core-js/internals/shared-key.js","webpack://Demuxer/../node_modules/core-js/internals/iterators.js","webpack://Demuxer/../node_modules/core-js/internals/internal-state.js","webpack://Demuxer/../node_modules/core-js/internals/native-weak-map.js","webpack://Demuxer/../node_modules/core-js/internals/inspect-source.js","webpack://Demuxer/../node_modules/core-js/internals/define-iterator.js","webpack://Demuxer/../node_modules/core-js/internals/export.js","webpack://Demuxer/../node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://Demuxer/../node_modules/core-js/internals/object-property-is-enumerable.js","webpack://Demuxer/../node_modules/core-js/internals/redefine.js","webpack://Demuxer/../node_modules/core-js/internals/copy-constructor-properties.js","webpack://Demuxer/../node_modules/core-js/internals/own-keys.js","webpack://Demuxer/../node_modules/core-js/internals/object-get-own-property-names.js","webpack://Demuxer/../node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://Demuxer/../node_modules/core-js/internals/is-forced.js","webpack://Demuxer/../node_modules/core-js/internals/create-iterator-constructor.js","webpack://Demuxer/../node_modules/core-js/internals/iterators-core.js","webpack://Demuxer/../node_modules/core-js/internals/object-get-prototype-of.js","webpack://Demuxer/../node_modules/core-js/internals/to-object.js","webpack://Demuxer/../node_modules/core-js/internals/correct-prototype-getter.js","webpack://Demuxer/../node_modules/core-js/internals/set-to-string-tag.js","webpack://Demuxer/../node_modules/core-js/internals/object-set-prototype-of.js","webpack://Demuxer/../node_modules/core-js/internals/a-possible-prototype.js","webpack://Demuxer/../node_modules/core-js/modules/es.array-buffer.slice.js","webpack://Demuxer/../node_modules/core-js/internals/array-buffer.js","webpack://Demuxer/../node_modules/core-js/internals/array-buffer-native.js","webpack://Demuxer/../node_modules/core-js/internals/redefine-all.js","webpack://Demuxer/../node_modules/core-js/internals/an-instance.js","webpack://Demuxer/../node_modules/core-js/internals/to-index.js","webpack://Demuxer/../node_modules/core-js/internals/ieee754.js","webpack://Demuxer/../node_modules/core-js/internals/array-fill.js","webpack://Demuxer/../node_modules/core-js/internals/species-constructor.js","webpack://Demuxer/../node_modules/core-js/internals/a-function.js","webpack://Demuxer/../node_modules/core-js/modules/es.object.to-string.js","webpack://Demuxer/../node_modules/core-js/internals/to-string-tag-support.js","webpack://Demuxer/../node_modules/core-js/internals/object-to-string.js","webpack://Demuxer/../node_modules/core-js/internals/classof.js","webpack://Demuxer/../node_modules/core-js/modules/es.typed-array.uint8-array.js","webpack://Demuxer/../node_modules/core-js/internals/typed-array-constructor.js","webpack://Demuxer/../node_modules/core-js/internals/typed-array-constructors-require-wrappers.js","webpack://Demuxer/../node_modules/core-js/internals/check-correctness-of-iteration.js","webpack://Demuxer/../node_modules/core-js/internals/array-buffer-view-core.js","webpack://Demuxer/../node_modules/core-js/internals/to-offset.js","webpack://Demuxer/../node_modules/core-js/internals/to-positive-integer.js","webpack://Demuxer/../node_modules/core-js/internals/typed-array-from.js","webpack://Demuxer/../node_modules/core-js/internals/get-iterator-method.js","webpack://Demuxer/../node_modules/core-js/internals/is-array-iterator-method.js","webpack://Demuxer/../node_modules/core-js/internals/function-bind-context.js","webpack://Demuxer/../node_modules/core-js/internals/array-iteration.js","webpack://Demuxer/../node_modules/core-js/internals/array-species-create.js","webpack://Demuxer/../node_modules/core-js/internals/is-array.js","webpack://Demuxer/../node_modules/core-js/internals/set-species.js","webpack://Demuxer/../node_modules/core-js/internals/inherit-if-required.js","webpack://Demuxer/../node_modules/core-js/modules/es.typed-array.copy-within.js","webpack://Demuxer/../node_modules/core-js/internals/array-copy-within.js","webpack://Demuxer/../node_modules/core-js/modules/es.typed-array.every.js","webpack://Demuxer/../node_modules/core-js/modules/es.typed-array.fill.js","webpack://Demuxer/../node_modules/core-js/modules/es.typed-array.filter.js","webpack://Demuxer/../node_modules/core-js/modules/es.typed-array.find.js","webpack://Demuxer/../node_modules/core-js/modules/es.typed-array.find-index.js","webpack://Demuxer/../node_modules/core-js/modules/es.typed-array.for-each.js","webpack://Demuxer/../node_modules/core-js/modules/es.typed-array.includes.js","webpack://Demuxer/../node_modules/core-js/modules/es.typed-array.index-of.js","webpack://Demuxer/../node_modules/core-js/modules/es.typed-array.iterator.js","webpack://Demuxer/../node_modules/core-js/modules/es.typed-array.join.js","webpack://Demuxer/../node_modules/core-js/modules/es.typed-array.last-index-of.js","webpack://Demuxer/../node_modules/core-js/internals/array-last-index-of.js","webpack://Demuxer/../node_modules/core-js/internals/array-method-is-strict.js","webpack://Demuxer/../node_modules/core-js/internals/array-method-uses-to-length.js","webpack://Demuxer/../node_modules/core-js/modules/es.typed-array.map.js","webpack://Demuxer/../node_modules/core-js/modules/es.typed-array.reduce.js","webpack://Demuxer/../node_modules/core-js/internals/array-reduce.js","webpack://Demuxer/../node_modules/core-js/modules/es.typed-array.reduce-right.js","webpack://Demuxer/../node_modules/core-js/modules/es.typed-array.reverse.js","webpack://Demuxer/../node_modules/core-js/modules/es.typed-array.set.js","webpack://Demuxer/../node_modules/core-js/modules/es.typed-array.slice.js","webpack://Demuxer/../node_modules/core-js/modules/es.typed-array.some.js","webpack://Demuxer/../node_modules/core-js/modules/es.typed-array.sort.js","webpack://Demuxer/../node_modules/core-js/modules/es.typed-array.subarray.js","webpack://Demuxer/../node_modules/core-js/modules/es.typed-array.to-locale-string.js","webpack://Demuxer/../node_modules/core-js/modules/es.typed-array.to-string.js","webpack://Demuxer/../node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://Demuxer/../node_modules/@babel/runtime/helpers/createClass.js","webpack://Demuxer/../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://Demuxer/../node_modules/@babel/runtime/helpers/typeof.js","webpack://Demuxer/../node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://Demuxer/../node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://Demuxer/../node_modules/@babel/runtime/helpers/inherits.js","webpack://Demuxer/../node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://Demuxer/../src/util/logger.js","webpack://Demuxer/../node_modules/core-js/modules/es.array.concat.js","webpack://Demuxer/../node_modules/core-js/internals/create-property.js","webpack://Demuxer/../node_modules/core-js/internals/array-method-has-species-support.js","webpack://Demuxer/../node_modules/core-js/internals/engine-v8-version.js","webpack://Demuxer/../node_modules/core-js/internals/engine-user-agent.js","webpack://Demuxer/../node_modules/core-js/modules/es.array.join.js","webpack://Demuxer/../node_modules/core-js/modules/es.array.slice.js","webpack://Demuxer/../node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://Demuxer/../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://Demuxer/../node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://Demuxer/../node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://Demuxer/../src/util/global.js","webpack://Demuxer/../src/util/event-emitter.js","webpack://Demuxer/../node_modules/core-js/modules/es.function.bind.js","webpack://Demuxer/../node_modules/core-js/internals/function-bind.js","webpack://Demuxer/../node_modules/core-js/modules/es.function.name.js","webpack://Demuxer/../node_modules/core-js/modules/es.object.create.js","webpack://Demuxer/../node_modules/core-js/modules/es.object.define-property.js","webpack://Demuxer/../node_modules/core-js/modules/es.object.keys.js","webpack://Demuxer/../src/util/stream.js","webpack://Demuxer/../src/util/event-manager.js","webpack://Demuxer/../src/util/multi-map.js","webpack://Demuxer/../node_modules/core-js/modules/es.array.splice.js","webpack://Demuxer/../src/util/is.js","webpack://Demuxer/../node_modules/core-js/modules/es.date.to-string.js","webpack://Demuxer/../node_modules/core-js/modules/es.regexp.to-string.js","webpack://Demuxer/../node_modules/core-js/internals/regexp-flags.js","webpack://Demuxer/../src/enum/events.js","webpack://Demuxer/../src/m2t/demux.js","webpack://Demuxer/../src/m2t/streams/complex.js","webpack://Demuxer/../node_modules/core-js/modules/es.number.constructor.js","webpack://Demuxer/../node_modules/core-js/internals/string-trim.js","webpack://Demuxer/../node_modules/core-js/internals/whitespaces.js","webpack://Demuxer/../src/util/cache-buffer.js","webpack://Demuxer/../src/m2t/streams/elementary.js","webpack://Demuxer/../src/enum/stream-types.js","webpack://Demuxer/../src/m2t/streams/adts.js","webpack://Demuxer/../src/codec/adts.js","webpack://Demuxer/../src/codec/aac/aac-config.js","webpack://Demuxer/../src/util/platform.js","webpack://Demuxer/../node_modules/core-js/modules/es.array.index-of.js","webpack://Demuxer/../node_modules/core-js/modules/es.parse-int.js","webpack://Demuxer/../node_modules/core-js/internals/number-parse-int.js","webpack://Demuxer/../node_modules/core-js/modules/es.regexp.exec.js","webpack://Demuxer/../node_modules/core-js/internals/regexp-exec.js","webpack://Demuxer/../node_modules/core-js/internals/regexp-sticky-helpers.js","webpack://Demuxer/../node_modules/core-js/modules/es.string.split.js","webpack://Demuxer/../node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","webpack://Demuxer/../node_modules/core-js/internals/is-regexp.js","webpack://Demuxer/../node_modules/core-js/internals/advance-string-index.js","webpack://Demuxer/../node_modules/core-js/internals/string-multibyte.js","webpack://Demuxer/../node_modules/core-js/internals/regexp-exec-abstract.js","webpack://Demuxer/../src/m2t/streams/avc.js","webpack://Demuxer/../src/enum/nalu-types.js","webpack://Demuxer/../src/codec/avc.js","webpack://Demuxer/../src/codec/avc/nalu.js","webpack://Demuxer/../src/util/dv.js","webpack://Demuxer/../node_modules/core-js/modules/es.array-buffer.constructor.js","webpack://Demuxer/../node_modules/core-js/modules/es.array-buffer.is-view.js","webpack://Demuxer/../node_modules/core-js/modules/es.data-view.js","webpack://Demuxer/../src/codec/avc/ep3b.js","webpack://Demuxer/../src/codec/avc/sps.js","webpack://Demuxer/../src/util/exp-golumb.js","webpack://Demuxer/../src/codec/avc/pps.js","webpack://Demuxer/../node_modules/core-js/modules/es.math.log2.js","webpack://Demuxer/../src/codec/avc/avc-config.js","webpack://Demuxer/../src/m2t/streams/pes.js","webpack://Demuxer/../src/m2t/structs/pes.js","webpack://Demuxer/../src/m2t/psi.js","webpack://Demuxer/../src/m2t/structs/patSection.js","webpack://Demuxer/../src/m2t/structs/pmtSection.js","webpack://Demuxer/../src/m2t/structs/sdtSection.js","webpack://Demuxer/../src/enum/m2t-pid.js","webpack://Demuxer/../src/m2t/structs/packet.js","webpack://Demuxer/../src/mux-error-code.js","webpack://Demuxer/../src/mp4/demux.js","webpack://Demuxer/../src/mp4/mp4-inspector.js","webpack://Demuxer/../node_modules/core-js/modules/es.regexp.flags.js","webpack://Demuxer/../node_modules/core-js/modules/es.typed-array.uint32-array.js","webpack://Demuxer/../node_modules/core-js/modules/web.dom-collections.iterator.js","webpack://Demuxer/../node_modules/core-js/internals/dom-iterables.js"],"names":["module","exports","require","muxers","m2ts","m2tDemux","mp4","mp4Demux","Demuxer","from","options","debug","logger","enable","_demuxer","_eventManager","EventManager","on","endStream","data","emit","Events","DEMUX_DATA","DONE","buf","conf","isArrayBuffer","isUint8Array","Uint8Array","push","reset","unpipe","removeAll","Stream","console","global","isWorker","WorkerGlobalScope","self","importScripts","prefix","Logger","_enable","value","MSG_NAME","arguments","join","log","call","assert","condition","sliceArgs","Array","prototype","slice","unshift","warn","error","EventEmitter","setLogger","obj","getLogger","window","objectCreate","Object","create","objectCreatePolyfill","objectKeys","keys","objectKeysPolyfill","bind","Function","functionBindPolyfill","defaultMaxListeners","emitter","type","listenerCount","_events","hasOwnProperty","_eventsCount","_maxListeners","undefined","er","handler","len","args","i","events","doError","length","Error","err","context","isFn","emitNone","emitOne","emitTwo","emitThree","emitMany","listener","_addListener","TypeError","_onceWrap","_removeListener","listeners","off","key","removeAllListeners","_listeners","apply","hasDefineProperty","o","defineProperty","x","enumerable","get","set","arg","$getMaxListeners","that","arrayClone","e","arg1","arg2","arg3","target","m","existing","newListener","warned","w","String","name","count","message","list","position","originalListener","shift","spliceOne","onceWrapper","fired","wrapFn","state","wrapped","unwrap","evlistener","unwrapListeners","index","k","n","pop","arr","copy","ret","proto","F","fn","destination","flushSource","flush","_bindingMap","MultiMap","binding","_Binding","event","remove","getAll","clear","addEventListener","removeEventListener","map_","splice","callback","objectToString","toString","isObjectLike","isEmptyObject","prop","JSON","stringify","isHttps","url","test","location","protocol","isNumber","num","isNaN","toLowerCase","ERROR","INFO","DATA","CHUNK_BYTE_LENGTH","Demux","ctx","cache_buffer","CacheBuffer","psi","PSI","pesStream","PesStream","elementaryStream","ElementaryStream","complexStream","M2TSComplexStream","pipe","buffer","done","cacheByteLength","byteLength","byteOffset","config","append","chunk","cut","packet","Packet","valid","parse","errMsg","has_payload","muxErrorCode","TS_SYNC_BYTE","startByte","endByte","empty","stream","complex","videoTrack","audioTrack","captionTrack","tracks","track","_complexVideo","_complexAudio","_complexCaption","_clearStream","gops","findTrack","trackId","firstDTS","dts","firstPTS","pts","duration","Number","POSITIVE_INFINITY","frames","_byteLength","item","_list","bytes","tryCount","maxTryCount","offset","payload","newBuffer","concat","bufferList","fixedLength","needCutResult","loopIndex","cur","subarray","subLen","adtsStream","ADTSStream","avcStream","AVCStream","streams","stubTime","end","stream_type","StreamType","H264","HEVC","ADTS","METADATA","codec","ADTSCodec","frame","_newFrames","pid","firstFrame","lastFrame","lastDuration","sampleRate","sampleCount","_updateTrackMeta","getAudioConfig","audioObjectType","samplingFrequencyIndex","channelCount","inputTimeScale","timescale","realCodec","isAAC","ADTS_SAMPLING_FREQUENCIES","pesPacket","pes","PTS","DTS","pes_data_byte","data_byte","frameNum","frameLength","protectionSkipBytes","frameEnd","adtsFrameDuration","sampleSize","samplingRates","adtsExtensionSamplingIndex","realAudioObjectType","platform","browser","FIREFOX","os","android","nav","navigator","ua","userAgent","match","exec","indexOf","platform_match","result","matched","version","versionNumber","versionArray","split","major","parseInt","string","minor","build","CHROME","SAFARI","IE11","IE","EDGE","WECHAT","mac","iphone","H264Stream","currentFrame","AVCCodec","_newGop","_newGops","nalu","unit_type","NaluTypes","SPS","getAVCConfig","sps","width","height","profileIdc","profile_idc","profileCompatibility","profile_compatibility","levelIdc","level_idc","pixelRatio","rawData","PPS","pps","_grouping","prevFrame","_pushFrameIntoGop","gop","_pushGopIntoGroup","currentNal","AUD","keyframe","naluCount","IDR_SLICE","NON_IDR_SLICE","DPA_SLICE","DPB_SLICE","DPC_SLICE","SEI","END_SEQUENCE","END_STREAM","cachedBytes","naluOffset","lastStartCodeLength","j","dropZerosLength","uint32","start_code","start_code_length","isLastByte","startPos","isNaluEndByte","NALUnit","startCodeLength","naluSizeLength","size","endPos","_decodeSEI","_decodeAUD","NALU","forbidden_zero_bit","ref_idc","discardEP3B","decodeSPS","decodePPS","sei","primary_pic_type","DataViewReader","read","ArrayBuffer","isView","DataView","getUint8","littleEndian","getUint16","getUint32","emulationPreventionBytesPositions","newLength","newData","sourceIndex","bitOffset","scaling_list","scalingList","lastScale","nextScale","delta_scale","ExpGolomb","readUEV","bitLength","golombBuffer","separate_colour_plane_flag","qpprime_y_zero_transform_bypass_flag","seq_scaling_matrix_present_flag","lmpoclmUEV","delta_pic_order_always_zero_flag","ofnrpSEV","ofttbfSEV","nrfipoccUEV","pixelScale","video_format","fps","num_units_in_tick","time_scale","fixed_frame_rate_flag","spsUEV","chromaFIUEV","bitdlmUEV","bitdcmUEV","readBit","seq_scaling_list_present_flag","lmfnmUEV","poctUEV","pic_order_cnt_type","readSEV","mnrfUEV","picWidthUEV","picHeightUEV","frame_mbs_only_flag","frame_cropping_flag","cropLeft","cropRight","cropTop","cropBottom","fcloUEV","fcroUEV","fctoUEV","fcboUEV","vui_parameters_present_flag","aspect_ratio_info_present_flag","aspectRatioIdc","readByte","width0","width1","height0","height1","overscan_info_present_flag","video_signal_type_present_flag","colour_description_present_flag","chroma_loc_info_present_flag","chroma_sample_loc_type_top_field","chroma_sample_loc_type_bottom_field","timing_info_present_flag","sps_id","log2_max_frame_num_minus4","log2_max_pic_order_cnt_lsb_minus4","Math","ceil","fixedFPS","_readBit","startByteBitPos","val","bitStr","bitVal","floor","_readByte","_readUEV","leadingZeros","readBit1","codeNumLength","_readSEV","uev","codeNum","signedValue","pow","slice_group_change_direction_flag","sliceGroupIds","sgcdfUEV","picSizeUEV","ppsUEV","entropy_coding_mode_flag","bottom_field_pic_order_in_frame_present_flag","sliceGroupUEV","sgmtUEV","iGroup","itemUev","log2","nril0dcmUEV","nril1dcmUEV","weighted_pred_flag","weighted_bipred_idc","piqpSEV","piqsSEV","cqioSEV","deblocking_filter_control_present_flag","constrained_intra_pred_flag","redundant_pic_cnt_present_flag","sliceGroupNum","codecString","h","PID","currentProgramPID","_pushPacket","payload_unit_start_indicator","_assembleOnePES","_clearCached","p","toNewBytes","pesData","PES","id","pcr_pid","Pes","start_code_prefix","readUint16","stream_id","packet_length","data_alignment_indicator","copyright","PTS_DTS_flags","ESCR_flag","ES_rate_flag","trick_mode_flag","additional_copy_info_flag","CRC_flag","extension_flag","header_data_length","_calcTimestamp","start","_pmtIds","pat_table","metadata","pes_streams","PAT_PID","_parsePat","CAT_PID","TSDT_PID","SDT_PID","_parseSdt","_parsePmt","program","pack","pointer","pat","PATSection","pmtTable","_add_pid_to_pmt","programNum","program_map_PID","programId","table","get_pmt","idx","pmt","PMTSection","pes_table","_add_pes_stream","get_program","streamType","PCR_PID","sdt","SDTSection","service_table","service_name","service_provider","provider_name","table_id","section_syntax_indicator","section_length","transport_stream_id","version_number","current_next_indicator","section_number","last_section_number","network_PID","program_num","reserved_3","crcLength","CRC_32","program_number","program_info_length","descriptor_length","es_section_pos","es_section_len","es_section_end","elementary_PID","ES_info_length","es_pos","original_network_id","sv_len","service","service_id","EIT_schedule_flag","EIT_present_following_flag","running_status","free_CA_mode","descriptors_loop_length","descriptor_tag","service_type","service_provider_name","service_provider_name_length","l","nextPos","fromCharCode","service_name_length","SYNC_BYTE","sync_byte","transport_error_indicator","transport_priority","tsc","afc","continuity_counter","has_adaptation","is_discontinuity","adaptation_field_length","counter","WORKER_EXCEPTION","WORKER_MSG_EXCEPTION","mp4toJSON","parseType","parseMp4Date","seconds","Date","parseSampleFlags","flags","isLeading","dependsOn","isDependedOn","hasRedundancy","paddingValue","isNonSyncSample","degradationPriority","nalParse","avcView","avc1","view","dataReferenceIndex","horizresolution","vertresolution","frameCount","depth","avcC","configurationVersion","avcProfileIndication","avcLevelIndication","lengthSizeMinusOne","numOfSequenceParameterSets","numOfPictureParameterSets","nalSize","btrt","bufferSizeDB","maxBitrate","avgBitrate","esds","esId","streamPriority","decoderConfig","objectProfileIndication","bufferSize","decoderConfigDescriptor","tag","channelConfiguration","ftyp","majorBrand","minorVersion","compatibleBrands","dinf","boxes","dref","dataReferences","hdlr","handlerType","decodeURIComponent","mdhd","language","creationTime","modificationTime","mdia","mfhd","sequenceNumber","minf","mp4a","channelcount","samplesize","samplerate","streamDescriptor","moof","moov","mvex","mvhd","rate","volume","matrix","Uint32Array","nextTrackId","pdin","initialDelay","sdtp","samples","sidx","references","referenceId","earliestPresentationTime","firstOffset","referenceCount","referenceType","referencedSize","subsegmentDuration","startsWithSap","sapType","sapDeltaTime","stbl","stco","entryCount","chunkOffsets","stsc","sampleToChunks","firstChunk","samplesPerChunk","sampleDescriptionIndex","stsd","stsz","entries","stts","timeToSamples","sampleDelta","styp","tfdt","baseMediaDecodeTime","tfhd","baseDataOffsetPresent","sampleDescriptionIndexPresent","defaultSampleDurationPresent","defaultSampleSizePresent","defaultSampleFlagsPresent","baseDataOffset","defaultSampleDuration","defaultSampleSize","defaultSampleFlags","tkhd","layer","alternateGroup","traf","trak","trex","defaultSampleDescriptionIndex","sampleDependsOn","sampleIsDependedOn","sampleHasRedundancy","samplePaddingValue","sampleIsDifferenceSample","sampleDegradationPriority","trun","dataOffsetPresent","firstSampleFlagsPresent","sampleDurationPresent","sampleSizePresent","sampleFlagsPresent","sampleCompositionTimeOffsetPresent","sample","dataOffset","compositionTimeOffset","vmhd","box","MP4Inspect"],"mappings":"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AAE/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,+CAA+C,mBAAmB,oCAAoC,EAAE,EAAE;AAC1G;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,WAAW;AAC5B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA,GAAG;AACH,8BAA8B;AAC9B,GAAG;AACH,4BAA4B;AAC5B,+BAA+B;AAC/B,+BAA+B;AAC/B;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,uEAAuE,iBAAiB;AACxF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG,GAAG,eAAe;AACrB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;ACjOA;;;;;;;ACAA,eAAe,mBAAO,CAAC,EAAuB;;AAE9C;AACA;AACA;AACA;;;;;;;ACLA;AACA;AACA;AACA,GAAG;AACH;;;;;;;ACJA,gBAAgB,mBAAO,CAAC,EAAyB;AACjD,eAAe,mBAAO,CAAC,EAAwB;;AAE/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,QAAQ,qBAAqB;AAC7B;AACA;AACA,QAAQ,oBAAoB;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,WAAW;AACnB;AACA;AACA;AACA,QAAQ,WAAW;AACnB;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;;;;;;;ACvFa;AACb,eAAe,mBAAO,CAAC,EAAwB;AAC/C,sBAAsB,mBAAO,CAAC,EAAgC;AAC9D,eAAe,mBAAO,CAAC,EAAwB;;AAE/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AChBA,eAAe,mBAAO,CAAC,EAAwB;AAC/C,gBAAgB,mBAAO,CAAC,EAAyB;AACjD,sBAAsB,mBAAO,CAAC,CAAgC;;AAE9D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACZA;AACA;AACA;AACA,GAAG;AACH;;;;;;;ACJA,4BAA4B,mBAAO,CAAC,EAAoC;AACxE,eAAe,mBAAO,CAAC,EAAuB;AAC9C,eAAe,mBAAO,CAAC,EAA+B;;AAEtD;AACA;AACA;AACA,oDAAoD,eAAe;AACnE;;;;;;;ACRA,sBAAsB,mBAAO,CAAC,CAAgC;;AAE9D;AACA;;AAEA;;AAEA;;;;;;;;ACPa;AACb,4BAA4B,mBAAO,CAAC,EAAoC;AACxE,cAAc,mBAAO,CAAC,EAAsB;;AAE5C;AACA;AACA,2CAA2C;AAC3C;AACA;;;;;;;ACRA,4BAA4B,mBAAO,CAAC,EAAoC;AACxE,iBAAiB,mBAAO,CAAC,CAA0B;AACnD,sBAAsB,mBAAO,CAAC,CAAgC;;AAE9D;AACA;AACA,gDAAgD,kBAAkB,EAAE;;AAEpE;AACA;AACA;AACA;AACA,GAAG,gBAAgB;AACnB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACzBA,kCAAkC,mBAAO,CAAC,EAAsC;;AAEhF;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;ACRY;AACb,QAAQ,mBAAO,CAAC,EAAqB;AACrC,aAAa,mBAAO,CAAC,EAAqB;AAC1C,kBAAkB,mBAAO,CAAC,EAA0B;AACpD,kDAAkD,mBAAO,CAAC,EAAwD;AAClH,0BAA0B,mBAAO,CAAC,EAAqC;AACvE,wBAAwB,mBAAO,CAAC,EAA2B;AAC3D,iBAAiB,mBAAO,CAAC,EAA0B;AACnD,+BAA+B,mBAAO,CAAC,EAAyC;AAChF,kCAAkC,mBAAO,CAAC,EAA6C;AACvF,eAAe,mBAAO,CAAC,EAAwB;AAC/C,cAAc,mBAAO,CAAC,EAAuB;AAC7C,eAAe,mBAAO,CAAC,EAAwB;AAC/C,kBAAkB,mBAAO,CAAC,EAA2B;AACrD,UAAU,mBAAO,CAAC,EAAkB;AACpC,cAAc,mBAAO,CAAC,EAAsB;AAC5C,eAAe,mBAAO,CAAC,EAAwB;AAC/C,aAAa,mBAAO,CAAC,EAA4B;AACjD,qBAAqB,mBAAO,CAAC,EAAsC;AACnE,0BAA0B,mBAAO,CAAC,EAA4C;AAC9E,qBAAqB,mBAAO,CAAC,EAA+B;AAC5D,cAAc,mBAAO,CAAC,EAA8B;AACpD,iBAAiB,mBAAO,CAAC,EAA0B;AACnD,2BAA2B,mBAAO,CAAC,EAAqC;AACxE,qCAAqC,mBAAO,CAAC,EAAiD;AAC9F,0BAA0B,mBAAO,CAAC,EAA6B;AAC/D,wBAAwB,mBAAO,CAAC,EAAkC;;AAElE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iCAAiC;AACjC;AACA,GAAG,EAAE;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK,mEAAmE;AACxE;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,OAAO;;AAEP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,CAAC,oCAAoC;;;;;;;ACrOrC;AACA,aAAa,mBAAO,CAAC,EAAqB;AAC1C,YAAY,mBAAO,CAAC,CAAoB;AACxC,kCAAkC,mBAAO,CAAC,EAA6C;AACvF,gCAAgC,mBAAO,CAAC,EAAqC;;AAE7E;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;;;;;;;ACrBD,sBAAsB,mBAAO,CAAC,CAAgC;;AAE9D;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,SAAS,EAAE;AACzD,CAAC,gBAAgB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,GAAG,gBAAgB;AACnB;AACA;;;;;;;;ACrCa;AACb,0BAA0B,mBAAO,CAAC,EAAkC;AACpE,kBAAkB,mBAAO,CAAC,EAA0B;AACpD,aAAa,mBAAO,CAAC,EAAqB;AAC1C,eAAe,mBAAO,CAAC,EAAwB;AAC/C,UAAU,mBAAO,CAAC,EAAkB;AACpC,cAAc,mBAAO,CAAC,EAAsB;AAC5C,kCAAkC,mBAAO,CAAC,EAA6C;AACvF,eAAe,mBAAO,CAAC,EAAuB;AAC9C,qBAAqB,mBAAO,CAAC,EAAqC;AAClE,qBAAqB,mBAAO,CAAC,EAAsC;AACnE,qBAAqB,mBAAO,CAAC,EAAsC;AACnE,sBAAsB,mBAAO,CAAC,CAAgC;AAC9D,UAAU,mBAAO,CAAC,EAAkB;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,gBAAgB;AACvB,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AA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eAAe,mBAAO,CAAC,EAAwB;AAC/C,6BAA6B,mBAAO,CAAC,CAAuC;AAC5E,yBAAyB,mBAAO,CAAC,EAAkC;AACnE,yBAAyB,mBAAO,CAAC,GAAmC;AACpE,eAAe,mBAAO,CAAC,EAAwB;AAC/C,qBAAqB,mBAAO,CAAC,GAAmC;AAChE,iBAAiB,mBAAO,CAAC,GAA0B;AACnD,YAAY,mBAAO,CAAC,CAAoB;;AAExC;AACA;AACA;;AAEA;AACA,qCAAqC,iCAAiC,EAAE;;AAExE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E;AAC/E;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,yBAAyB,mBAAmB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;ACrIY;AACb;AACA,mBAAO,CAAC,GAA2B;AACnC,eAAe,mBAAO,CAAC,EAAuB;AAC9C,YAAY,mBAAO,CAAC,CAAoB;AACxC,sBAAsB,mBAAO,CAAC,CAAgC;AAC9D,iBAAiB,mBAAO,CAAC,GAA0B;AACnD,kCAAkC,mBAAO,CAAC,EAA6C;;AAEvF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,yBAAyB,4CAA4C;AACrE;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA,6BAA6B,UAAU;AACvC;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,WAAW;AACxD;AACA;AACA;;AAEA,2BAA2B,mBAAmB,aAAa;;AAE3D;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA,gBAAgB;AAChB;AACA,cAAc;AACd,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,gCAAgC,4CAA4C;AAC5E;AACA;AACA,2BAA2B,uCAAuC;AAClE;AACA;;AAEA;AACA;;;;;;;AC5HA,eAAe,mBAAO,CAAC,EAAwB;AAC/C,cAAc,mBAAO,CAAC,CAA0B;AAChD,sBAAsB,mBAAO,CAAC,CAAgC;;AAE9D;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACXa;AACb,aAAa,mBAAO,CAAC,GAA+B;;AAEpD;AACA;AACA;AACA;AACA;;;;;;;ACPA,gBAAgB,mBAAO,CAAC,EAAyB;AACjD,6BAA6B,mBAAO,CAAC,CAAuC;;AAE5E,sBAAsB,kBAAkB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC1BA,cAAc,mBAAO,CAAC,CAAe;AACrC,iBAAiB,mBAAO,CAAC,GAAe;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpBA;;;;;;AAMA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;IAEM6B,U;;;;;AA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","file":"demuxer.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Demuxer\"] = factory();\n\telse\n\t\troot[\"Demuxer\"] = factory();\n})(window, function() {\nreturn "," \t/** ===== Webpack2 Polyfill ===== **/\n \t\t/** ===== empty module export ===== **/\n\n \t\t\t\t\t\t\tif (!Object.defineProperty || !Object.defineProperties || !Object.create \n \t\t\t\t\t\t\t\t|| !window.ArrayBuffer || !window.Uint8Array) {\n \t\t\t\t\t\t\t\treturn {};\n \t\t\t\t\t\t\t}\n \t\t\t\t\t\t\n \t\t/** ===== empty module export end ===== **/\n \t/** ===== Webpack2 Polyfill end ===== **/\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/**\n * @file: index.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n * @description module entry.\n */\n/* eslint-env commonjs */\nmodule.exports = require('./demuxer').default;\n","/**\n * @file: demuxer.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\nimport logger from './util/logger';\nimport Stream from './util/stream';\nimport EventManager from './util/event-manager';\nimport {isArrayBuffer, isUint8Array} from './util/is';\nimport Events from './enum/events';\nimport m2tDemux from './m2t/demux';\nimport mp4Demux from './mp4/demux';\n\nconst muxers = {\n\tm2ts: m2tDemux,\n\tmp4: mp4Demux\n};\n\nclass Demuxer extends Stream {\n\t/**\n\t * Mux Constructor\n\t * @param {String} from - the source to demux\n\t * @param {Object} [options] - mux configure\n\t */\n\tconstructor(from, options = {}) {\n\t\tsuper();\n\n\t\tif (options.debug) {\n\t\t\tlogger.enable = true;\n\t\t}\n\t\t/**\n\t\t * @type {Demux}\n\t\t * @private\n\t\t */\n\t\tthis._demuxer = new muxers[from](this, options);\n\n\t\t/**\n\t\t * @type {EventManager}\n\t\t * @private\n\t\t */\n\t\tthis._eventManager = new EventManager();\n\n\t\tthis._eventManager\n\t\t\t.on(this._demuxer.endStream, 'data', (data) => {\n\t\t\t\tthis.emit(Events.DEMUX_DATA, data);\n\t\t\t})\n\t\t\t.on(this._demuxer.endStream, 'done', (data) => {\n\t\t\t\tthis.emit(Events.DONE, data);\n\t\t\t});\n\t}\n\n\t/**\n\t * Pipe the arrayBuffer to the demuxer.\n\t * @param {(ArrayBuffer|Uint8Array)} buf\n\t * @param {Object} conf\n\t */\n\tpush(buf, conf = {}) {\n\t\tif (!isArrayBuffer(buf) && !isUint8Array(buf)) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (isArrayBuffer(buf)) {\n\t\t\tbuf = new Uint8Array(buf);\n\t\t}\n\n\t\tthis._demuxer.push(buf, conf);\n\t}\n\n\treset() {\n\t\tthis._demuxer.reset();\n\t}\n\n\tdestroy() {\n\t\tthis._demuxer.unpipe();\n\t\tthis._demuxer.endStream.unpipe();\n\n\t\tthis._eventManager.removeAll();\n\t}\n}\n\nDemuxer.Events = Events;\n\nexport default Demuxer;\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.github.io/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.github.io/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.github.io/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.6.4',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2020 Denis Pushkarev (zloirock.ru)'\n});\n","module.exports = false;\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","module.exports = {};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","module.exports = {};\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","'use strict';\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.github.io/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nif (IteratorPrototype == undefined) IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nif (!IS_PURE && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","var has = require('../internals/has');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.getprototypeof\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.github.io/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","var defineProperty = require('../internals/object-define-property').f;\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","var anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar ArrayBufferModule = require('../internals/array-buffer');\nvar anObject = require('../internals/an-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar ArrayBuffer = ArrayBufferModule.ArrayBuffer;\nvar DataView = ArrayBufferModule.DataView;\nvar nativeArrayBufferSlice = ArrayBuffer.prototype.slice;\n\nvar INCORRECT_SLICE = fails(function () {\n  return !new ArrayBuffer(2).slice(1, undefined).byteLength;\n});\n\n// `ArrayBuffer.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-arraybuffer.prototype.slice\n$({ target: 'ArrayBuffer', proto: true, unsafe: true, forced: INCORRECT_SLICE }, {\n  slice: function slice(start, end) {\n    if (nativeArrayBufferSlice !== undefined && end === undefined) {\n      return nativeArrayBufferSlice.call(anObject(this), start); // FF fix\n    }\n    var length = anObject(this).byteLength;\n    var first = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    var result = new (speciesConstructor(this, ArrayBuffer))(toLength(fin - first));\n    var viewSource = new DataView(this);\n    var viewTarget = new DataView(result);\n    var index = 0;\n    while (first < fin) {\n      viewTarget.setUint8(index++, viewSource.getUint8(first++));\n    } return result;\n  }\n});\n","'use strict';\nvar global = require('../internals/global');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-native');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefineAll = require('../internals/redefine-all');\nvar fails = require('../internals/fails');\nvar anInstance = require('../internals/an-instance');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toIndex = require('../internals/to-index');\nvar IEEE754 = require('../internals/ieee754');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar arrayFill = require('../internals/array-fill');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar DATA_VIEW = 'DataView';\nvar PROTOTYPE = 'prototype';\nvar WRONG_LENGTH = 'Wrong length';\nvar WRONG_INDEX = 'Wrong index';\nvar NativeArrayBuffer = global[ARRAY_BUFFER];\nvar $ArrayBuffer = NativeArrayBuffer;\nvar $DataView = global[DATA_VIEW];\nvar $DataViewPrototype = $DataView && $DataView[PROTOTYPE];\nvar ObjectPrototype = Object.prototype;\nvar RangeError = global.RangeError;\n\nvar packIEEE754 = IEEE754.pack;\nvar unpackIEEE754 = IEEE754.unpack;\n\nvar packInt8 = function (number) {\n  return [number & 0xFF];\n};\n\nvar packInt16 = function (number) {\n  return [number & 0xFF, number >> 8 & 0xFF];\n};\n\nvar packInt32 = function (number) {\n  return [number & 0xFF, number >> 8 & 0xFF, number >> 16 & 0xFF, number >> 24 & 0xFF];\n};\n\nvar unpackInt32 = function (buffer) {\n  return buffer[3] << 24 | buffer[2] << 16 | buffer[1] << 8 | buffer[0];\n};\n\nvar packFloat32 = function (number) {\n  return packIEEE754(number, 23, 4);\n};\n\nvar packFloat64 = function (number) {\n  return packIEEE754(number, 52, 8);\n};\n\nvar addGetter = function (Constructor, key) {\n  defineProperty(Constructor[PROTOTYPE], key, { get: function () { return getInternalState(this)[key]; } });\n};\n\nvar get = function (view, count, index, isLittleEndian) {\n  var intIndex = toIndex(index);\n  var store = getInternalState(view);\n  if (intIndex + count > store.byteLength) throw RangeError(WRONG_INDEX);\n  var bytes = getInternalState(store.buffer).bytes;\n  var start = intIndex + store.byteOffset;\n  var pack = bytes.slice(start, start + count);\n  return isLittleEndian ? pack : pack.reverse();\n};\n\nvar set = function (view, count, index, conversion, value, isLittleEndian) {\n  var intIndex = toIndex(index);\n  var store = getInternalState(view);\n  if (intIndex + count > store.byteLength) throw RangeError(WRONG_INDEX);\n  var bytes = getInternalState(store.buffer).bytes;\n  var start = intIndex + store.byteOffset;\n  var pack = conversion(+value);\n  for (var i = 0; i < count; i++) bytes[start + i] = pack[isLittleEndian ? i : count - i - 1];\n};\n\nif (!NATIVE_ARRAY_BUFFER) {\n  $ArrayBuffer = function ArrayBuffer(length) {\n    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);\n    var byteLength = toIndex(length);\n    setInternalState(this, {\n      bytes: arrayFill.call(new Array(byteLength), 0),\n      byteLength: byteLength\n    });\n    if (!DESCRIPTORS) this.byteLength = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength) {\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = getInternalState(buffer).byteLength;\n    var offset = toInteger(byteOffset);\n    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);\n    setInternalState(this, {\n      buffer: buffer,\n      byteLength: byteLength,\n      byteOffset: offset\n    });\n    if (!DESCRIPTORS) {\n      this.buffer = buffer;\n      this.byteLength = byteLength;\n      this.byteOffset = offset;\n    }\n  };\n\n  if (DESCRIPTORS) {\n    addGetter($ArrayBuffer, 'byteLength');\n    addGetter($DataView, 'buffer');\n    addGetter($DataView, 'byteLength');\n    addGetter($DataView, 'byteOffset');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset) {\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset) {\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments.length > 1 ? arguments[1] : undefined);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments.length > 1 ? arguments[1] : undefined);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /* , littleEndian */) {\n      return unpackInt32(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined));\n    },\n    getUint32: function getUint32(byteOffset /* , littleEndian */) {\n      return unpackInt32(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined)) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined), 23);\n    },\n    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 8, byteOffset, arguments.length > 1 ? arguments[1] : undefined), 52);\n    },\n    setInt8: function setInt8(byteOffset, value) {\n      set(this, 1, byteOffset, packInt8, value);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      set(this, 1, byteOffset, packInt8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packInt16, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packInt16, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packInt32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packInt32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packFloat32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {\n      set(this, 8, byteOffset, packFloat64, value, arguments.length > 2 ? arguments[2] : undefined);\n    }\n  });\n} else {\n  if (!fails(function () {\n    NativeArrayBuffer(1);\n  }) || !fails(function () {\n    new NativeArrayBuffer(-1); // eslint-disable-line no-new\n  }) || fails(function () {\n    new NativeArrayBuffer(); // eslint-disable-line no-new\n    new NativeArrayBuffer(1.5); // eslint-disable-line no-new\n    new NativeArrayBuffer(NaN); // eslint-disable-line no-new\n    return NativeArrayBuffer.name != ARRAY_BUFFER;\n  })) {\n    $ArrayBuffer = function ArrayBuffer(length) {\n      anInstance(this, $ArrayBuffer);\n      return new NativeArrayBuffer(toIndex(length));\n    };\n    var ArrayBufferPrototype = $ArrayBuffer[PROTOTYPE] = NativeArrayBuffer[PROTOTYPE];\n    for (var keys = getOwnPropertyNames(NativeArrayBuffer), j = 0, key; keys.length > j;) {\n      if (!((key = keys[j++]) in $ArrayBuffer)) {\n        createNonEnumerableProperty($ArrayBuffer, key, NativeArrayBuffer[key]);\n      }\n    }\n    ArrayBufferPrototype.constructor = $ArrayBuffer;\n  }\n\n  // WebKit bug - the same parent prototype for typed arrays and data view\n  if (setPrototypeOf && getPrototypeOf($DataViewPrototype) !== ObjectPrototype) {\n    setPrototypeOf($DataViewPrototype, ObjectPrototype);\n  }\n\n  // iOS Safari 7.x bug\n  var testView = new $DataView(new $ArrayBuffer(2));\n  var nativeSetInt8 = $DataViewPrototype.setInt8;\n  testView.setInt8(0, 2147483648);\n  testView.setInt8(1, 2147483649);\n  if (testView.getInt8(0) || !testView.getInt8(1)) redefineAll($DataViewPrototype, {\n    setInt8: function setInt8(byteOffset, value) {\n      nativeSetInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      nativeSetInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, { unsafe: true });\n}\n\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\n\nmodule.exports = {\n  ArrayBuffer: $ArrayBuffer,\n  DataView: $DataView\n};\n","module.exports = typeof ArrayBuffer !== 'undefined' && typeof DataView !== 'undefined';\n","var redefine = require('../internals/redefine');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) redefine(target, key, src[key], options);\n  return target;\n};\n","module.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n","var toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\n\n// `ToIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-toindex\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toInteger(it);\n  var length = toLength(number);\n  if (number !== length) throw RangeError('Wrong length or index');\n  return length;\n};\n","// IEEE754 conversions based on https://github.com/feross/ieee754\n// eslint-disable-next-line no-shadow-restricted-names\nvar Infinity = 1 / 0;\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar floor = Math.floor;\nvar log = Math.log;\nvar LN2 = Math.LN2;\n\nvar pack = function (number, mantissaLength, bytes) {\n  var buffer = new Array(bytes);\n  var exponentLength = bytes * 8 - mantissaLength - 1;\n  var eMax = (1 << exponentLength) - 1;\n  var eBias = eMax >> 1;\n  var rt = mantissaLength === 23 ? pow(2, -24) - pow(2, -77) : 0;\n  var sign = number < 0 || number === 0 && 1 / number < 0 ? 1 : 0;\n  var index = 0;\n  var exponent, mantissa, c;\n  number = abs(number);\n  // eslint-disable-next-line no-self-compare\n  if (number != number || number === Infinity) {\n    // eslint-disable-next-line no-self-compare\n    mantissa = number != number ? 1 : 0;\n    exponent = eMax;\n  } else {\n    exponent = floor(log(number) / LN2);\n    if (number * (c = pow(2, -exponent)) < 1) {\n      exponent--;\n      c *= 2;\n    }\n    if (exponent + eBias >= 1) {\n      number += rt / c;\n    } else {\n      number += rt * pow(2, 1 - eBias);\n    }\n    if (number * c >= 2) {\n      exponent++;\n      c /= 2;\n    }\n    if (exponent + eBias >= eMax) {\n      mantissa = 0;\n      exponent = eMax;\n    } else if (exponent + eBias >= 1) {\n      mantissa = (number * c - 1) * pow(2, mantissaLength);\n      exponent = exponent + eBias;\n    } else {\n      mantissa = number * pow(2, eBias - 1) * pow(2, mantissaLength);\n      exponent = 0;\n    }\n  }\n  for (; mantissaLength >= 8; buffer[index++] = mantissa & 255, mantissa /= 256, mantissaLength -= 8);\n  exponent = exponent << mantissaLength | mantissa;\n  exponentLength += mantissaLength;\n  for (; exponentLength > 0; buffer[index++] = exponent & 255, exponent /= 256, exponentLength -= 8);\n  buffer[--index] |= sign * 128;\n  return buffer;\n};\n\nvar unpack = function (buffer, mantissaLength) {\n  var bytes = buffer.length;\n  var exponentLength = bytes * 8 - mantissaLength - 1;\n  var eMax = (1 << exponentLength) - 1;\n  var eBias = eMax >> 1;\n  var nBits = exponentLength - 7;\n  var index = bytes - 1;\n  var sign = buffer[index--];\n  var exponent = sign & 127;\n  var mantissa;\n  sign >>= 7;\n  for (; nBits > 0; exponent = exponent * 256 + buffer[index], index--, nBits -= 8);\n  mantissa = exponent & (1 << -nBits) - 1;\n  exponent >>= -nBits;\n  nBits += mantissaLength;\n  for (; nBits > 0; mantissa = mantissa * 256 + buffer[index], index--, nBits -= 8);\n  if (exponent === 0) {\n    exponent = 1 - eBias;\n  } else if (exponent === eMax) {\n    return mantissa ? NaN : sign ? -Infinity : Infinity;\n  } else {\n    mantissa = mantissa + pow(2, mantissaLength);\n    exponent = exponent - eBias;\n  } return (sign ? -1 : 1) * mantissa * pow(2, exponent - mantissaLength);\n};\n\nmodule.exports = {\n  pack: pack,\n  unpack: unpack\n};\n","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.github.io/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar redefine = require('../internals/redefine');\nvar toString = require('../internals/object-to-string');\n\n// `Object.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  redefine(Object.prototype, 'toString', toString, { unsafe: true });\n}\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Uint8Array` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Uint8', function (init) {\n  return function Uint8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS = require('../internals/typed-array-constructors-require-wrappers');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar ArrayBufferModule = require('../internals/array-buffer');\nvar anInstance = require('../internals/an-instance');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar toLength = require('../internals/to-length');\nvar toIndex = require('../internals/to-index');\nvar toOffset = require('../internals/to-offset');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar typedArrayFrom = require('../internals/typed-array-from');\nvar forEach = require('../internals/array-iteration').forEach;\nvar setSpecies = require('../internals/set-species');\nvar definePropertyModule = require('../internals/object-define-property');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar InternalStateModule = require('../internals/internal-state');\nvar inheritIfRequired = require('../internals/inherit-if-required');\n\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar round = Math.round;\nvar RangeError = global.RangeError;\nvar ArrayBuffer = ArrayBufferModule.ArrayBuffer;\nvar DataView = ArrayBufferModule.DataView;\nvar NATIVE_ARRAY_BUFFER_VIEWS = ArrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS;\nvar TYPED_ARRAY_TAG = ArrayBufferViewCore.TYPED_ARRAY_TAG;\nvar TypedArray = ArrayBufferViewCore.TypedArray;\nvar TypedArrayPrototype = ArrayBufferViewCore.TypedArrayPrototype;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar isTypedArray = ArrayBufferViewCore.isTypedArray;\nvar BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';\nvar WRONG_LENGTH = 'Wrong length';\n\nvar fromList = function (C, list) {\n  var index = 0;\n  var length = list.length;\n  var result = new (aTypedArrayConstructor(C))(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n};\n\nvar addGetter = function (it, key) {\n  nativeDefineProperty(it, key, { get: function () {\n    return getInternalState(this)[key];\n  } });\n};\n\nvar isArrayBuffer = function (it) {\n  var klass;\n  return it instanceof ArrayBuffer || (klass = classof(it)) == 'ArrayBuffer' || klass == 'SharedArrayBuffer';\n};\n\nvar isTypedArrayIndex = function (target, key) {\n  return isTypedArray(target)\n    && typeof key != 'symbol'\n    && key in target\n    && String(+key) == String(key);\n};\n\nvar wrappedGetOwnPropertyDescriptor = function getOwnPropertyDescriptor(target, key) {\n  return isTypedArrayIndex(target, key = toPrimitive(key, true))\n    ? createPropertyDescriptor(2, target[key])\n    : nativeGetOwnPropertyDescriptor(target, key);\n};\n\nvar wrappedDefineProperty = function defineProperty(target, key, descriptor) {\n  if (isTypedArrayIndex(target, key = toPrimitive(key, true))\n    && isObject(descriptor)\n    && has(descriptor, 'value')\n    && !has(descriptor, 'get')\n    && !has(descriptor, 'set')\n    // TODO: add validation descriptor w/o calling accessors\n    && !descriptor.configurable\n    && (!has(descriptor, 'writable') || descriptor.writable)\n    && (!has(descriptor, 'enumerable') || descriptor.enumerable)\n  ) {\n    target[key] = descriptor.value;\n    return target;\n  } return nativeDefineProperty(target, key, descriptor);\n};\n\nif (DESCRIPTORS) {\n  if (!NATIVE_ARRAY_BUFFER_VIEWS) {\n    getOwnPropertyDescriptorModule.f = wrappedGetOwnPropertyDescriptor;\n    definePropertyModule.f = wrappedDefineProperty;\n    addGetter(TypedArrayPrototype, 'buffer');\n    addGetter(TypedArrayPrototype, 'byteOffset');\n    addGetter(TypedArrayPrototype, 'byteLength');\n    addGetter(TypedArrayPrototype, 'length');\n  }\n\n  $({ target: 'Object', stat: true, forced: !NATIVE_ARRAY_BUFFER_VIEWS }, {\n    getOwnPropertyDescriptor: wrappedGetOwnPropertyDescriptor,\n    defineProperty: wrappedDefineProperty\n  });\n\n  module.exports = function (TYPE, wrapper, CLAMPED) {\n    var BYTES = TYPE.match(/\\d+$/)[0] / 8;\n    var CONSTRUCTOR_NAME = TYPE + (CLAMPED ? 'Clamped' : '') + 'Array';\n    var GETTER = 'get' + TYPE;\n    var SETTER = 'set' + TYPE;\n    var NativeTypedArrayConstructor = global[CONSTRUCTOR_NAME];\n    var TypedArrayConstructor = NativeTypedArrayConstructor;\n    var TypedArrayConstructorPrototype = TypedArrayConstructor && TypedArrayConstructor.prototype;\n    var exported = {};\n\n    var getter = function (that, index) {\n      var data = getInternalState(that);\n      return data.view[GETTER](index * BYTES + data.byteOffset, true);\n    };\n\n    var setter = function (that, index, value) {\n      var data = getInternalState(that);\n      if (CLAMPED) value = (value = round(value)) < 0 ? 0 : value > 0xFF ? 0xFF : value & 0xFF;\n      data.view[SETTER](index * BYTES + data.byteOffset, value, true);\n    };\n\n    var addElement = function (that, index) {\n      nativeDefineProperty(that, index, {\n        get: function () {\n          return getter(this, index);\n        },\n        set: function (value) {\n          return setter(this, index, value);\n        },\n        enumerable: true\n      });\n    };\n\n    if (!NATIVE_ARRAY_BUFFER_VIEWS) {\n      TypedArrayConstructor = wrapper(function (that, data, offset, $length) {\n        anInstance(that, TypedArrayConstructor, CONSTRUCTOR_NAME);\n        var index = 0;\n        var byteOffset = 0;\n        var buffer, byteLength, length;\n        if (!isObject(data)) {\n          length = toIndex(data);\n          byteLength = length * BYTES;\n          buffer = new ArrayBuffer(byteLength);\n        } else if (isArrayBuffer(data)) {\n          buffer = data;\n          byteOffset = toOffset(offset, BYTES);\n          var $len = data.byteLength;\n          if ($length === undefined) {\n            if ($len % BYTES) throw RangeError(WRONG_LENGTH);\n            byteLength = $len - byteOffset;\n            if (byteLength < 0) throw RangeError(WRONG_LENGTH);\n          } else {\n            byteLength = toLength($length) * BYTES;\n            if (byteLength + byteOffset > $len) throw RangeError(WRONG_LENGTH);\n          }\n          length = byteLength / BYTES;\n        } else if (isTypedArray(data)) {\n          return fromList(TypedArrayConstructor, data);\n        } else {\n          return typedArrayFrom.call(TypedArrayConstructor, data);\n        }\n        setInternalState(that, {\n          buffer: buffer,\n          byteOffset: byteOffset,\n          byteLength: byteLength,\n          length: length,\n          view: new DataView(buffer)\n        });\n        while (index < length) addElement(that, index++);\n      });\n\n      if (setPrototypeOf) setPrototypeOf(TypedArrayConstructor, TypedArray);\n      TypedArrayConstructorPrototype = TypedArrayConstructor.prototype = create(TypedArrayPrototype);\n    } else if (TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS) {\n      TypedArrayConstructor = wrapper(function (dummy, data, typedArrayOffset, $length) {\n        anInstance(dummy, TypedArrayConstructor, CONSTRUCTOR_NAME);\n        return inheritIfRequired(function () {\n          if (!isObject(data)) return new NativeTypedArrayConstructor(toIndex(data));\n          if (isArrayBuffer(data)) return $length !== undefined\n            ? new NativeTypedArrayConstructor(data, toOffset(typedArrayOffset, BYTES), $length)\n            : typedArrayOffset !== undefined\n              ? new NativeTypedArrayConstructor(data, toOffset(typedArrayOffset, BYTES))\n              : new NativeTypedArrayConstructor(data);\n          if (isTypedArray(data)) return fromList(TypedArrayConstructor, data);\n          return typedArrayFrom.call(TypedArrayConstructor, data);\n        }(), dummy, TypedArrayConstructor);\n      });\n\n      if (setPrototypeOf) setPrototypeOf(TypedArrayConstructor, TypedArray);\n      forEach(getOwnPropertyNames(NativeTypedArrayConstructor), function (key) {\n        if (!(key in TypedArrayConstructor)) {\n          createNonEnumerableProperty(TypedArrayConstructor, key, NativeTypedArrayConstructor[key]);\n        }\n      });\n      TypedArrayConstructor.prototype = TypedArrayConstructorPrototype;\n    }\n\n    if (TypedArrayConstructorPrototype.constructor !== TypedArrayConstructor) {\n      createNonEnumerableProperty(TypedArrayConstructorPrototype, 'constructor', TypedArrayConstructor);\n    }\n\n    if (TYPED_ARRAY_TAG) {\n      createNonEnumerableProperty(TypedArrayConstructorPrototype, TYPED_ARRAY_TAG, CONSTRUCTOR_NAME);\n    }\n\n    exported[CONSTRUCTOR_NAME] = TypedArrayConstructor;\n\n    $({\n      global: true, forced: TypedArrayConstructor != NativeTypedArrayConstructor, sham: !NATIVE_ARRAY_BUFFER_VIEWS\n    }, exported);\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayConstructor)) {\n      createNonEnumerableProperty(TypedArrayConstructor, BYTES_PER_ELEMENT, BYTES);\n    }\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayConstructorPrototype)) {\n      createNonEnumerableProperty(TypedArrayConstructorPrototype, BYTES_PER_ELEMENT, BYTES);\n    }\n\n    setSpecies(CONSTRUCTOR_NAME);\n  };\n} else module.exports = function () { /* empty */ };\n","/* eslint-disable no-new */\nvar global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar NATIVE_ARRAY_BUFFER_VIEWS = require('../internals/array-buffer-view-core').NATIVE_ARRAY_BUFFER_VIEWS;\n\nvar ArrayBuffer = global.ArrayBuffer;\nvar Int8Array = global.Int8Array;\n\nmodule.exports = !NATIVE_ARRAY_BUFFER_VIEWS || !fails(function () {\n  Int8Array(1);\n}) || !fails(function () {\n  new Int8Array(-1);\n}) || !checkCorrectnessOfIteration(function (iterable) {\n  new Int8Array();\n  new Int8Array(null);\n  new Int8Array(1.5);\n  new Int8Array(iterable);\n}, true) || fails(function () {\n  // Safari (11+) bug - a reason why even Safari 13 should load a typed array polyfill\n  return new Int8Array(new ArrayBuffer(2), 1, undefined).length !== 1;\n});\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","'use strict';\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-native');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar uid = require('../internals/uid');\n\nvar Int8Array = global.Int8Array;\nvar Int8ArrayPrototype = Int8Array && Int8Array.prototype;\nvar Uint8ClampedArray = global.Uint8ClampedArray;\nvar Uint8ClampedArrayPrototype = Uint8ClampedArray && Uint8ClampedArray.prototype;\nvar TypedArray = Int8Array && getPrototypeOf(Int8Array);\nvar TypedArrayPrototype = Int8ArrayPrototype && getPrototypeOf(Int8ArrayPrototype);\nvar ObjectPrototype = Object.prototype;\nvar isPrototypeOf = ObjectPrototype.isPrototypeOf;\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar TYPED_ARRAY_TAG = uid('TYPED_ARRAY_TAG');\n// Fixing native typed arrays in Opera Presto crashes the browser, see #595\nvar NATIVE_ARRAY_BUFFER_VIEWS = NATIVE_ARRAY_BUFFER && !!setPrototypeOf && classof(global.opera) !== 'Opera';\nvar TYPED_ARRAY_TAG_REQIRED = false;\nvar NAME;\n\nvar TypedArrayConstructorsList = {\n  Int8Array: 1,\n  Uint8Array: 1,\n  Uint8ClampedArray: 1,\n  Int16Array: 2,\n  Uint16Array: 2,\n  Int32Array: 4,\n  Uint32Array: 4,\n  Float32Array: 4,\n  Float64Array: 8\n};\n\nvar isView = function isView(it) {\n  var klass = classof(it);\n  return klass === 'DataView' || has(TypedArrayConstructorsList, klass);\n};\n\nvar isTypedArray = function (it) {\n  return isObject(it) && has(TypedArrayConstructorsList, classof(it));\n};\n\nvar aTypedArray = function (it) {\n  if (isTypedArray(it)) return it;\n  throw TypeError('Target is not a typed array');\n};\n\nvar aTypedArrayConstructor = function (C) {\n  if (setPrototypeOf) {\n    if (isPrototypeOf.call(TypedArray, C)) return C;\n  } else for (var ARRAY in TypedArrayConstructorsList) if (has(TypedArrayConstructorsList, NAME)) {\n    var TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && (C === TypedArrayConstructor || isPrototypeOf.call(TypedArrayConstructor, C))) {\n      return C;\n    }\n  } throw TypeError('Target is not a typed array constructor');\n};\n\nvar exportTypedArrayMethod = function (KEY, property, forced) {\n  if (!DESCRIPTORS) return;\n  if (forced) for (var ARRAY in TypedArrayConstructorsList) {\n    var TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && has(TypedArrayConstructor.prototype, KEY)) {\n      delete TypedArrayConstructor.prototype[KEY];\n    }\n  }\n  if (!TypedArrayPrototype[KEY] || forced) {\n    redefine(TypedArrayPrototype, KEY, forced ? property\n      : NATIVE_ARRAY_BUFFER_VIEWS && Int8ArrayPrototype[KEY] || property);\n  }\n};\n\nvar exportTypedArrayStaticMethod = function (KEY, property, forced) {\n  var ARRAY, TypedArrayConstructor;\n  if (!DESCRIPTORS) return;\n  if (setPrototypeOf) {\n    if (forced) for (ARRAY in TypedArrayConstructorsList) {\n      TypedArrayConstructor = global[ARRAY];\n      if (TypedArrayConstructor && has(TypedArrayConstructor, KEY)) {\n        delete TypedArrayConstructor[KEY];\n      }\n    }\n    if (!TypedArray[KEY] || forced) {\n      // V8 ~ Chrome 49-50 `%TypedArray%` methods are non-writable non-configurable\n      try {\n        return redefine(TypedArray, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS && Int8Array[KEY] || property);\n      } catch (error) { /* empty */ }\n    } else return;\n  }\n  for (ARRAY in TypedArrayConstructorsList) {\n    TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && (!TypedArrayConstructor[KEY] || forced)) {\n      redefine(TypedArrayConstructor, KEY, property);\n    }\n  }\n};\n\nfor (NAME in TypedArrayConstructorsList) {\n  if (!global[NAME]) NATIVE_ARRAY_BUFFER_VIEWS = false;\n}\n\n// WebKit bug - typed arrays constructors prototype is Object.prototype\nif (!NATIVE_ARRAY_BUFFER_VIEWS || typeof TypedArray != 'function' || TypedArray === Function.prototype) {\n  // eslint-disable-next-line no-shadow\n  TypedArray = function TypedArray() {\n    throw TypeError('Incorrect invocation');\n  };\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME], TypedArray);\n  }\n}\n\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !TypedArrayPrototype || TypedArrayPrototype === ObjectPrototype) {\n  TypedArrayPrototype = TypedArray.prototype;\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME].prototype, TypedArrayPrototype);\n  }\n}\n\n// WebKit bug - one more object in Uint8ClampedArray prototype chain\nif (NATIVE_ARRAY_BUFFER_VIEWS && getPrototypeOf(Uint8ClampedArrayPrototype) !== TypedArrayPrototype) {\n  setPrototypeOf(Uint8ClampedArrayPrototype, TypedArrayPrototype);\n}\n\nif (DESCRIPTORS && !has(TypedArrayPrototype, TO_STRING_TAG)) {\n  TYPED_ARRAY_TAG_REQIRED = true;\n  defineProperty(TypedArrayPrototype, TO_STRING_TAG, { get: function () {\n    return isObject(this) ? this[TYPED_ARRAY_TAG] : undefined;\n  } });\n  for (NAME in TypedArrayConstructorsList) if (global[NAME]) {\n    createNonEnumerableProperty(global[NAME], TYPED_ARRAY_TAG, NAME);\n  }\n}\n\nmodule.exports = {\n  NATIVE_ARRAY_BUFFER_VIEWS: NATIVE_ARRAY_BUFFER_VIEWS,\n  TYPED_ARRAY_TAG: TYPED_ARRAY_TAG_REQIRED && TYPED_ARRAY_TAG,\n  aTypedArray: aTypedArray,\n  aTypedArrayConstructor: aTypedArrayConstructor,\n  exportTypedArrayMethod: exportTypedArrayMethod,\n  exportTypedArrayStaticMethod: exportTypedArrayStaticMethod,\n  isView: isView,\n  isTypedArray: isTypedArray,\n  TypedArray: TypedArray,\n  TypedArrayPrototype: TypedArrayPrototype\n};\n","var toPositiveInteger = require('../internals/to-positive-integer');\n\nmodule.exports = function (it, BYTES) {\n  var offset = toPositiveInteger(it);\n  if (offset % BYTES) throw RangeError('Wrong offset');\n  return offset;\n};\n","var toInteger = require('../internals/to-integer');\n\nmodule.exports = function (it) {\n  var result = toInteger(it);\n  if (result < 0) throw RangeError(\"The argument can't be less than 0\");\n  return result;\n};\n","var toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar bind = require('../internals/function-bind-context');\nvar aTypedArrayConstructor = require('../internals/array-buffer-view-core').aTypedArrayConstructor;\n\nmodule.exports = function from(source /* , mapfn, thisArg */) {\n  var O = toObject(source);\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var i, length, result, step, iterator, next;\n  if (iteratorMethod != undefined && !isArrayIteratorMethod(iteratorMethod)) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    O = [];\n    while (!(step = next.call(iterator)).done) {\n      O.push(step.value);\n    }\n  }\n  if (mapping && argumentsLength > 2) {\n    mapfn = bind(mapfn, arguments[2], 2);\n  }\n  length = toLength(O.length);\n  result = new (aTypedArrayConstructor(this))(length);\n  for (i = 0; length > i; i++) {\n    result[i] = mapping ? mapfn(O[i], i) : O[i];\n  }\n  return result;\n};\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else if (IS_EVERY) return false;  // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6)\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $copyWithin = require('../internals/array-copy-within');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.copyWithin` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.copywithin\nexportTypedArrayMethod('copyWithin', function copyWithin(target, start /* , end */) {\n  return $copyWithin.call(aTypedArray(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n});\n","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\nvar min = Math.min;\n\n// `Array.prototype.copyWithin` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.copywithin\nmodule.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {\n  var O = toObject(this);\n  var len = toLength(O.length);\n  var to = toAbsoluteIndex(target, len);\n  var from = toAbsoluteIndex(start, len);\n  var end = arguments.length > 2 ? arguments[2] : undefined;\n  var count = min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);\n  var inc = 1;\n  if (from < to && to < from + count) {\n    inc = -1;\n    from += count - 1;\n    to += count - 1;\n  }\n  while (count-- > 0) {\n    if (from in O) O[to] = O[from];\n    else delete O[to];\n    to += inc;\n    from += inc;\n  } return O;\n};\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $every = require('../internals/array-iteration').every;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.every` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.every\nexportTypedArrayMethod('every', function every(callbackfn /* , thisArg */) {\n  return $every(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $fill = require('../internals/array-fill');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.fill\n// eslint-disable-next-line no-unused-vars\nexportTypedArrayMethod('fill', function fill(value /* , start, end */) {\n  return $fill.apply(aTypedArray(this), arguments);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $filter = require('../internals/array-iteration').filter;\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.filter\nexportTypedArrayMethod('filter', function filter(callbackfn /* , thisArg */) {\n  var list = $filter(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  var C = speciesConstructor(this, this.constructor);\n  var index = 0;\n  var length = list.length;\n  var result = new (aTypedArrayConstructor(C))(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $find = require('../internals/array-iteration').find;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.find\nexportTypedArrayMethod('find', function find(predicate /* , thisArg */) {\n  return $find(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $findIndex = require('../internals/array-iteration').findIndex;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.findIndex` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.findindex\nexportTypedArrayMethod('findIndex', function findIndex(predicate /* , thisArg */) {\n  return $findIndex(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.foreach\nexportTypedArrayMethod('forEach', function forEach(callbackfn /* , thisArg */) {\n  $forEach(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $includes = require('../internals/array-includes').includes;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.includes\nexportTypedArrayMethod('includes', function includes(searchElement /* , fromIndex */) {\n  return $includes(aTypedArray(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $indexOf = require('../internals/array-includes').indexOf;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.indexof\nexportTypedArrayMethod('indexOf', function indexOf(searchElement /* , fromIndex */) {\n  return $indexOf(aTypedArray(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar global = require('../internals/global');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar ArrayIterators = require('../modules/es.array.iterator');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar Uint8Array = global.Uint8Array;\nvar arrayValues = ArrayIterators.values;\nvar arrayKeys = ArrayIterators.keys;\nvar arrayEntries = ArrayIterators.entries;\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar nativeTypedArrayIterator = Uint8Array && Uint8Array.prototype[ITERATOR];\n\nvar CORRECT_ITER_NAME = !!nativeTypedArrayIterator\n  && (nativeTypedArrayIterator.name == 'values' || nativeTypedArrayIterator.name == undefined);\n\nvar typedArrayValues = function values() {\n  return arrayValues.call(aTypedArray(this));\n};\n\n// `%TypedArray%.prototype.entries` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.entries\nexportTypedArrayMethod('entries', function entries() {\n  return arrayEntries.call(aTypedArray(this));\n});\n// `%TypedArray%.prototype.keys` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.keys\nexportTypedArrayMethod('keys', function keys() {\n  return arrayKeys.call(aTypedArray(this));\n});\n// `%TypedArray%.prototype.values` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.values\nexportTypedArrayMethod('values', typedArrayValues, !CORRECT_ITER_NAME);\n// `%TypedArray%.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype-@@iterator\nexportTypedArrayMethod(ITERATOR, typedArrayValues, !CORRECT_ITER_NAME);\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $join = [].join;\n\n// `%TypedArray%.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.join\n// eslint-disable-next-line no-unused-vars\nexportTypedArrayMethod('join', function join(separator) {\n  return $join.apply(aTypedArray(this), arguments);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $lastIndexOf = require('../internals/array-last-index-of');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.lastIndexOf` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.lastindexof\n// eslint-disable-next-line no-unused-vars\nexportTypedArrayMethod('lastIndexOf', function lastIndexOf(searchElement /* , fromIndex */) {\n  return $lastIndexOf.apply(aTypedArray(this), arguments);\n});\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar min = Math.min;\nvar nativeLastIndexOf = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!nativeLastIndexOf && 1 / [1].lastIndexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('lastIndexOf');\n// For preventing possible almost infinite loop in non-standard implementations, test the forward version of the method\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\nvar FORCED = NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH;\n\n// `Array.prototype.lastIndexOf` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.lastindexof\nmodule.exports = FORCED ? function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n  // convert -0 to +0\n  if (NEGATIVE_ZERO) return nativeLastIndexOf.apply(this, arguments) || 0;\n  var O = toIndexedObject(this);\n  var length = toLength(O.length);\n  var index = length - 1;\n  if (arguments.length > 1) index = min(index, toInteger(arguments[1]));\n  if (index < 0) index = length + index;\n  for (;index >= 0; index--) if (index in O && O[index] === searchElement) return index || 0;\n  return -1;\n} : nativeLastIndexOf;\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\n\nvar defineProperty = Object.defineProperty;\nvar cache = {};\n\nvar thrower = function (it) { throw it; };\n\nmodule.exports = function (METHOD_NAME, options) {\n  if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n  if (!options) options = {};\n  var method = [][METHOD_NAME];\n  var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n  var argument0 = has(options, 0) ? options[0] : thrower;\n  var argument1 = has(options, 1) ? options[1] : undefined;\n\n  return cache[METHOD_NAME] = !!method && !fails(function () {\n    if (ACCESSORS && !DESCRIPTORS) return true;\n    var O = { length: -1 };\n\n    if (ACCESSORS) defineProperty(O, 1, { enumerable: true, get: thrower });\n    else O[1] = 1;\n\n    method.call(O, argument0, argument1);\n  });\n};\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $map = require('../internals/array-iteration').map;\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.map\nexportTypedArrayMethod('map', function map(mapfn /* , thisArg */) {\n  return $map(aTypedArray(this), mapfn, arguments.length > 1 ? arguments[1] : undefined, function (O, length) {\n    return new (aTypedArrayConstructor(speciesConstructor(O, O.constructor)))(length);\n  });\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $reduce = require('../internals/array-reduce').left;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.reduce\nexportTypedArrayMethod('reduce', function reduce(callbackfn /* , initialValue */) {\n  return $reduce(aTypedArray(this), callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n});\n","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $reduceRight = require('../internals/array-reduce').right;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.reduceRicht` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.reduceright\nexportTypedArrayMethod('reduceRight', function reduceRight(callbackfn /* , initialValue */) {\n  return $reduceRight(aTypedArray(this), callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar floor = Math.floor;\n\n// `%TypedArray%.prototype.reverse` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.reverse\nexportTypedArrayMethod('reverse', function reverse() {\n  var that = this;\n  var length = aTypedArray(that).length;\n  var middle = floor(length / 2);\n  var index = 0;\n  var value;\n  while (index < middle) {\n    value = that[index];\n    that[index++] = that[--length];\n    that[length] = value;\n  } return that;\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar toLength = require('../internals/to-length');\nvar toOffset = require('../internals/to-offset');\nvar toObject = require('../internals/to-object');\nvar fails = require('../internals/fails');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\nvar FORCED = fails(function () {\n  // eslint-disable-next-line no-undef\n  new Int8Array(1).set({});\n});\n\n// `%TypedArray%.prototype.set` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.set\nexportTypedArrayMethod('set', function set(arrayLike /* , offset */) {\n  aTypedArray(this);\n  var offset = toOffset(arguments.length > 1 ? arguments[1] : undefined, 1);\n  var length = this.length;\n  var src = toObject(arrayLike);\n  var len = toLength(src.length);\n  var index = 0;\n  if (len + offset > length) throw RangeError('Wrong length');\n  while (index < len) this[offset + index] = src[index++];\n}, FORCED);\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar speciesConstructor = require('../internals/species-constructor');\nvar fails = require('../internals/fails');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $slice = [].slice;\n\nvar FORCED = fails(function () {\n  // eslint-disable-next-line no-undef\n  new Int8Array(1).slice();\n});\n\n// `%TypedArray%.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.slice\nexportTypedArrayMethod('slice', function slice(start, end) {\n  var list = $slice.call(aTypedArray(this), start, end);\n  var C = speciesConstructor(this, this.constructor);\n  var index = 0;\n  var length = list.length;\n  var result = new (aTypedArrayConstructor(C))(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n}, FORCED);\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $some = require('../internals/array-iteration').some;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.some` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.some\nexportTypedArrayMethod('some', function some(callbackfn /* , thisArg */) {\n  return $some(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $sort = [].sort;\n\n// `%TypedArray%.prototype.sort` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.sort\nexportTypedArrayMethod('sort', function sort(comparefn) {\n  return $sort.call(aTypedArray(this), comparefn);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.subarray` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.subarray\nexportTypedArrayMethod('subarray', function subarray(begin, end) {\n  var O = aTypedArray(this);\n  var length = O.length;\n  var beginIndex = toAbsoluteIndex(begin, length);\n  return new (speciesConstructor(O, O.constructor))(\n    O.buffer,\n    O.byteOffset + beginIndex * O.BYTES_PER_ELEMENT,\n    toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - beginIndex)\n  );\n});\n","'use strict';\nvar global = require('../internals/global');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar fails = require('../internals/fails');\n\nvar Int8Array = global.Int8Array;\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $toLocaleString = [].toLocaleString;\nvar $slice = [].slice;\n\n// iOS Safari 6.x fails here\nvar TO_LOCALE_STRING_BUG = !!Int8Array && fails(function () {\n  $toLocaleString.call(new Int8Array(1));\n});\n\nvar FORCED = fails(function () {\n  return [1, 2].toLocaleString() != new Int8Array([1, 2]).toLocaleString();\n}) || !fails(function () {\n  Int8Array.prototype.toLocaleString.call([1, 2]);\n});\n\n// `%TypedArray%.prototype.toLocaleString` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.tolocalestring\nexportTypedArrayMethod('toLocaleString', function toLocaleString() {\n  return $toLocaleString.apply(TO_LOCALE_STRING_BUG ? $slice.call(aTypedArray(this)) : aTypedArray(this), arguments);\n}, FORCED);\n","'use strict';\nvar exportTypedArrayMethod = require('../internals/array-buffer-view-core').exportTypedArrayMethod;\nvar fails = require('../internals/fails');\nvar global = require('../internals/global');\n\nvar Uint8Array = global.Uint8Array;\nvar Uint8ArrayPrototype = Uint8Array && Uint8Array.prototype || {};\nvar arrayToString = [].toString;\nvar arrayJoin = [].join;\n\nif (fails(function () { arrayToString.call({}); })) {\n  arrayToString = function toString() {\n    return arrayJoin.call(this);\n  };\n}\n\nvar IS_NOT_ARRAY_METHOD = Uint8ArrayPrototype.toString != arrayToString;\n\n// `%TypedArray%.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-%typedarray%.prototype.tostring\nexportTypedArrayMethod('toString', arrayToString, IS_NOT_ARRAY_METHOD);\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","/**\n * @file: logger.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\n/**\n * utils - logger\n */\n/* global WorkerGlobalScope */\nimport global from './global';\nimport EventEmitter from './event-emitter';\n\nlet console = global.console;\nconst isWorker =\n\ttypeof WorkerGlobalScope !== 'undefined' &&\n\tself instanceof WorkerGlobalScope &&\n\ttypeof importScripts != 'undefined';\nconst prefix = '>>>';\n\nclass Logger extends EventEmitter {\n\tget enable() {\n\t\treturn this._enable;\n\t}\n\n\tset enable(value) {\n\t\tthis._enable = value;\n\n\t\tthis.MSG_NAME = '__log__';\n\t}\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis._enable = false;\n\t}\n\n\tlog() {\n\t\tif (isWorker) {\n\t\t\tlogger.emit(this.MSG_NAME, 'log', [...arguments].join(''));\n\t\t} else {\n\t\t\tif (this._enable) {\n\t\t\t\tconsole.log.call(console, prefix, ...arguments);\n\t\t\t}\n\t\t}\n\t}\n\n\tdebug() {\n\t\tif (isWorker) {\n\t\t\tlogger.emit(this.MSG_NAME, 'debug', [...arguments].join(''));\n\t\t} else {\n\t\t\tif (this._enable && console.debug) {\n\t\t\t\tconsole.debug.call(console, prefix, ...arguments);\n\t\t\t}\n\t\t}\n\t}\n\n\tassert() {\n\t\tif (this._enable && console.assert) {\n\t\t\tlet condition = arguments[0];\n\t\t\tlet sliceArgs = Array.prototype.slice.call(arguments, 1);\n\t\t\tsliceArgs.unshift(prefix);\n\n\t\t\tconsole.assert.call(console, condition, ...sliceArgs);\n\t\t}\n\t}\n\n\twarn() {\n\t\tif (isWorker) {\n\t\t\tlogger.emit(this.MSG_NAME, 'warn', [...arguments].join(''));\n\t\t} else {\n\t\t\tif (this._enable) {\n\t\t\t\tconsole.warn.call(console, prefix, ...arguments);\n\t\t\t}\n\t\t}\n\t}\n\n\terror() {\n\t\tif (isWorker) {\n\t\t\tlogger.emit(this.MSG_NAME, 'error', [...arguments].join(''));\n\t\t} else {\n\t\t\tif (this._enable) {\n\t\t\t\tconsole.error.call(console, prefix, ...arguments);\n\t\t\t}\n\t\t}\n\t}\n}\n\nlet logger = new Logger();\n\n/**\n * @param {Object} obj - custom logger\n */\nexport function setLogger(obj) {\n\tconsole = obj;\n}\n\nexport function getLogger() {\n\treturn logger;\n}\n\nexport default logger;\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","/**\n * @file: global.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\n/**\n * @description provide global scope.\n */\n\nlet global;\n\n// see https://stackoverflow.com/a/11237259/589493\nif (typeof window === 'undefined') {\n\t/* eslint-disable-next-line no-undef */\n\tglobal = self;\n} else {\n\tglobal = window;\n}\n\nexport default global;\n","/**\n * @copyright https://github.com/nodejs/node/blob/master/lib/events.js\n */\n/* eslint-disable */\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar objectCreate = Object.create || objectCreatePolyfill;\nvar objectKeys = Object.keys || objectKeysPolyfill;\nvar bind = Function.prototype.bind || functionBindPolyfill;\n\n// By default Dispatchers will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nlet defaultMaxListeners = 10;\n\nexport default class EventEmitter {\n\tstatic listenerCount(emitter, type) {\n\t\tif (typeof emitter.listenerCount === 'function') {\n\t\t\treturn emitter.listenerCount(type);\n\t\t} else {\n\t\t\treturn listenerCount.call(emitter, type);\n\t\t}\n\t}\n\n\tconstructor() {\n\t\tif (!this._events || !Object.prototype.hasOwnProperty.call(this, '_events')) {\n\t\t\tthis._events = objectCreate(null);\n\t\t\tthis._eventsCount = 0;\n\t\t}\n\n\t\tthis._maxListeners = this._maxListeners || undefined;\n\t}\n\n\t// // Obviously not all Emitters should be limited to 10. This function allows\n\t// // that to be increased. Set to zero for unlimited.\n\t// setMaxListeners(n) {\n\t//     if (typeof n !== 'number' || n < 0 || isNaN(n))\n\t//         throw new TypeError('\"n\" argument must be a positive number');\n\t//     this._maxListeners = n;\n\t//     return this;\n\t// }\n\t//\n\t// getMaxListeners() {\n\t//     return $getMaxListeners(this);\n\t// }\n\n\temit(type) {\n\t\tvar er, handler, len, args, i, events;\n\t\tvar doError = type === 'error';\n\n\t\tevents = this._events;\n\t\tif (events) doError = doError && events.error == null;\n\t\telse if (!doError) return false;\n\n\t\t// If there is no 'error' event listener then throw.\n\t\tif (doError) {\n\t\t\tif (arguments.length > 1) er = arguments[1];\n\t\t\tif (er instanceof Error) {\n\t\t\t\tthrow er; // Unhandled 'error' event\n\t\t\t} else {\n\t\t\t\t// At least give some kind of context to the user\n\t\t\t\tvar err = new Error('Unhandled \"error\" event. (' + er + ')');\n\t\t\t\terr.context = er;\n\t\t\t\tthrow err;\n\t\t\t}\n\t\t}\n\n\t\thandler = events[type];\n\n\t\tif (!handler) return false;\n\n\t\tvar isFn = typeof handler === 'function';\n\t\tlen = arguments.length;\n\t\tswitch (len) {\n\t\t\t// fast cases\n\t\t\tcase 1:\n\t\t\t\temitNone(handler, isFn, this);\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\temitOne(handler, isFn, this, arguments[1]);\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\temitTwo(handler, isFn, this, arguments[1], arguments[2]);\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\temitThree(handler, isFn, this, arguments[1], arguments[2], arguments[3]);\n\t\t\t\tbreak;\n\t\t\t// slower\n\t\t\tdefault:\n\t\t\t\targs = new Array(len - 1);\n\t\t\t\tfor (i = 1; i < len; i++) args[i - 1] = arguments[i];\n\t\t\t\temitMany(handler, isFn, this, args);\n\t\t}\n\n\t\treturn true;\n\t}\n\n\ton(type, listener) {\n\t\treturn _addListener(this, type, listener, false);\n\t}\n\n\tonce(type, listener) {\n\t\tif (typeof listener !== 'function') throw new TypeError('\"listener\" argument must be a function');\n\t\tthis.on(type, _onceWrap(this, type, listener));\n\t\treturn this;\n\t}\n\n\toff(type, listener) {\n\t\treturn _removeListener.call(this, type, listener);\n\t}\n\n\tremoveAllListeners(type) {\n\t\tvar listeners, events, i;\n\n\t\tevents = this._events;\n\t\tif (!events) return this;\n\n\t\t// not listening for off, no need to emit\n\t\tif (!events.off) {\n\t\t\tif (arguments.length === 0) {\n\t\t\t\tthis._events = objectCreate(null);\n\t\t\t\tthis._eventsCount = 0;\n\t\t\t} else if (events[type]) {\n\t\t\t\tif (--this._eventsCount === 0) this._events = objectCreate(null);\n\t\t\t\telse delete events[type];\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\n\t\t// emit off for all listeners on all events\n\t\tif (arguments.length === 0) {\n\t\t\tvar keys = objectKeys(events);\n\t\t\tvar key;\n\t\t\tfor (i = 0; i < keys.length; ++i) {\n\t\t\t\tkey = keys[i];\n\t\t\t\tif (key === 'off') continue;\n\t\t\t\tthis.removeAllListeners(key);\n\t\t\t}\n\t\t\tthis.removeAllListeners('off');\n\t\t\tthis._events = objectCreate(null);\n\t\t\tthis._eventsCount = 0;\n\t\t\treturn this;\n\t\t}\n\n\t\tlisteners = events[type];\n\n\t\tif (typeof listeners === 'function') {\n\t\t\tthis.off(type, listeners);\n\t\t} else if (listeners) {\n\t\t\t// LIFO order\n\t\t\tfor (i = listeners.length - 1; i >= 0; i--) {\n\t\t\t\tthis.off(type, listeners[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tlisteners(type) {\n\t\treturn _listeners(this, type, true);\n\t}\n\n\trawListeners(type) {\n\t\treturn _listeners(this, type, false);\n\t}\n\n\tlistenerCount() {\n\t\treturn EventEmitter.listenerCount.apply(this, arguments);\n\t}\n}\n\nlet hasDefineProperty;\ntry {\n\tvar o = {};\n\tif (Object.defineProperty) Object.defineProperty(o, 'x', {value: 0});\n\thasDefineProperty = o.x === 0;\n} catch (err) {\n\thasDefineProperty = false;\n}\nif (hasDefineProperty) {\n\tObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n\t\tenumerable: true,\n\t\tget: function() {\n\t\t\treturn defaultMaxListeners;\n\t\t},\n\t\tset: function(arg) {\n\t\t\t// check whether the input is a positive number (whose value is zero or\n\t\t\t// greater and not a NaN).\n\t\t\tif (typeof arg !== 'number' || arg < 0 || arg !== arg)\n\t\t\t\tthrow new TypeError('\"defaultMaxListeners\" must be a positive number');\n\t\t\tdefaultMaxListeners = arg;\n\t\t}\n\t});\n} else {\n\tEventEmitter.defaultMaxListeners = defaultMaxListeners;\n}\n\nfunction $getMaxListeners(that) {\n\tif (that._maxListeners === undefined) return EventEmitter.defaultMaxListeners;\n\treturn that._maxListeners;\n}\n\n// These standalone emit* functions are used to optimize calling of event\n// handlers for fast cases because emit() itself often has a variable number of\n// arguments and can be deoptimized because of that. These functions always have\n// the same number of arguments and thus do not get deoptimized, so the code\n// inside them can execute faster.\nfunction emitNone(handler, isFn, self) {\n\tif (isFn) handler.call(self);\n\telse {\n\t\tvar len = handler.length;\n\t\tvar listeners = arrayClone(handler, len);\n\t\tfor (var i = 0; i < len; ++i) {\n\t\t\ttry {\n\t\t\t\tlisteners[i].call(self);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error(e);\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction emitOne(handler, isFn, self, arg1) {\n\tif (isFn) handler.call(self, arg1);\n\telse {\n\t\tvar len = handler.length;\n\t\tvar listeners = arrayClone(handler, len);\n\t\tfor (var i = 0; i < len; ++i) {\n\t\t\ttry {\n\t\t\t\tlisteners[i].call(self, arg1);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error(e);\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction emitTwo(handler, isFn, self, arg1, arg2) {\n\tif (isFn) handler.call(self, arg1, arg2);\n\telse {\n\t\tvar len = handler.length;\n\t\tvar listeners = arrayClone(handler, len);\n\t\tfor (var i = 0; i < len; ++i) {\n\t\t\ttry {\n\t\t\t\tlisteners[i].call(self, arg1, arg2);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error(e);\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction emitThree(handler, isFn, self, arg1, arg2, arg3) {\n\tif (isFn) handler.call(self, arg1, arg2, arg3);\n\telse {\n\t\tvar len = handler.length;\n\t\tvar listeners = arrayClone(handler, len);\n\t\tfor (var i = 0; i < len; ++i) {\n\t\t\ttry {\n\t\t\t\tlisteners[i].call(self, arg1, arg2, arg3);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error(e);\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction emitMany(handler, isFn, self, args) {\n\tif (isFn) handler.apply(self, args);\n\telse {\n\t\tvar len = handler.length;\n\t\tvar listeners = arrayClone(handler, len);\n\t\tfor (var i = 0; i < len; ++i) {\n\t\t\ttry {\n\t\t\t\tlisteners[i].apply(self, args);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error(e);\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction _addListener(target, type, listener) {\n\tvar m;\n\tvar events;\n\tvar existing;\n\n\tif (typeof listener !== 'function') throw new TypeError('\"listener\" argument must be a function');\n\n\tevents = target._events;\n\tif (!events) {\n\t\tevents = target._events = objectCreate(null);\n\t\ttarget._eventsCount = 0;\n\t} else {\n\t\t// To avoid recursion in the case that type === \"newListener\"! Before\n\t\t// adding it to the listeners, first emit \"newListener\".\n\t\tif (events.newListener) {\n\t\t\ttarget.emit('newListener', type, listener.listener ? listener.listener : listener);\n\n\t\t\t// Re-assign `events` because a newListener handler could have caused the\n\t\t\t// this._events to be assigned to a new object\n\t\t\tevents = target._events;\n\t\t}\n\t\texisting = events[type];\n\t}\n\n\tif (!existing) {\n\t\t// Optimize the case of one listener. Don't need the extra array object.\n\t\texisting = events[type] = listener;\n\t\t++target._eventsCount;\n\t} else {\n\t\tif (typeof existing === 'function') {\n\t\t\t// Adding the second element, need to change to array.\n\t\t\texisting = events[type] = [existing, listener];\n\t\t} else {\n\t\t\texisting.push(listener);\n\t\t}\n\n\t\t// Check for listener leak\n\t\tif (!existing.warned) {\n\t\t\tm = $getMaxListeners(target);\n\t\t\tif (m && m > 0 && existing.length > m) {\n\t\t\t\texisting.warned = true;\n\t\t\t\tvar w = new Error(\n\t\t\t\t\t'Possible Dispatcher memory leak detected. ' +\n\t\t\t\t\t\texisting.length +\n\t\t\t\t\t\t' \"' +\n\t\t\t\t\t\tString(type) +\n\t\t\t\t\t\t'\" listeners ' +\n\t\t\t\t\t\t'added. Use emitter.setMaxListeners() to ' +\n\t\t\t\t\t\t'increase limit.'\n\t\t\t\t);\n\t\t\t\tw.name = 'MaxListenersExceededWarning';\n\t\t\t\tw.emitter = target;\n\t\t\t\tw.type = type;\n\t\t\t\tw.count = existing.length;\n\t\t\t\tif (typeof console === 'object' && console.warn) {\n\t\t\t\t\tconsole.warn('%s: %s', w.name, w.message);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn target;\n}\n\nfunction _removeListener(type, listener) {\n\tvar list, events, position, i, originalListener;\n\n\tif (typeof listener !== 'function') throw new TypeError('\"listener\" argument must be a function');\n\n\tevents = this._events;\n\tif (!events) return this;\n\n\tlist = events[type];\n\tif (!list) return this;\n\n\tif (list === listener || list.listener === listener) {\n\t\tif (--this._eventsCount === 0) this._events = objectCreate(null);\n\t\telse {\n\t\t\tdelete events[type];\n\t\t\tif (events.off) this.emit('off', type, list.listener || listener);\n\t\t}\n\t} else if (typeof list !== 'function') {\n\t\tposition = -1;\n\n\t\tfor (i = list.length - 1; i >= 0; i--) {\n\t\t\tif (list[i] === listener || list[i].listener === listener) {\n\t\t\t\toriginalListener = list[i].listener;\n\t\t\t\tposition = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (position < 0) return this;\n\n\t\tif (position === 0) list.shift();\n\t\telse spliceOne(list, position);\n\n\t\tif (list.length === 1) events[type] = list[0];\n\n\t\tif (events.off) this.emit('off', type, originalListener || listener);\n\t}\n\n\treturn this;\n}\n\nfunction onceWrapper() {\n\tif (!this.fired) {\n\t\tthis.target.off(this.type, this.wrapFn);\n\t\tthis.fired = true;\n\t\tswitch (arguments.length) {\n\t\t\tcase 0:\n\t\t\t\treturn this.listener.call(this.target);\n\t\t\tcase 1:\n\t\t\t\treturn this.listener.call(this.target, arguments[0]);\n\t\t\tcase 2:\n\t\t\t\treturn this.listener.call(this.target, arguments[0], arguments[1]);\n\t\t\tcase 3:\n\t\t\t\treturn this.listener.call(this.target, arguments[0], arguments[1], arguments[2]);\n\t\t\tdefault:\n\t\t\t\tvar args = new Array(arguments.length);\n\t\t\t\tfor (var i = 0; i < args.length; ++i) args[i] = arguments[i];\n\t\t\t\tthis.listener.apply(this.target, args);\n\t\t}\n\t}\n}\n\nfunction _onceWrap(target, type, listener) {\n\tvar state = {fired: false, wrapFn: undefined, target: target, type: type, listener: listener};\n\tvar wrapped = bind.call(onceWrapper, state);\n\twrapped.listener = listener;\n\tstate.wrapFn = wrapped;\n\treturn wrapped;\n}\n\nfunction _listeners(target, type, unwrap) {\n\tvar events = target._events;\n\n\tif (!events) return [];\n\n\tvar evlistener = events[type];\n\tif (!evlistener) return [];\n\n\tif (typeof evlistener === 'function') return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n\treturn unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nfunction listenerCount(type) {\n\tvar events = this._events;\n\n\tif (events) {\n\t\tvar evlistener = events[type];\n\n\t\tif (typeof evlistener === 'function') {\n\t\t\treturn 1;\n\t\t} else if (evlistener) {\n\t\t\treturn evlistener.length;\n\t\t}\n\t}\n\n\treturn 0;\n}\n\n// About 1.5x faster than the two-arg version of Array#splice().\nfunction spliceOne(list, index) {\n\tfor (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) list[i] = list[k];\n\tlist.pop();\n}\n\nfunction arrayClone(arr, n) {\n\tvar copy = new Array(n);\n\tfor (var i = 0; i < n; ++i) copy[i] = arr[i];\n\treturn copy;\n}\n\nfunction unwrapListeners(arr) {\n\tvar ret = new Array(arr.length);\n\tfor (var i = 0; i < ret.length; ++i) {\n\t\tret[i] = arr[i].listener || arr[i];\n\t}\n\treturn ret;\n}\n\nfunction objectCreatePolyfill(proto) {\n\tvar F = function() {};\n\tF.prototype = proto;\n\treturn new F();\n}\n\nfunction objectKeysPolyfill(obj) {\n\tvar keys = [];\n\tfor (var k in obj)\n\t\tif (Object.prototype.hasOwnProperty.call(obj, k)) {\n\t\t\tkeys.push(k);\n\t\t}\n\treturn k;\n}\n\nfunction functionBindPolyfill(context) {\n\tvar fn = this;\n\treturn function() {\n\t\treturn fn.apply(context, arguments);\n\t};\n}\n","var $ = require('../internals/export');\nvar bind = require('../internals/function-bind');\n\n// `Function.prototype.bind` method\n// https://tc39.github.io/ecma262/#sec-function.prototype.bind\n$({ target: 'Function', proto: true }, {\n  bind: bind\n});\n","'use strict';\nvar aFunction = require('../internals/a-function');\nvar isObject = require('../internals/is-object');\n\nvar slice = [].slice;\nvar factories = {};\n\nvar construct = function (C, argsLength, args) {\n  if (!(argsLength in factories)) {\n    for (var list = [], i = 0; i < argsLength; i++) list[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func\n    factories[argsLength] = Function('C,a', 'return new C(' + list.join(',') + ')');\n  } return factories[argsLength](C, args);\n};\n\n// `Function.prototype.bind` method implementation\n// https://tc39.github.io/ecma262/#sec-function.prototype.bind\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = slice.call(arguments, 1);\n  var boundFunction = function bound(/* args... */) {\n    var args = partArgs.concat(slice.call(arguments));\n    return this instanceof boundFunction ? construct(fn, args.length, args) : fn.apply(that, args);\n  };\n  if (isObject(fn.prototype)) boundFunction.prototype = fn.prototype;\n  return boundFunction;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar create = require('../internals/object-create');\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  create: create\n});\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar objectDefinePropertyModile = require('../internals/object-define-property');\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\n$({ target: 'Object', stat: true, forced: !DESCRIPTORS, sham: !DESCRIPTORS }, {\n  defineProperty: objectDefinePropertyModile.f\n});\n","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","/**\n * @file: stream.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\n/**\n * simple stream implementation.\n */\n\nimport EventEmitter from './event-emitter';\n\nclass Stream extends EventEmitter {\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\t/**\n\t * connect to the next pipeline stream.\n\t * @param destination\n\t * @returns {*}\n\t */\n\tpipe(destination) {\n\t\tthis.on('reset', function() {\n\t\t\tdestination.reset();\n\t\t});\n\n\t\tthis.on('data', function(data) {\n\t\t\tdestination.push(data);\n\t\t});\n\n\t\tthis.on('done', function(flushSource) {\n\t\t\tdestination.flush(flushSource);\n\t\t});\n\n\t\treturn destination;\n\t}\n\n\t/**\n\t * detaches the next pipeline stream previously attached.\n\t */\n\tunpipe() {\n\t\tthis.removeAllListeners('reset');\n\t\tthis.removeAllListeners('data');\n\t\tthis.removeAllListeners('done');\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * push data to current pipeline.\n\t * @param data\n\t */\n\tpush(data) {\n\t\tthis.emit('data', data);\n\t}\n\n\t/**\n\t * flush current pipeline.\n\t * @param flushSource\n\t */\n\tflush(flushSource) {\n\t\tthis.emit('done', flushSource);\n\t}\n\n\treset() {\n\t\tthis.emit('reset');\n\t}\n}\n\nexport default Stream;\n","import MultiMap from './multi-map';\n\n/**\n * Creates a new EventManager.\n * An EventManager maintains a collection of \"event bindings\" between event targets and event listeners.\n */\nexport default class EventManager {\n\tconstructor() {\n\t\t/**\n\t\t * Maps an event type to an array of event bindings.\n\t\t * @private {MultiMap}\n\t\t */\n\t\tthis._bindingMap = new MultiMap();\n\t}\n\n\t/**\n\t * Detaches all event listeners.\n\t * @override\n\t */\n\tdestroy() {\n\t\tthis.removeAll();\n\t\tthis._bindingMap = null;\n\t}\n\n\t/**\n\t * Attaches an event listener to an event target.\n\t * @param {EventTarget|Dispatcher} target The event target.\n\t * @param {string} type The event type.\n\t * @param {function} listener The event listener.\n\t */\n\ton(target, type, listener) {\n\t\tif (!this._bindingMap) return;\n\n\t\tlet binding = new EventManager._Binding(target, type, listener);\n\t\tthis._bindingMap.push(type, binding);\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Attaches an event listener to an event target.\n\t * The listener will be removed when the first instance of the event is fired.\n\t * @param {EventTarget} target The event target.\n\t * @param {string} type The event type.\n\t * @param {function} listener The event listener.\n\t */\n\tonce(target, type, listener) {\n\t\t// Install a shim listener that will stop listening after the first event.\n\t\tthis.on(\n\t\t\ttarget,\n\t\t\ttype,\n\t\t\tfunction(event) {\n\t\t\t\t// Stop listening to this event.\n\t\t\t\tthis.off(target, type);\n\t\t\t\t// Call the original listener.\n\t\t\t\tlistener(event);\n\t\t\t}.bind(this)\n\t\t);\n\t}\n\n\t/**\n\t * Detaches an event listener from an event target.\n\t * @param {EventTarget} target The event target.\n\t * @param {string} type The event type.\n\t */\n\toff(target, type) {\n\t\tif (!this._bindingMap) return;\n\n\t\tlet list = this._bindingMap.get(type) || [];\n\n\t\tfor (let i = 0; i < list.length; ++i) {\n\t\t\tlet binding = list[i];\n\n\t\t\tif (binding.target == target) {\n\t\t\t\tbinding.off();\n\t\t\t\tthis._bindingMap.remove(type, binding);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Detaches all event listeners from all targets.\n\t */\n\tremoveAll() {\n\t\tif (!this._bindingMap) return;\n\n\t\tlet list = this._bindingMap.getAll();\n\n\t\tfor (let i = 0; i < list.length; ++i) {\n\t\t\tlist[i].off();\n\t\t}\n\n\t\tthis._bindingMap.clear();\n\t}\n}\n\n/**\n * Creates a new _Binding and attaches the event listener to the event target.\n * @param {EventTarget} target The event target.\n * @param {string} type The event type.\n * @param {function} listener The event listener.\n * @constructor\n * @private\n */\nEventManager._Binding = function(target, type, listener) {\n\t/** @type {EventTarget} */\n\tthis.target = target;\n\n\t/** @type {string} */\n\tthis.type = type;\n\n\t/** @type {function} */\n\tthis.listener = listener;\n\n\tif (this.target.addEventListener) {\n\t\tthis.target.addEventListener(type, listener, false);\n\t} else if (this.target.on) {\n\t\tthis.target.on(type, listener, false);\n\t}\n};\n\n/**\n * Detaches the event listener from the event target.\n * This does nothing if the event listener is already detached.\n */\nEventManager._Binding.prototype.off = function() {\n\tif (this.target.removeEventListener) {\n\t\tthis.target.removeEventListener(this.type, this.listener, false);\n\t} else if (this.target.off) {\n\t\tthis.target.off(this.type, this.listener, false);\n\t}\n\n\tthis.target = null;\n\tthis.listener = null;\n};\n","/**\n * A simple multimap template.\n * @template T\n */\nexport default class MultiMap {\n\tconstructor() {\n\t\t/** @private {!Object.<string, !Array.<T>>} */\n\t\tthis.map_ = {};\n\t}\n\n\t/**\n\t * Add a key, value pair to the map.\n\t * @param {string} key\n\t * @param {T} value\n\t */\n\tpush(key, value) {\n\t\tif (this.map_.hasOwnProperty(key)) {\n\t\t\tthis.map_[key].push(value);\n\t\t} else {\n\t\t\tthis.map_[key] = [value];\n\t\t}\n\t}\n\n\t/**\n\t * Get a list of values by key.\n\t * @param {string} key\n\t * @return {Array.<T>} or null if no such key exists.\n\t */\n\tget(key) {\n\t\tlet list = this.map_[key];\n\t\t// slice() clones the list so that it and the map can each be modified\n\t\t// without affecting the other.\n\t\treturn list ? list.slice() : null;\n\t}\n\n\t/**\n\t * Get a list of all values.\n\t * @return {!Array.<T>}\n\t */\n\tgetAll() {\n\t\tlet list = [];\n\t\tfor (let key in this.map_) {\n\t\t\tlist.push.apply(list, this.map_[key]);\n\t\t}\n\t\treturn list;\n\t}\n\n\t/**\n\t * Remove a specific value, if it exists.\n\t * @param {string} key\n\t * @param {T} value\n\t */\n\tremove(key, value) {\n\t\tlet list = this.map_[key];\n\t\tif (!list) return;\n\t\tfor (let i = 0; i < list.length; ++i) {\n\t\t\tif (list[i] == value) {\n\t\t\t\tlist.splice(i, 1);\n\t\t\t\t--i;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Clear all keys and values from the multimap.\n\t */\n\tclear() {\n\t\tthis.map_ = {};\n\t}\n\n\t/**\n\t * @param {function(string, !Array.<T>)} callback\n\t */\n\tforEach(callback) {\n\t\tfor (let key in this.map_) {\n\t\t\tcallback(key, this.map_[key]);\n\t\t}\n\t}\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","/**\n * @file: is.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = Object.prototype.toString;\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nexport function isObjectLike(value) {\n\treturn !!value && typeof value == 'object';\n}\n\nexport function isEmptyObject(obj) {\n\tfor (var prop in obj) {\n\t\tif (obj.hasOwnProperty(prop)) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn JSON.stringify(obj) === JSON.stringify({});\n}\n\n/**\n * @param {string} [url]\n */\nexport function isHttps(url) {\n\treturn /^https/gi.test(url || window.location.protocol);\n}\n\n/**\n * @param {*} num\n */\nexport function isNumber(num) {\n\treturn typeof num === 'number' && !isNaN(num);\n}\n\n/**\n * @param {*} value\n */\nexport function isArrayBuffer(value) {\n\treturn isObjectLike(value) && objectToString.call(value).toLowerCase() === '[object arraybuffer]';\n}\n\n/**\n * @param {*} value\n */\nexport function isUint8Array(value) {\n\treturn isObjectLike(value) && objectToString.call(value).toLowerCase() === '[object uint8array]';\n}\n","var redefine = require('../internals/redefine');\n\nvar DatePrototype = Date.prototype;\nvar INVALID_DATE = 'Invalid Date';\nvar TO_STRING = 'toString';\nvar nativeDateToString = DatePrototype[TO_STRING];\nvar getTime = DatePrototype.getTime;\n\n// `Date.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-date.prototype.tostring\nif (new Date(NaN) + '' != INVALID_DATE) {\n  redefine(DatePrototype, TO_STRING, function toString() {\n    var value = getTime.call(this);\n    // eslint-disable-next-line no-self-compare\n    return value === value ? nativeDateToString.call(this) : INVALID_DATE;\n  });\n}\n","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","/**\n * @file: events.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\n/**\n * @readonly\n * @enum {string}\n * @export\n */\nexport default {\n\tERROR: 'ERROR',\n\tINFO: 'INFO',\n\tDATA: 'DATA',\n\tDEMUX_DATA: 'DEMUX_DATA',\n\tDONE: 'DONE'\n};\n","/**\n * @file: demux.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\n/**\n * MPEG-2 transport stream demuxer.\n */\nimport stream from '../util/stream';\nimport M2TSComplexStream from './streams/complex';\nimport logger from '../util/logger';\nimport CacheBuffer from '../util/cache-buffer';\nimport ElementaryStream from './streams/elementary';\nimport PesStream from './streams/pes';\nimport PSI from './psi';\nimport Packet from './structs/packet';\nimport muxErrorCode from '../mux-error-code';\n\nconst CHUNK_BYTE_LENGTH = 188; // Transport Stream chunks shall be 188 bytes long.\n\nclass Demux extends stream {\n\tconstructor(ctx, options = {}) {\n\t\tsuper();\n\n\t\t/**\n\t\t * @type {MuxInline}\n\t\t * @private\n\t\t */\n\t\tthis.context = ctx;\n\n\t\t/**\n\t\t * @type {Object}\n\t\t * @private\n\t\t */\n\t\tthis.options = options;\n\n\t\t/**\n\t\t * @type {CacheBuffer}\n\t\t * @private\n\t\t */\n\t\tthis.cache_buffer = new CacheBuffer();\n\n\t\t/**\n\t\t * @type {PSI}\n\t\t * @private\n\t\t */\n\t\tthis.psi = new PSI(ctx);\n\n\t\t/**\n\t\t * @type {PesStream}\n\t\t * @private\n\t\t */\n\t\tthis.pesStream = new PesStream(ctx, this.psi);\n\n\t\t/**\n\t\t * @type {ElementaryStream}\n\t\t * @private\n\t\t */\n\t\tthis.elementaryStream = new ElementaryStream(ctx, this.psi, options);\n\n\t\t/**\n\t\t * @type {M2TSComplexStream}\n\t\t * @private\n\t\t */\n\t\tthis.complexStream = new M2TSComplexStream(ctx, this.psi);\n\n\t\t// concat stream.\n\t\tthis.pipe(this.pesStream);\n\t\tthis.pesStream.pipe(this.elementaryStream);\n\t\tthis.elementaryStream.pipe(this.complexStream);\n\t}\n\n\t/**\n\t * This is end pipeline stream\n\t */\n\tget endStream() {\n\t\tlet stream = this.elementaryStream;\n\n\t\tif (this.options.complex) {\n\t\t\tstream = this.complexStream;\n\t\t}\n\n\t\treturn stream;\n\t}\n\n\t/**\n\t * TS push support streaming incomplete data push.\n\t * @param {Uint8Array} buffer\n\t * @param {Object} conf\n\t * @param {boolean} conf.done - If you need the done event, this boolean needs to be set\n\t */\n\tpush(buffer, conf = {}) {\n\t\tconst {done} = conf;\n\t\tlet cacheByteLength = this.cache_buffer.byteLength;\n\t\tlet byteOffset = null;\n\n\t\tthis.options.config = conf;\n\n\t\tlogger.log(\n\t\t\t`hls demux received ${buffer.byteLength} bytes, cache ${cacheByteLength} bytes. ${done ? 'chunk done' : ''}`\n\t\t);\n\n\t\tthis.cache_buffer.append(buffer);\n\n\t\twhile (this.cache_buffer.byteLength >= CHUNK_BYTE_LENGTH) {\n\t\t\tlet chunk = this.cache_buffer.cut(CHUNK_BYTE_LENGTH);\n\n\t\t\t// The pushed buffer may be so small that can't cut a ts chunk.\n\t\t\tif (chunk) {\n\t\t\t\tlet packet = new Packet(chunk);\n\n\t\t\t\tif (packet.valid()) {\n\t\t\t\t\tthis.psi.parse(packet);\n\n\t\t\t\t\tthis.emit('data', packet);\n\t\t\t\t} else {\n\t\t\t\t\tlet errMsg = `Encounter invalid ts packet, packet_length(${chunk.length}), cache_length(${this.cache_buffer.byteLength}), has_payload(${packet.has_payload}), data(${chunk})`;\n\n\t\t\t\t\tlogger.error(errMsg);\n\n\t\t\t\t\tthis.reset();\n\n\t\t\t\t\tthis.context.emit('error', muxErrorCode.TS_SYNC_BYTE, errMsg, {\n\t\t\t\t\t\tstartByte: byteOffset,\n\t\t\t\t\t\tendByte: byteOffset + chunk.byteLength\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbyteOffset += chunk.byteLength;\n\t\t\t}\n\t\t}\n\n\t\tif (this.cache_buffer.empty && done) {\n\t\t\t// logger.log('mux packet done!');\n\t\t\tthis.emit('done');\n\t\t}\n\t}\n\n\treset() {\n\t\tthis.cache_buffer.clear();\n\n\t\tthis.emit('reset');\n\t}\n}\n\nexport default Demux;\n","/**\n * @file: complex.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\n/**\n * Complex Stream.\n *\n * Combine Video, Audio, Caption c and other data.\n */\nimport Stream from '../../util/stream';\nimport logger from '../../util/logger';\n\nclass M2TSComplexStream extends Stream {\n\tconstructor(ctx, psi) {\n\t\tsuper();\n\n\t\t/** @private */\n\t\tthis.context = ctx;\n\n\t\t/** @private {PSI} */\n\t\tthis.PSI = psi;\n\n\t\t/** @private {Object} */\n\t\tthis.videoTrack = null;\n\n\t\t/** @private {Object} */\n\t\tthis.audioTrack = null;\n\n\t\t/** @private {Object} */\n\t\tthis.captionTrack = null;\n\n\t\t// pipe specified by outside.\n\t}\n\n\tpush(data) {\n\t\tlet tracks = data;\n\n\t\tfor (let i = 0, track; i < tracks.length; i++) {\n\t\t\ttrack = tracks[i];\n\n\t\t\tswitch (track.type) {\n\t\t\t\tcase 'video':\n\t\t\t\t\t// data -> GOPs\n\t\t\t\t\tthis._complexVideo(track);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'audio':\n\t\t\t\t\tthis._complexAudio(track);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'caption':\n\t\t\t\t\tthis._complexCaption(track);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tflush() {\n\t\tthis.emit('done');\n\n\t\tthis._clearStream();\n\t}\n\n\treset() {\n\t\tthis._clearStream();\n\n\t\t// This is demux end stream, so don't emit reset.\n\t\t// this.emit('reset');\n\t}\n\n\t_clearStream() {\n\t\tthis.videoTrack = null;\n\t\tthis.audioTrack = null;\n\t\tthis.captionTrack = null;\n\t}\n\n\t_complexVideo(gops) {\n\t\tlet track = this.PSI.findTrack(gops.trackId);\n\n\t\tif (track) {\n\t\t\ttrack.type = 'video';\n\t\t\ttrack.gops = gops;\n\t\t\ttrack.firstDTS = gops[0][0].dts;\n\t\t\ttrack.firstPTS = gops[0][0].pts;\n\t\t\t// set duration to Infinity(POSITIVE_INFINITY) can be useful for live.\n\t\t\t// If Infinity it will loose the ability to seek.\n\t\t\ttrack.duration = Number.POSITIVE_INFINITY;\n\n\t\t\tthis.videoTrack = track;\n\n\t\t\tthis.emit('data', {\n\t\t\t\tvideoTrack: this.videoTrack\n\t\t\t});\n\t\t}\n\t}\n\n\t_complexAudio(frames) {\n\t\tlet track = this.PSI.findTrack(frames.trackId);\n\n\t\tif (track) {\n\t\t\ttrack.type = 'audio';\n\t\t\ttrack.frames = frames;\n\t\t\ttrack.firstPTS = track.firstDTS = frames[0].dts;\n\n\t\t\t// set duration to Infinity(POSITIVE_INFINITY) can be useful for live.\n\t\t\t// If Infinity it will loose the ability to seek.\n\t\t\ttrack.duration = Number.POSITIVE_INFINITY;\n\n\t\t\tthis.audioTrack = track;\n\n\t\t\tthis.emit('data', {\n\t\t\t\taudioTrack: this.audioTrack\n\t\t\t});\n\t\t}\n\t}\n\n\t_complexCaption() {}\n}\n\nexport default M2TSComplexStream;\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.github.io/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.github.io/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","/**\n * @file: cache-buffer.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\n/**\n * Cache Buffer util.\n * It's applicable for streaming data cutting and retaining the data,\n * the algorithm minimizes memory application as much as possible.\n */\nclass CacheBuffer {\n\tget byteLength() {\n\t\tif (this._byteLength === null) {\n\t\t\tlet len = 0;\n\n\t\t\tfor (let i = 0, item; i < this._list.length; i++) {\n\t\t\t\titem = this._list[i];\n\t\t\t\tlen += item.byteLength;\n\t\t\t}\n\t\t\tthis._byteLength = len;\n\t\t}\n\n\t\treturn this._byteLength;\n\t}\n\n\tget empty() {\n\t\treturn this._list.length === 0;\n\t}\n\n\tget bufferList() {\n\t\treturn this._list;\n\t}\n\n\tconstructor() {\n\t\t/**\n\t\t * @type {Array.<Uint8Array>}\n\t\t */\n\t\tthis._list = [];\n\n\t\t/**\n\t\t * Used to cache calculations, reduce the number of CPU calculations.\n\t\t * When internal data changes, the value needs to be cleared and recalculated.\n\t\t * @type {?number}\n\t\t */\n\t\tthis._byteLength = null;\n\t}\n\n\tclear() {\n\t\tlet len = this._list.length;\n\t\tif (len > 0) {\n\t\t\tthis._list.splice(0, len);\n\t\t}\n\t\tthis._byteLength = null;\n\t}\n\n\t/**\n\t * @returns {Uint8Array}\n\t */\n\ttoNewBytes() {\n\t\tlet bytes = null;\n\t\tlet tryCount = 0;\n\t\tlet maxTryCount = 50;\n\n\t\t// The following retry strategies are provided for failed memory applications\n\t\t// In terms of a better strategy, a failed memory application retry should be\n\t\t// an asynchronous process, which does not return until the application succeeds.\n\t\t// But the original design of the library is synchronous.\n\t\twhile (bytes === null) {\n\t\t\ttry {\n\t\t\t\ttryCount++;\n\t\t\t\tbytes = new Uint8Array(this.byteLength);\n\t\t\t} catch (e) {\n\t\t\t\tif (tryCount > maxTryCount) {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (let i = 0, offset = 0; i < this._list.length; i++) {\n\t\t\tlet payload = this._list[i];\n\n\t\t\tbytes.set(payload, offset);\n\t\t\toffset += payload.byteLength;\n\t\t}\n\n\t\treturn bytes;\n\t}\n\n\t/**\n\t * @param {Uint8Array|CacheBuffer} newBuffer\n\t */\n\tappend(newBuffer) {\n\t\tif (newBuffer instanceof CacheBuffer) {\n\t\t\tthis._list = this._list.concat(newBuffer.bufferList);\n\t\t} else {\n\t\t\tthis._list.push(newBuffer);\n\t\t}\n\n\t\tthis._byteLength = null;\n\t}\n\n\t/**\n\t * This function cuts a complete TypedArray from CacheBuffer and retains the remainder of CacheBuffer.\n\t * The following points should be noted when using this function:\n\t * 1. If the cut needs to return the cut-out part, the cut length should be as small as possible to reduce the errors in memory application.\n\t * 2. If the cutting is only to preserve the remaining parts, the cutting size is within the total number of bytes, without considering memory applications.\n\t * @param {number} fixedLength\n\t * @param {boolean} [needCutResult] - If not, just retain the remaining parts after cutting.\n\t * @returns {?Uint8Array}\n\t */\n\tcut(fixedLength, needCutResult = true) {\n\t\tlet chunk = null;\n\n\t\tif (fixedLength > 0 && !this.empty) {\n\t\t\tlet list = this._list;\n\n\t\t\tlet offset = 0;\n\t\t\tlet loopIndex = 0;\n\n\t\t\twhile (list.length > 0) {\n\t\t\t\tlet cur = list.shift();\n\n\t\t\t\tif (loopIndex === 0) {\n\t\t\t\t\tif (cur.byteLength >= fixedLength) {\n\t\t\t\t\t\tif (needCutResult) {\n\t\t\t\t\t\t\t// Here is the key point for optimize memory alloc\n\t\t\t\t\t\t\tchunk = cur.subarray(0, fixedLength);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (cur.byteLength > fixedLength) {\n\t\t\t\t\t\t\tcur = cur.subarray(fixedLength);\n\t\t\t\t\t\t\tlist.unshift(cur);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (needCutResult) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tchunk = new Uint8Array(fixedLength);\n\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\tthrow `alloc_memory_error@ cache buffer: ${fixedLength} ${e.message}`;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tchunk.set(cur, 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\toffset += cur.byteLength;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tlet subLen = fixedLength - offset;\n\n\t\t\t\t\tif (cur.byteLength >= subLen) {\n\t\t\t\t\t\tif (needCutResult) {\n\t\t\t\t\t\t\tchunk.set(cur.subarray(0, subLen), offset);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcur = cur.subarray(subLen);\n\n\t\t\t\t\t\tif (cur.byteLength > 0) {\n\t\t\t\t\t\t\tlist.unshift(cur);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (needCutResult) {\n\t\t\t\t\t\t\tchunk.set(cur, offset);\n\t\t\t\t\t\t}\n\t\t\t\t\t\toffset += cur.byteLength;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tloopIndex++;\n\t\t\t}\n\n\t\t\tthis._byteLength = null;\n\t\t}\n\n\t\treturn chunk;\n\t}\n\n\t// /**\n\t//  * Buffer selected from begin to end (end not included).\n\t//  * @param {number} offsetStart\n\t//  * @param {number} offsetEnd\n\t//  */\n\t// keep(offsetStart, offsetEnd = this.byteLength) {\n\t// \tif (offsetEnd > this.byteLength) {\n\t// \t\toffsetEnd = this.byteLength;\n\t// \t}\n\n\t// \tlet keepLen = offsetEnd - offsetStart;\n\n\t// \tif (offsetStart > 0) {\n\t// \t\tthis.cut(offsetStart);\n\t// \t}\n\n\t// \tif (!this.empty) {\n\t// \t\tif (keepLen > 0) {\n\t// \t\t\tlet list = this._list;\n\t// \t\t\tlet tmpLen = keepLen;\n\n\t// \t\t\t// loop from last -> first\n\t// \t\t\tfor (let j = list.length - 1, item; j >= 0; ) {\n\t// \t\t\t\titem = list[j];\n\n\t// \t\t\t\tif (tmpLen < item.byteLength) {\n\t// \t\t\t\t\tlist[j] = item.subarray(0, item.byteLength - tmpLen);\n\t// \t\t\t\t\tbreak;\n\t// \t\t\t\t} else {\n\t// \t\t\t\t\ttmpLen -= item.byteLength;\n\t// \t\t\t\t\tlist.splice(j, 0);\n\t// \t\t\t\t\tj--;\n\n\t// \t\t\t\t\tif (tmpLen === 0) {\n\t// \t\t\t\t\t\tbreak;\n\t// \t\t\t\t\t}\n\t// \t\t\t\t}\n\t// \t\t\t}\n\n\t// \t\t\tthis._byteLength = null;\n\t// \t\t} else {\n\t// \t\t\tthis.clear();\n\t// \t\t}\n\t// \t}\n\t// }\n\n\t// readByte(offset) {\n\t// \tlet val = 0;\n\t// \tlet i = 0,\n\t// \t\ttypedArray,\n\t// \t\tcurByteOffset = 0,\n\t// \t\tcurByteLength;\n\n\t// \tfor (; i < this._list.length; i++) {\n\t// \t\ttypedArray = this._list[i];\n\t// \t\tcurByteLength = typedArray.byteLength;\n\n\t// \t\tif (offset < curByteOffset + curByteLength && offset >= curByteOffset) {\n\t// \t\t\tval = typedArray[offset - curByteOffset];\n\t// \t\t\tbreak;\n\t// \t\t}\n\t// \t\tcurByteOffset += curByteLength;\n\t// \t}\n\t// \treturn val;\n\t// }\n\n\t// readUint16(offset) {\n\t// \treturn (this.readByte(offset) << 8) | this.readByte(offset + 1);\n\t// }\n}\n\nexport default CacheBuffer;\n","/**\n * @file: elementary.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\n/**\n * Elementary Stream.\n * @summary An elementary stream (ES) as defined by the MPEG communication protocol is usually the output of an audio or video encoder.\n *      ES contains only one kind of data, e.g. audio, video or closed caption.\n * @description  https://en.wikipedia.org/wiki/Elementary_stream\n */\nimport {isNumber} from '../../util/is';\nimport logger from '../../util/logger';\nimport Stream from '../../util/stream';\nimport StreamType from '../../enum/stream-types';\nimport ADTSStream from './adts';\nimport AVCStream from './avc';\n\nclass ElementaryStream extends Stream {\n\tconstructor(ctx, psi, options = {}) {\n\t\tsuper();\n\n\t\t/** @private */\n\t\tthis.context = ctx;\n\n\t\t/** @private {PSI} */\n\t\tthis.PSI = psi;\n\n\t\t/** @private {Object} */\n\t\tthis.options = options;\n\n\t\t/** @private {Array} */\n\t\tthis.tracks = [];\n\n\t\t/** @private {ADTSStream} */\n\t\tthis.adtsStream = new ADTSStream(psi);\n\n\t\t/** @private {AVCStream} */\n\t\tthis.avcStream = new AVCStream(psi);\n\n\t\t/** @private {Array} */\n\t\tthis.streams = [this.adtsStream, this.avcStream];\n\n\t\tthis.avcStream.on('data', (data) => {\n\t\t\tlet stubTime = options.config.stubTime;\n\n\t\t\tif (isNumber(stubTime)) {\n\t\t\t\tlet end = (data.firstPTS + data.duration) / 90000;\n\t\t\t\tif (end < stubTime) {\n\t\t\t\t\tlogger.warn(`drop avc gop, start/end/stubTime(${data.firstPTS}/${end}/${stubTime})`);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.tracks.push(data);\n\t\t\tthis.emit('data', this.tracks);\n\t\t\tthis.tracks = [];\n\t\t\tthis.adtsStream.flush();\n\t\t});\n\n\t\tthis.adtsStream.on('data', (data) => {\n\t\t\tlet stubTime = options.config.stubTime;\n\n\t\t\tif (isNumber(stubTime)) {\n\t\t\t\tlet end = (data.firstPTS + data.duration) / 90000;\n\t\t\t\tif (end < stubTime) {\n\t\t\t\t\tlogger.warn(`drop adts, start/end/stubTime(${data.firstPTS}/${end}/${stubTime})`);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.tracks.push(data);\n\t\t\tthis.emit('data', this.tracks);\n\t\t\tthis.tracks = [];\n\t\t});\n\t}\n\n\t/**\n\t * Push a complete pes\n\t * @param data\n\t */\n\tpush(data) {\n\t\tconst {options, adtsStream, avcStream} = this;\n\t\tlet {stream_type} = data;\n\n\t\tif (options.complex) {\n\t\t\tswitch (stream_type) {\n\t\t\t\tcase StreamType.H264:\n\t\t\t\tcase StreamType.HEVC:\n\t\t\t\t\tavcStream.push(data);\n\t\t\t\t\tbreak;\n\t\t\t\tcase StreamType.ADTS:\n\t\t\t\t\tadtsStream.push(data);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tlogger.warn(`ts elementary encounter unknown stream type ${stream_type}`);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.emit('data', data);\n\t\t}\n\t}\n\n\tflush() {\n\t\tfor (let i = 0; i < this.streams.length; i++) {\n\t\t\tlet stream = this.streams[i];\n\n\t\t\tstream.flush();\n\t\t}\n\n\t\tthis.emit('data', this.tracks);\n\t\tthis.emit('done');\n\n\t\tthis.tracks = [];\n\t}\n\n\treset() {\n\t\tthis.tracks = [];\n\n\t\tfor (let i = 0; i < this.streams.length; i++) {\n\t\t\tlet stream = this.streams[i];\n\n\t\t\tstream.reset();\n\t\t}\n\n\t\tthis.emit('reset');\n\t}\n}\n\nexport default ElementaryStream;\n","/**\n * @file: stream-types.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n * @overview stream type defined by T-REC-H.222.0-200605-S!!PDF-E.pdf $Table 2-34  Stream type assignments.\n */\n\n/*\nValue       Description\n0x00        ITU-T | ISO/IEC Reserved\n0x01        ISO/IEC 11172-2 Video\n0x02        ITU-T Rec. H.262 | ISO/IEC 13818-2 Video or ISO/IEC 11172-2 constrained parameter video stream\n0x03        ISO/IEC 11172-3 Audio\n0x04        ISO/IEC 13818-3 Audio\n0x05        ITU-T Rec. H.222.0 | ISO/IEC 13818-1 private_sections\n0x06        ITU-T Rec. H.222.0 | ISO/IEC 13818-1 PES packets containing private data\n0x07        ISO/IEC 13522 MHEG\n0x08        ITU-T Rec. H.222.0 | ISO/IEC 13818-1 Annex A DSM-CC\n0x09        ITU-T Rec. H.222.1\n0x0A        ISO/IEC 13818-6 type A\n0x0B        ISO/IEC 13818-6 type B\n0x0C        ISO/IEC 13818-6 type C\n0x0D        ISO/IEC 13818-6 type D\n0x0E        ITU-T Rec. H.222.0 | ISO/IEC 13818-1 auxiliary\n0x0F        ISO/IEC 13818-7 Audio with ADTS transport syntax\n0x10        ISO/IEC 14496-2 Visual\n0x11        ISO/IEC 14496-3 Audio with the LATM transport syntax as defined in ISO/IEC 14496-3\n0x12        ISO/IEC 14496-1 SL-packetized stream or FlexMux stream carried in PES packets\n0x13        ISO/IEC 14496-1 SL-packetized stream or FlexMux stream carried in ISO/IEC 14496_sections\n0x14        ISO/IEC 13818-6 Synchronized Download Protocol\n0x15        Metadata carried in PES packets\n0x16        Metadata carried in metadata_sections\n0x17        Metadata carried in ISO/IEC 13818-6 Data Carousel\n0x18        Metadata carried in ISO/IEC 13818-6 Object Carousel\n0x19        Metadata carried in ISO/IEC 13818-6 Synchronized Download Protocol\n0x1A        IPMP stream (defined in ISO/IEC 13818-11, MPEG-2 IPMP)\n0x1B        AVC video stream as defined in ITU-T Rec. H.264 | ISO/IEC 14496-10 Video\n0x1C-0x7E   ITU-T Rec. H.222.0 | ISO/IEC 13818-1 Reserved\n0x7F        IPMP stream\n0x80-0xFF   User Private\n*/\n\n/**\n * @readonly\n * @enum {number}\n * @export\n */\nexport default {\n\tH264: 0x1b,\n\tHEVC: 0x24,\n\tADTS: 0x0f,\n\tMETADATA: 0x15\n};\n","/**\n * @file: adts.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\n/**\n * ADTS(Audio Data Transport Stream) Stream.\n */\nimport Stream from '../../util/stream';\nimport StreamType from '../../enum/stream-types';\nimport ADTSCodec from '../../codec/adts';\nimport getAudioConfig from '../../codec/aac/aac-config';\n\nclass ADTSStream extends Stream {\n\tconstructor(psi) {\n\t\tsuper();\n\n\t\t/** @private {PSI} */\n\t\tthis.PSI = psi;\n\n\t\t/** @private {?Object} */\n\t\tthis.trackId = null;\n\n\t\t/** @private {ADTSCodec} */\n\t\tthis.codec = new ADTSCodec();\n\n\t\tthis.codec.on('frame', (frame) => {\n\t\t\tthis.frames.push(frame);\n\t\t\tthis.frames.byteLength += frame.data.byteLength;\n\t\t\tthis.frames.trackId = this.trackId;\n\t\t});\n\n\t\tthis._newFrames();\n\t}\n\n\tpush(data) {\n\t\tif (data.stream_type === StreamType.ADTS) {\n\t\t\tthis.trackId = data.pid;\n\n\t\t\tthis.codec.push(data);\n\t\t}\n\t}\n\n\tflush() {\n\t\tif (this.frames.length > 0) {\n\t\t\tlet count = this.frames.length;\n\t\t\tlet firstFrame = this.frames[0];\n\t\t\tlet lastFrame = this.frames[count - 1];\n\t\t\tlet lastDuration = (lastFrame.sampleRate * lastFrame.sampleCount) / 90000;\n\n\t\t\tthis.frames.firstDTS = firstFrame.dts;\n\t\t\tthis.frames.firstPTS = firstFrame.pts;\n\n\t\t\tif (count === 1) {\n\t\t\t\tthis.frames.duration = lastDuration;\n\t\t\t} else {\n\t\t\t\tthis.frames.duration = lastDuration + (lastFrame.pts - firstFrame.pts);\n\t\t\t}\n\n\t\t\t// To prevent information mismatch leading to next pipeline decoding errors\n\t\t\t// Every audio frame list assembly needs to update track meta.\n\t\t\tthis._updateTrackMeta(firstFrame);\n\n\t\t\tthis.emit('data', this.frames);\n\n\t\t\tthis.reset();\n\t\t\tthis.emit('done');\n\t\t}\n\t}\n\n\treset() {\n\t\tthis.trackId = null;\n\t\tthis._newFrames();\n\t}\n\n\t_newFrames() {\n\t\tthis.frames = []; // aac frames\n\t\tthis.frames.type = 'audio';\n\t\tthis.frames.byteLength = 0;\n\t\tthis.frames.duration = 0;\n\t\tthis.frames.firstDTS = 0;\n\t\tthis.frames.firstPTS = 0;\n\t}\n\n\t/**\n\t * @param {Object} frame\n\t */\n\t_updateTrackMeta(frame) {\n\t\tlet track = this.PSI.findTrack(this.trackId);\n\t\tlet config = getAudioConfig(frame.audioObjectType, frame.samplingFrequencyIndex, frame.channelCount);\n\t\ttrack.config = config.config;\n\t\ttrack.sampleRate = config.sampleRate;\n\t\ttrack.inputTimeScale = track.inputTimeScale || track.timescale;\n\t\ttrack.timescale = config.sampleRate;\n\t\ttrack.channelCount = config.channelCount;\n\t\ttrack.codec = config.codec;\n\t\ttrack.realCodec = config.realCodec;\n\t\ttrack.isAAC = true;\n\t}\n}\n\nexport default ADTSStream;\n","/**\n * @file: adts.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\n/**\n * ADTS codec\n * Wiki Refer: https://wiki.multimedia.cx/index.php?title=ADTS\n */\nimport EventEmitter from '../util/event-emitter';\n\nconst ADTS_SAMPLING_FREQUENCIES = [\n\t96000,\n\t88200,\n\t64000,\n\t48000,\n\t44100,\n\t32000,\n\t24000,\n\t22050,\n\t16000,\n\t12000,\n\t11025,\n\t8000,\n\t7350\n];\n\n/**\n * @extends EventEmitter\n */\nclass ADTSCodec extends EventEmitter {\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tpush(data) {\n\t\tlet pesPacket = data.pes;\n\t\tlet pts = pesPacket.PTS,\n\t\t\tdts = pesPacket.DTS;\n\t\tlet pes_data_byte = pesPacket.data_byte;\n\t\tlet data_byte;\n\t\tlet i = 0,\n\t\t\tframeNum = 0,\n\t\t\tframeLength,\n\t\t\tprotectionSkipBytes,\n\t\t\tframeEnd,\n\t\t\tsampleCount,\n\t\t\tadtsFrameDuration;\n\n\t\tdata_byte = pes_data_byte;\n\n\t\twhile (i + 5 < data_byte.length) {\n\t\t\t// Look for the start of an ADTS header..\n\t\t\tif (data_byte[i] !== 0xff || (data_byte[i + 1] & 0xf6) !== 0xf0) {\n\t\t\t\t// If a valid header was not found,  jump one forward and attempt to\n\t\t\t\t// find a valid ADTS header starting at the next byte\n\t\t\t\ti++;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// The protection skip bit tells us if we have 2 bytes of CRC data at the\n\t\t\t// end of the ADTS header\n\t\t\tprotectionSkipBytes = (~data_byte[i + 1] & 0x01) * 2;\n\n\t\t\t// Frame length is a 13 bit integer starting 16 bits from the\n\t\t\t// end of the sync sequence\n\t\t\tframeLength =\n\t\t\t\t((data_byte[i + 3] & 0x03) << 11) | (data_byte[i + 4] << 3) | ((data_byte[i + 5] & 0xe0) >> 5);\n\n\t\t\tsampleCount = ((data_byte[i + 6] & 0x03) + 1) * 1024;\n\t\t\tadtsFrameDuration = (sampleCount * 90000) / ADTS_SAMPLING_FREQUENCIES[(data_byte[i + 2] & 0x3c) >>> 2];\n\n\t\t\tframeEnd = i + frameLength;\n\n\t\t\t// If we don't have enough data to actually finish this ADTS frame, return\n\t\t\t// and wait for more data\n\t\t\tif (data_byte.byteLength < frameEnd) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Otherwise, deliver the complete AAC frame\n\t\t\tthis.emit('frame', {\n\t\t\t\tpts: pts + frameNum * adtsFrameDuration,\n\t\t\t\tdts: dts + frameNum * adtsFrameDuration,\n\t\t\t\tsampleCount: sampleCount,\n\t\t\t\taudioObjectType: ((data_byte[i + 2] >>> 6) & 0x03) + 1,\n\t\t\t\tchannelCount: ((data_byte[i + 2] & 1) << 2) | ((data_byte[i + 3] & 0xc0) >>> 6),\n\t\t\t\tsampleRate: ADTS_SAMPLING_FREQUENCIES[(data_byte[i + 2] & 0x3c) >>> 2],\n\t\t\t\tsamplingFrequencyIndex: (data_byte[i + 2] & 0x3c) >>> 2,\n\t\t\t\t// assume ISO/IEC 14496-12 AudioSampleEntry default of 16\n\t\t\t\tsampleSize: 16,\n\t\t\t\tdata: data_byte.subarray(i + 7 + protectionSkipBytes, frameEnd)\n\t\t\t});\n\n\t\t\t// If the data_byte is empty, clear it and return\n\t\t\tif (data_byte.byteLength === frameEnd) {\n\t\t\t\tdata_byte = undefined;\n\n\t\t\t\tthis.emit('done');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tframeNum++;\n\n\t\t\t// Remove the finished frame from the data_byte and start the process again\n\t\t\tdata_byte = data_byte.subarray(frameEnd);\n\t\t}\n\t}\n}\n\nexport default ADTSCodec;\n","/**\n * @file: aac-config.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\n/**\n * Audio Config Helper\n * Accord audioObjectType/samplingFrequencyIndex/channelCount, generate mimeType info.\n */\nimport platform from '../../util/platform';\nimport logger from '../../util/logger';\n\n/*\n    sampling freq,\n    0: 96000 Hz\n    1: 88200 Hz\n    2: 64000 Hz\n    3: 48000 Hz\n    4: 44100 Hz\n    5: 32000 Hz\n    6: 24000 Hz\n    7: 22050 Hz\n    8: 16000 Hz\n    9: 12000 Hz\n    10: 11025 Hz\n    11: 8000 Hz\n    12: 7350 Hz\n    13: Reserved\n    14: Reserved\n    15: frequency is written explictly\n */\nconst samplingRates = [96000, 88200, 64000, 48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000, 7350];\n\nexport default (audioObjectType, samplingFrequencyIndex, channelCount) => {\n\tlet adtsExtensionSamplingIndex;\n\tlet realAudioObjectType = audioObjectType;\n\tlet config;\n\n\tif (samplingFrequencyIndex > samplingRates.length - 1) {\n\t\tlogger.error(`invalid sampling index:${samplingFrequencyIndex}`);\n\t\treturn;\n\t}\n\n\t// firefox: freq less than 24kHz = AAC SBR (HE-AAC)\n\tif (platform.browser.FIREFOX) {\n\t\tif (samplingFrequencyIndex >= 6) {\n\t\t\taudioObjectType = 5;\n\t\t\tconfig = new Array(4);\n\t\t\t// HE-AAC uses SBR (Spectral Band Replication) , high frequencies are constructed from low frequencies\n\t\t\t// there is a factor 2 between frame sample rate and output sample rate\n\t\t\t// multiply frequency by 2 (see table below, equivalent to substract 3)\n\t\t\tadtsExtensionSamplingIndex = samplingFrequencyIndex - 3;\n\t\t} else {\n\t\t\taudioObjectType = 2;\n\t\t\tconfig = new Array(2);\n\t\t\tadtsExtensionSamplingIndex = samplingFrequencyIndex;\n\t\t}\n\t\t// Android : always use AAC\n\t} else if (platform.os.android) {\n\t\taudioObjectType = 2;\n\t\tconfig = new Array(2);\n\t\tadtsExtensionSamplingIndex = samplingFrequencyIndex;\n\t} else {\n\t\t/*  for other browsers (Chrome/Vivaldi/Opera ...)\n\t\t\t\talways force audio type to be HE-AAC SBR, as some browsers do not support audio codec switch properly (like Chrome ...)\n\t\t\t*/\n\t\taudioObjectType = 5;\n\t\tconfig = new Array(4);\n\t\t// if (manifest codec is HE-AAC or HE-AACv2) OR (manifest codec not specified AND frequency less than 24kHz)\n\t\tif (samplingFrequencyIndex >= 6) {\n\t\t\t// HE-AAC uses SBR (Spectral Band Replication) , high frequencies are constructed from low frequencies\n\t\t\t// there is a factor 2 between frame sample rate and output sample rate\n\t\t\t// multiply frequency by 2 (see table below, equivalent to substract 3)\n\t\t\tadtsExtensionSamplingIndex = samplingFrequencyIndex - 3;\n\t\t} else {\n\t\t\t// if (manifest codec is AAC) AND (frequency less than 24kHz AND nb channel is 1) OR (manifest codec not specified and mono audio)\n\t\t\t// Chrome fails to play back with low frequency AAC LC mono when initialized with HE-AAC.  This is not a problem with stereo.\n\t\t\tif (channelCount === 1) {\n\t\t\t\taudioObjectType = 2;\n\t\t\t\tconfig = new Array(2);\n\t\t\t}\n\t\t\tadtsExtensionSamplingIndex = samplingFrequencyIndex;\n\t\t}\n\t}\n\t/* \n        refer to http://wiki.multimedia.cx/index.php?title=MPEG-4_Audio#Audio_Specific_Config ISO 14496-3 (AAC).pdf \n            - Table 1.13  Syntax of AudioSpecificConfig()\n\t\t  Audio Profile / Audio Object Type\n\t\t  0: Null\n\t\t  1: AAC Main\n\t\t  2: AAC LC (Low Complexity)\n\t\t  3: AAC SSR (Scalable Sample Rate)\n\t\t  4: AAC LTP (Long Term Prediction)\n\t\t  5: SBR (Spectral Band Replication)\n\t\t  6: AAC Scalable\n\n\t\t  Channel Configurations\n\t\t  These are the channel configurations:\n\t\t  0: Defined in AOT Specifc Config\n\t\t  1: 1 channel: front-center\n\t\t  2: 2 channels: front-left, front-right\n\t\t*/\n\t// audioObjectType = profile => profile, the MPEG-4 Audio Object Type minus 1\n\tconfig[0] = audioObjectType << 3;\n\t// samplingFrequencyIndex\n\tconfig[0] |= (samplingFrequencyIndex & 0x0e) >> 1;\n\tconfig[1] |= (samplingFrequencyIndex & 0x01) << 7;\n\t// channelConfiguration\n\tconfig[1] |= channelCount << 3;\n\tif (audioObjectType === 5) {\n\t\t// adtsExtensionSamplingIndex\n\t\tconfig[1] |= (adtsExtensionSamplingIndex & 0x0e) >> 1;\n\t\tconfig[2] = (adtsExtensionSamplingIndex & 0x01) << 7;\n\t\t// audioObjectType (force to 2, chrome is checking that object type is less than 5 ???\n\t\t//    https://chromium.googlesource.com/chromium/src.git/+/master/media/formats/mp4/aac.cc\n\t\tconfig[2] |= 2 << 2;\n\t\tconfig[3] = 0;\n\t}\n\treturn {\n\t\tconfig: config,\n\t\tsampleRate: samplingRates[samplingFrequencyIndex],\n\t\tchannelCount: channelCount,\n\t\tcodec: 'mp4a.40.' + audioObjectType,\n\t\trealCodec: 'mp4a.40.' + realAudioObjectType\n\t};\n};\n","/**\n * @file: platform.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\n/**\n * @description device\n */\nconst os = {};\nconst browser = {};\n\nlet nav = navigator;\n// let platform = nav.platform;\nlet ua = nav.userAgent.toLowerCase();\n\nvar match =\n\t/(edge)\\/([\\w.]+)/.exec(ua) ||\n\t/(opr)[/]([\\w.]+)/.exec(ua) ||\n\t/(chrome)[ /]([\\w.]+)/.exec(ua) ||\n\t/(firefox)[ /]([\\w.]+)/.exec(ua) ||\n\t/(iemobile)[/]([\\w.]+)/.exec(ua) ||\n\t/(version)(applewebkit)[ /]([\\w.]+).*(safari)[ /]([\\w.]+)/.exec(ua) ||\n\t/(webkit)[ /]([\\w.]+).*(version)[ /]([\\w.]+).*(safari)[ /]([\\w.]+)/.exec(ua) ||\n\t/(webkit)[ /]([\\w.]+)/.exec(ua) ||\n\t/(opera)(?:.*version|)[ /]([\\w.]+)/.exec(ua) ||\n\t/(msie) ([\\w.]+)/.exec(ua) ||\n\t(ua.indexOf('trident') >= 0 && /(rv)(?::| )([\\w.]+)/.exec(ua)) ||\n\t(ua.indexOf('compatible') < 0 && /(mozilla)(?:.*? rv:([\\w.]+)|)/.exec(ua)) ||\n\t[];\n\nvar platform_match =\n\t/(ipad)/.exec(ua) ||\n\t/(ipod)/.exec(ua) ||\n\t/(windows phone)/.exec(ua) ||\n\t/(iphone)/.exec(ua) ||\n\t/(kindle)/.exec(ua) ||\n\t/(silk)/.exec(ua) ||\n\t/(android)/.exec(ua) ||\n\t/(win)/.exec(ua) ||\n\t/(mac)/.exec(ua) ||\n\t/(linux)/.exec(ua) ||\n\t/(cros)/.exec(ua) ||\n\t/(playbook)/.exec(ua) ||\n\t/(bb)/.exec(ua) ||\n\t/(blackberry)/.exec(ua) ||\n\t[];\n\nvar result = {};\nvar matched = {\n\tbrowser: match[5] || match[3] || match[1] || '',\n\tversion: match[2] || match[4] || '0',\n\tversionNumber: match[4] || match[2] || '0',\n\tplatform: platform_match[0] || ''\n};\n\nif (matched.browser) {\n\tresult[matched.browser] = true;\n\t// result.version = matched.version;\n\t// result.versionNumber = parseInt(matched.versionNumber, 10);\n\n\tlet versionArray = matched.versionNumber.split('.');\n\tresult.version = {\n\t\tmajor: parseInt(matched.versionNumber, 10),\n\t\tstring: matched.version\n\t};\n\tif (versionArray.length > 1) {\n\t\tresult.version.minor = parseInt(versionArray[1], 10);\n\t}\n\tif (versionArray.length > 2) {\n\t\tresult.version.build = parseInt(versionArray[2], 10);\n\t}\n}\n\n// -------------------------------------- browser --------------------------------------\nbrowser.version = result.version;\nbrowser.CHROME = !!result['chrome'];\nbrowser.SAFARI = !!result['safari'] && !browser.CHROME;\nbrowser.FIREFOX = !!result['firefox'];\nbrowser.IE11 = /rv:11/.test(ua);\nbrowser.IE = !!result['msie'] || browser.IE11;\nbrowser.EDGE = !!result['edge'];\nbrowser.WECHAT = /(wechat)|(micromessenger)/.test(ua);\n\n// -------------------------------------- os --------------------------------------\n\nos.mac = !!matched.platform['mac'];\nos.iphone = !!matched.platform['iphone'];\nos.android = !!matched.platform['android'];\n\nexport default {\n\tbrowser: browser,\n\tos: os\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var $ = require('../internals/export');\nvar parseIntImplementation = require('../internals/number-parse-int');\n\n// `parseInt` method\n// https://tc39.github.io/ecma262/#sec-parseint-string-radix\n$({ global: true, forced: parseInt != parseIntImplementation }, {\n  parseInt: parseIntImplementation\n});\n","var global = require('../internals/global');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar $parseInt = global.parseInt;\nvar hex = /^[+-]?0[Xx]/;\nvar FORCED = $parseInt(whitespaces + '08') !== 8 || $parseInt(whitespaces + '0x16') !== 22;\n\n// `parseInt` method\n// https://tc39.github.io/ecma262/#sec-parseint-string-radix\nmodule.exports = FORCED ? function parseInt(string, radix) {\n  var S = trim(String(string));\n  return $parseInt(S, (radix >>> 0) || (hex.test(S) ? 16 : 10));\n} : $parseInt;\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","'use strict';\nvar regexpFlags = require('./regexp-flags');\nvar stickyHelpers = require('./regexp-sticky-helpers');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = String(str).slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","'use strict';\n\nvar fails = require('./fails');\n\n// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n// so we use an intermediate function.\nfunction RE(s, f) {\n  return RegExp(s, f);\n}\n\nexports.UNSUPPORTED_Y = fails(function () {\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n  var re = RE('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = RE('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar isRegExp = require('../internals/is-regexp');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar callRegExpExec = require('../internals/regexp-exec-abstract');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\n\nvar arrayPush = [].push;\nvar min = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { return !RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, !SUPPORTS_Y);\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar regexpExec = require('../internals/regexp-exec');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\nvar REPLACE = wellKnownSymbol('replace');\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\nmodule.exports = function (KEY, length, exec, sham) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !(\n      REPLACE_SUPPORTS_NAMED_GROUPS &&\n      REPLACE_KEEPS_$0 &&\n      !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    )) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      if (regexp.exec === regexpExec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    }, {\n      REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n      REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    });\n    var stringMethod = methods[0];\n    var regexMethod = methods[1];\n\n    redefine(String.prototype, KEY, stringMethod);\n    redefine(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return regexMethod.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return regexMethod.call(string, this); }\n    );\n  }\n\n  if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n};\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","/**\n * @file: avc.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\n/**\n * H.264/AVC/HEVC Stream.\n */\nimport Stream from '../../util/stream';\nimport StreamType from '../../enum/stream-types';\nimport NaluTypes from '../../enum/nalu-types';\nimport AVCCodec from '../../codec/avc';\nimport getAVCConfig from '../../codec/avc/avc-config';\nimport logger from '../../util/logger';\n\nclass H264Stream extends Stream {\n\tconstructor(psi) {\n\t\tsuper();\n\n\t\t/** @private {PSI} */\n\t\tthis.PSI = psi;\n\n\t\t/** @private {?Object} */\n\t\tthis.trackId = null;\n\n\t\t/** @private {Array} */\n\t\tthis.currentFrame = []; // a group of nalu\n\n\t\t/** @private {AVCCodec} */\n\t\tthis.codec = new AVCCodec();\n\n\t\tthis._newGop();\n\t\tthis._newGops();\n\n\t\tthis.codec.on('nalu', (nalu) => {\n\t\t\tif (nalu.unit_type === NaluTypes.SPS) {\n\t\t\t\tlet track = this.PSI.findTrack(this.trackId);\n\t\t\t\tlet config = getAVCConfig(nalu.sps);\n\n\t\t\t\t// write sps info to video track.\n\t\t\t\ttrack.codec = config.codec;\n\t\t\t\ttrack.width = nalu.sps.width;\n\t\t\t\ttrack.height = nalu.sps.height;\n\t\t\t\ttrack.profileIdc = nalu.sps.profile_idc;\n\t\t\t\ttrack.profileCompatibility = nalu.sps.profile_compatibility;\n\t\t\t\ttrack.levelIdc = nalu.sps.level_idc;\n\t\t\t\ttrack.pixelRatio = nalu.sps.pixelRatio;\n\t\t\t\ttrack.sps = [nalu.rawData];\n\t\t\t} else if (nalu.unit_type === NaluTypes.PPS) {\n\t\t\t\tlet track = this.PSI.findTrack(this.trackId);\n\t\t\t\ttrack.pps = [nalu.rawData];\n\t\t\t}\n\n\t\t\tthis._grouping(nalu);\n\t\t});\n\t}\n\n\t/**\n\t * Push a complete pes\n\t * @param data\n\t */\n\tpush(data) {\n\t\tif (data.stream_type === StreamType.H264 || data.stream_type === StreamType.HEVC) {\n\t\t\tthis.trackId = data.pid;\n\n\t\t\tthis.codec.push(data);\n\t\t}\n\t}\n\n\tflush() {\n\t\t// Push last frame into gop.\n\t\tif (this.currentFrame.length > 0) {\n\t\t\t// If the last frame has valid duration, use the duration of the previous frame\n\t\t\tif (!this.currentFrame.duration || this.currentFrame.duration <= 0) {\n\t\t\t\tthis.currentFrame.duration = this.prevFrame.duration || 0;\n\t\t\t}\n\n\t\t\tthis._pushFrameIntoGop();\n\t\t\tthis.currentFrame = [];\n\t\t}\n\n\t\t// Push last gop.\n\t\tif (this.gop.length > 0) {\n\t\t\tthis._pushGopIntoGroup();\n\t\t}\n\t}\n\n\treset() {\n\t\tthis.codec.reset();\n\n\t\tthis.currentFrame = [];\n\t\tthis._newGop();\n\t\tthis._newGops();\n\t}\n\n\t/**\n\t * Group nalu into frame & gop.\n\t * @param currentNal\n\t * @private\n\t */\n\t_grouping(currentNal) {\n\t\tif (currentNal.unit_type === NaluTypes.AUD) {\n\t\t\tif (this.currentFrame.length > 0) {\n\t\t\t\tthis.currentFrame.duration = currentNal.dts - this.currentFrame.dts;\n\n\t\t\t\tif (this.gop.length > 0 && this.currentFrame.keyframe) {\n\t\t\t\t\tthis.gop.trackId = this.trackId;\n\n\t\t\t\t\tthis._pushGopIntoGroup();\n\t\t\t\t}\n\n\t\t\t\t// the gop should commence with a key frame,\n\t\t\t\t// or the frame will be dropped until finding one that contains a key frame.\n\t\t\t\tif (this.currentFrame.keyframe || this.gop.length > 0) {\n\t\t\t\t\tthis._pushFrameIntoGop();\n\t\t\t\t} else {\n\t\t\t\t\tlogger.warn(`h264 codec drop frame`);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.prevFrame = this.currentFrame;\n\n\t\t\t// end a frame.\n\t\t\tthis.currentFrame = [];\n\t\t\tthis.currentFrame.keyframe = false;\n\t\t\tthis.currentFrame.byteLength = 0;\n\t\t\tthis.currentFrame.naluCount = 0;\n\t\t\tthis.currentFrame.pts = currentNal.pts;\n\t\t\tthis.currentFrame.dts = currentNal.dts;\n\t\t} else {\n\t\t\tif (currentNal.unit_type === NaluTypes.IDR_SLICE) {\n\t\t\t\tthis.currentFrame.keyframe = true;\n\t\t\t}\n\n\t\t\tthis.currentFrame.byteLength += currentNal.rawData.byteLength;\n\t\t\tthis.currentFrame.naluCount++;\n\t\t\tthis.currentFrame.push(currentNal);\n\t\t}\n\n\t\tthis.currentFrame.duration = currentNal.dts - this.currentFrame.dts;\n\t}\n\n\t_newGop() {\n\t\tthis.gop = []; // a group of idr-start-frame sequence\n\n\t\tthis.gop.duration = 0;\n\t\tthis.gop.naluCount = 0;\n\t\tthis.gop.byteLength = 0;\n\t}\n\n\t_pushFrameIntoGop() {\n\t\t// Gop\n\t\tthis.gop.push(this.currentFrame);\n\t\tthis.gop.duration += this.currentFrame.duration;\n\t\tthis.gop.byteLength += this.currentFrame.byteLength;\n\t\tthis.gop.naluCount += this.currentFrame.naluCount;\n\t}\n\n\t_newGops() {\n\t\tthis.gops = []; // a group of gop\n\t\tthis.gops.type = 'video';\n\t\tthis.gops.duration = 0;\n\t\tthis.gops.naluCount = 0;\n\t\tthis.gops.byteLength = 0;\n\t\tthis.gops.frameLength = 0;\n\t\tthis.gops.firstDTS = 0;\n\t}\n\n\t_pushGopIntoGroup() {\n\t\tlet firstFrame = this.gop[0];\n\t\t// GOPs\n\t\tthis.gops.trackId = this.trackId;\n\t\tthis.gops.duration += this.gop.duration;\n\t\tthis.gops.byteLength += this.gop.byteLength;\n\t\tthis.gops.naluCount += this.gop.naluCount;\n\t\tthis.gops.frameLength += this.gop.length;\n\t\tthis.gops.firstDTS = firstFrame.dts;\n\t\tthis.gops.firstPTS = firstFrame.pts;\n\n\t\tthis.gops.push(this.gop);\n\n\t\tthis.emit('data', this.gops);\n\n\t\tthis._newGop();\n\t\tthis._newGops();\n\n\t\tthis.emit('done');\n\t}\n}\n\nexport default H264Stream;\n","/**\n * @file: nalu-types.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n * @overview nal_unit_type, defined in ISO/IEC 14496-10:Table 7-1  NAL unit type codes\n */\n\n/*\n// nal_unit_type    Content of NAL unit and RBSP syntax structure                                   C\n// 0                Unspecified\n// 1                Coded slice of a non-IDR picture slice_layer_without_partitioning_rbsp( )       2, 3, 4\n// 2                Coded slice data partition A slice_data_partition_a_layer_rbsp( )               2\n// 3                Coded slice data partition B slice_data_partition_b_layer_rbsp( )               3\n// 4                Coded slice data partition C slice_data_partition_c_layer_rbsp( )               4\n// 5                Coded slice of an IDR picture slice_layer_without_partitioning_rbsp( )          2, 3\n// 6                (SEI)Supplemental enhancement information sei_rbsp( )                           5\n// 7                (SPS)Sequence parameter set seq_parameter_set_rbsp( )                           0\n// 8                (PPS)Picture parameter set pic_parameter_set_rbsp( )                            1\n// 9                (AUD)Access unit delimiter access_unit_delimiter_rbsp( )                        6\n// 10               End of sequence end_of_seq_rbsp( )                                              7\n// 11               End of stream end_of_stream_rbsp( )                                             8\n// 12               Filler data filler_data_rbsp( )                                                 9\n// 13..23           Reserved\n// 24..31           Unspecified\n*/\n\n/**\n * @readonly\n * @enum {number}\n * @export\n */\nexport default {\n\tNON_IDR_SLICE: 0x01,\n\tDPA_SLICE: 0x02,\n\tDPB_SLICE: 0x03,\n\tDPC_SLICE: 0x04,\n\tIDR_SLICE: 0x05,\n\tSEI: 0x06,\n\tSPS: 0x07,\n\tPPS: 0x08,\n\tAUD: 0x09,\n\tEND_SEQUENCE: 0x0a,\n\tEND_STREAM: 0x0b\n};\n","/**\n * @file: avc.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\n/**\n * h.264/AVC codec\n */\nimport EventEmitter from '../util/event-emitter';\nimport NALUnit from './avc/nalu';\n\nclass AVCCodec extends EventEmitter {\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.cachedBytes = null;\n\t}\n\n\tpush(data) {\n\t\tlet self = this;\n\t\tlet i = 0,\n\t\t\tnaluOffset = 0,\n\t\t\tlastStartCodeLength = 0;\n\t\tlet pesPacket = data.pes;\n\t\tlet pts = pesPacket.PTS,\n\t\t\tdts = pesPacket.DTS;\n\t\tlet pes_data_byte = pesPacket.data_byte;\n\t\tlet data_byte;\n\n\t\tif (this.cachedBytes) {\n\t\t\ttry {\n\t\t\t\tdata_byte = new Uint8Array(this.cachedBytes.byteLength + pes_data_byte.byteLength);\n\t\t\t} catch (e) {\n\t\t\t\tthrow `h264 alloc mem error ${this.cachedBytes.byteLength}/${pes_data_byte.byteLength}`;\n\t\t\t}\n\t\t\tdata_byte.set(this.cachedBytes);\n\t\t\tdata_byte.set(pes_data_byte, this.cachedBytes.byteLength);\n\t\t} else {\n\t\t\tdata_byte = pes_data_byte;\n\t\t}\n\t\t/** naluSizeLengthsize+data  */\n\t\tif (!pesPacket.hasOwnProperty('naluSizeLength')) {\n\t\t\tlet j = data_byte.byteLength - 1;\n\t\t\tlet dropZerosLength = 0;\n\n\t\t\t// Collect tailing zeros.\n\t\t\t// end with 0x000000 and more...\n\t\t\tdo {\n\t\t\t\tif (data_byte[j] === 0x00) {\n\t\t\t\t\tdropZerosLength++;\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tj--;\n\t\t\t} while (j > 0);\n\n\t\t\tif (dropZerosLength >= 3) {\n\t\t\t\t// drop tailing zeros.\n\t\t\t\tdata_byte = data_byte.subarray(0, j + 1);\n\t\t\t}\n\n\t\t\tdo {\n\t\t\t\tlet uint32 =\n\t\t\t\t\t(data_byte[i] << 24) | (data_byte[i + 1] << 16) | (data_byte[i + 2] << 8) | data_byte[i + 3];\n\t\t\t\tlet start_code = data_byte.length - i >= 4 ? uint32 : -1;\n\t\t\t\tlet start_code_length = 0;\n\t\t\t\tlet isLastByte = i === data_byte.length - 1;\n\n\t\t\t\tif (start_code >> 8 === 1) {\n\t\t\t\t\t/*commence with 3 bytes*/\n\t\t\t\t\tstart_code_length = 3;\n\t\t\t\t} else if (start_code === 1) {\n\t\t\t\t\t/*commence with 4 bytes*/\n\t\t\t\t\tstart_code_length = 4;\n\t\t\t\t}\n\n\t\t\t\tif (start_code_length === 3 || start_code_length === 4 || isLastByte) {\n\t\t\t\t\tlet startPos = naluOffset + lastStartCodeLength;\n\t\t\t\t\tlet isNaluEndByte = isLastByte && dropZerosLength >= 3;\n\n\t\t\t\t\tif (i > naluOffset && (!isLastByte || isNaluEndByte)) {\n\t\t\t\t\t\tlet bytes = data_byte.subarray(startPos, isNaluEndByte ? i + 1 : i);\n\t\t\t\t\t\tlet nalu = new NALUnit(bytes);\n\n\t\t\t\t\t\t// PES\n\t\t\t\t\t\tnalu.pts = pts;\n\t\t\t\t\t\tnalu.dts = dts;\n\n\t\t\t\t\t\tself.emit('nalu', nalu);\n\t\t\t\t\t\tnaluOffset = i;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (isLastByte) {\n\t\t\t\t\t\tif (dropZerosLength < 3) {\n\t\t\t\t\t\t\tthis.cachedBytes = data_byte.subarray(naluOffset);\n\t\t\t\t\t\t\tthis.cachedBytes.pts = pts;\n\t\t\t\t\t\t\tthis.cachedBytes.dts = dts;\n\t\t\t\t\t\t\tthis.cachedBytes.startCodeLength = lastStartCodeLength;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.cachedBytes = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (i === naluOffset) {\n\t\t\t\t\t\t// record last start code length.\n\t\t\t\t\t\tlastStartCodeLength = start_code_length;\n\t\t\t\t\t}\n\n\t\t\t\t\ti += start_code_length || 1;\n\t\t\t\t} else {\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t} while (i < data_byte.length);\n\t\t} else {\n\t\t\tlet naluSizeLength = pesPacket.naluSizeLength;\n\t\t\tlet startPos = 0,\n\t\t\t\tsize = 0,\n\t\t\t\tendPos = 0;\n\t\t\tdo {\n\t\t\t\tsize = 0;\n\t\t\t\tfor (let k = 0; k < naluSizeLength; k++) {\n\t\t\t\t\tsize = size | (data_byte[startPos + k] << ((naluSizeLength - k - 1) * 8));\n\t\t\t\t}\n\t\t\t\t// size = (data_byte[i] << 24) | (data_byte[i + 1] << 16) | (data_byte[i + 2] << 8) | data_byte[i + 3];\n\t\t\t\tstartPos += naluSizeLength;\n\t\t\t\tendPos = startPos + size;\n\t\t\t\tif (endPos > data_byte.length) {\n\t\t\t\t\tendPos = data_byte.length;\n\t\t\t\t}\n\n\t\t\t\tlet bytes = data_byte.subarray(startPos, endPos);\n\t\t\t\tlet nalu = new NALUnit(bytes);\n\t\t\t\t// PES\n\t\t\t\tnalu.pts = pts;\n\t\t\t\tnalu.dts = dts;\n\n\t\t\t\tself.emit('nalu', nalu);\n\t\t\t\tstartPos = endPos;\n\t\t\t} while (startPos < data_byte.length);\n\t\t}\n\n\t\tif (this.cachedBytes) {\n\t\t\tlet nalu = new NALUnit(this.cachedBytes.subarray(this.cachedBytes.startCodeLength));\n\n\t\t\tnalu.pts = this.cachedBytes.pts;\n\t\t\tnalu.dts = this.cachedBytes.dts;\n\n\t\t\tthis.emit('nalu', nalu);\n\n\t\t\tthis.cachedBytes = null;\n\t\t}\n\n\t\tthis.emit('done');\n\t}\n\n\treset() {\n\t\tthis.cachedBytes = null;\n\t}\n}\n\nexport default AVCCodec;\n","/**\n * @file: nalu.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\nimport DataViewReader from '../../util/dv';\nimport NaluTypes from '../../enum/nalu-types';\nimport discardEP3B from './ep3b';\nimport decodeSPS from './sps';\nimport decodePPS from './pps';\n\n/**\n * decode (SEI)Supplemental enhancement information\n * @param payload\n * @returns {{}}\n * @private\n */\nfunction _decodeSEI(payload) {\n\treturn {};\n}\n\n/**\n * decode (AUD)Access unit delimiter\n * @param payload\n * @private\n */\nfunction _decodeAUD(payload) {\n\t// var primary_pic_type_table = {\n\t//     0x084, // 2, 7\n\t//     0x0a5, // 0, 2, 5, 7\n\t//     0x0e7, // 0, 1, 2, 5, 6, 7\n\t//     0x210, // 4, 9\n\t//     0x318, // 3, 4, 8, 9\n\t//     0x294, // 2, 4, 7, 9\n\t//     0x3bd, // 0, 2, 3, 4, 5, 7, 8, 9\n\t//     0x3ff, // 0, 1, 2, 3, 4, 5, 6, 7, 8, 9\n\t// }\n\n\treturn payload[0] >> 5;\n}\n\nexport default class NALU extends DataViewReader {\n\tconstructor(buffer) {\n\t\tsuper();\n\n\t\tthis.forbidden_zero_bit = buffer[0] >> 7;\n\n\t\t// nalu priority.\n\t\tthis.ref_idc = (buffer[0] >> 5) & 0x03;\n\n\t\t// specifies the type of RBSP data structure. see in mux-nalu-types.js\n\t\tthis.unit_type = buffer[0] & 0x1f;\n\n\t\tthis.data = discardEP3B(buffer.subarray(1));\n\t\tthis.rawData = buffer;\n\n\t\tswitch (this.unit_type) {\n\t\t\tcase NaluTypes.NON_IDR_SLICE:\n\t\t\t\tbreak;\n\t\t\tcase NaluTypes.DPA_SLICE:\n\t\t\tcase NaluTypes.DPB_SLICE:\n\t\t\tcase NaluTypes.DPC_SLICE:\n\t\t\t\t// TODO decode A/B/C Partition Slice.\n\t\t\t\tbreak;\n\t\t\tcase NaluTypes.IDR_SLICE:\n\t\t\t\t// this.data = decodeSlice(this.data).data;\n\t\t\t\tbreak;\n\t\t\tcase NaluTypes.SPS:\n\t\t\t\tthis.sps = decodeSPS(this.data);\n\t\t\t\tbreak;\n\t\t\tcase NaluTypes.PPS:\n\t\t\t\tthis.pps = decodePPS(this.data);\n\t\t\t\tbreak;\n\t\t\tcase NaluTypes.SEI:\n\t\t\t\tthis.sei = _decodeSEI(this.data);\n\t\t\t\tbreak;\n\t\t\tcase NaluTypes.AUD:\n\t\t\t\tthis.primary_pic_type = _decodeAUD(this.data);\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n","/**\n * @file: dv.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\n/**\n * Bit buffer reader like DataView.\n */\n\nfunction read(buf) {\n\tlet byteOffset = 0;\n\n\tif (ArrayBuffer.isView(buf)) {\n\t\tbyteOffset = buf.byteOffset;\n\t\tbuf = buf.buffer;\n\t}\n\n\treturn new DataView(buf, byteOffset);\n}\n\n\nclass DataViewReader {\n\tconstructor() {\n\t}\n\n\t/**\n\t * Gets an unsigned 8-bit integer (unsigned byte).\n\t * @param buffer\n\t * @param byteOffset    The offset, in byte, from the start of the view where to read the data.\n\t * @returns {number}    An unsigned 8-bit integer number.\n\t */\n\treadUint8(buffer, byteOffset) {\n\t\treturn read(buffer).getUint8(byteOffset);\n\t}\n\n\t/**\n\t * Gets an unsigned 16-bit integer (unsigned long).\n\t * @param buffer\n\t * @param byteOffset     The offset, in byte, from the start of the view where to read the data.\n\t * @param littleEndian   Indicates whether the 16-bit int is stored in little- or big-endian format.\n\t * @returns {number}     An unsigned 16-bit integer number.\n\t */\n\treadUint16(buffer, byteOffset, littleEndian = false) {\n\t\treturn read(buffer).getUint16(byteOffset, littleEndian);\n\t}\n\n\t/**\n\t * Gets an unsigned 32-bit integer (unsigned long).\n\t * @param buffer\n\t * @param byteOffset        The offset, in byte, from the start of the view where to read the data.\n\t * @param littleEndian      Indicates whether the 32-bit int is stored in little- or big-endian format.\n\t * @returns {number}        An unsigned 32-bit integer number.\n\t */\n\treadUint32(buffer, byteOffset, littleEndian = false) {\n\t\treturn read(buffer).getUint32(byteOffset, littleEndian);\n\t}\n}\n\n\nexport default DataViewReader;\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar arrayBufferModule = require('../internals/array-buffer');\nvar setSpecies = require('../internals/set-species');\n\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar ArrayBuffer = arrayBufferModule[ARRAY_BUFFER];\nvar NativeArrayBuffer = global[ARRAY_BUFFER];\n\n// `ArrayBuffer` constructor\n// https://tc39.github.io/ecma262/#sec-arraybuffer-constructor\n$({ global: true, forced: NativeArrayBuffer !== ArrayBuffer }, {\n  ArrayBuffer: ArrayBuffer\n});\n\nsetSpecies(ARRAY_BUFFER);\n","var $ = require('../internals/export');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\n\nvar NATIVE_ARRAY_BUFFER_VIEWS = ArrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS;\n\n// `ArrayBuffer.isView` method\n// https://tc39.github.io/ecma262/#sec-arraybuffer.isview\n$({ target: 'ArrayBuffer', stat: true, forced: !NATIVE_ARRAY_BUFFER_VIEWS }, {\n  isView: ArrayBufferViewCore.isView\n});\n","var $ = require('../internals/export');\nvar ArrayBufferModule = require('../internals/array-buffer');\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-native');\n\n// `DataView` constructor\n// https://tc39.github.io/ecma262/#sec-dataview-constructor\n$({ global: true, forced: !NATIVE_ARRAY_BUFFER }, {\n  DataView: ArrayBufferModule.DataView\n});\n","/**\n * @file: ep3b.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\n/**\n * discard the emulation_prevention_three_byte\n * @param data\n * @returns {Uint8Array}\n */\nexport default function discardEP3B(data) {\n\tlet length = data.byteLength,\n\t\temulationPreventionBytesPositions = [],\n\t\ti = 1,\n\t\tnewLength,\n\t\tnewData = new Uint8Array(0);\n\n\t// Find all `Emulation Prevention Bytes`\n\twhile (i < length - 2) {\n\t\tif (data[i] === 0 && data[i + 1] === 0 && data[i + 2] === 0x03) {\n\t\t\temulationPreventionBytesPositions.push(i + 2);\n\t\t\ti += 2;\n\t\t} else {\n\t\t\ti++;\n\t\t}\n\t}\n\n\t// If no Emulation Prevention Bytes were found just return the original\n\t// array\n\tif (emulationPreventionBytesPositions.length === 0) {\n\t\treturn data;\n\t}\n\n\t// Create a new array to hold the NAL unit data\n\tnewLength = length - emulationPreventionBytesPositions.length;\n\n\ttry {\n\t\tnewData = new Uint8Array(newLength);\n\t} catch (e) {\n\t\tthrow `epsb alloc mem error ${newLength}`;\n\t}\n\tlet sourceIndex = 0;\n\n\tfor (i = 0; i < newLength; sourceIndex++, i++) {\n\t\tif (sourceIndex === emulationPreventionBytesPositions[0]) {\n\t\t\t// Skip this byte\n\t\t\tsourceIndex++;\n\t\t\t// Remove this position index\n\t\t\temulationPreventionBytesPositions.shift();\n\t\t}\n\t\tnewData[i] = data[sourceIndex];\n\t}\n\n\treturn newData;\n}\n","/**\n * @file: sps.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\nimport ExpGolomb from '../../util/exp-golumb';\n\nlet bitOffset = 0;\n\n/**\n * 7.3.2.1.1.1 Scaling list syntax\n * @param scalingList\n * @param size\n */\nfunction scaling_list(scalingList, size) {\n\tlet lastScale = 8;\n\tlet nextScale = 8;\n\tlet delta_scale;\n\n\tfor (var j = 0; j < size; j++) {\n\t\tif (nextScale != 0) {\n\t\t\tdelta_scale = ExpGolomb.readUEV(scalingList, bitOffset);\n\t\t\tbitOffset += delta_scale.bitLength;\n\n\t\t\tnextScale = (lastScale + delta_scale.value + 256) % 256;\n\t\t}\n\n\t\tlastScale = scalingList[j];\n\t}\n}\n\n/**\n * decode (SPS)Sequence parameter set\n * @param payload\n * @returns {{}}\n */\nexport default function(payload) {\n\tbitOffset = 0;\n\n\tlet profile_idc = payload[0];\n\tlet profile_compatibility = payload[1];\n\tlet level_idc = payload[2];\n\tlet golombBuffer = payload.subarray(3);\n\tlet separate_colour_plane_flag = 0,\n\t\tqpprime_y_zero_transform_bypass_flag = 0,\n\t\tseq_scaling_matrix_present_flag = 0;\n\tlet lmpoclmUEV;\n\tlet delta_pic_order_always_zero_flag = 0,\n\t\tofnrpSEV,\n\t\tofttbfSEV,\n\t\tnrfipoccUEV;\n\tlet pixelRatio = [1, 1],\n\t\tpixelScale = 1;\n\tlet video_format;\n\tlet fps = 0,\n\t\tnum_units_in_tick,\n\t\ttime_scale,\n\t\tfixed_frame_rate_flag = true;\n\n\t// seq_parameter_set_id\n\tlet spsUEV = ExpGolomb.readUEV(golombBuffer, bitOffset);\n\tbitOffset += spsUEV.bitLength;\n\n\tif (\n\t\tprofile_idc == 100 ||\n\t\tprofile_idc == 110 ||\n\t\tprofile_idc == 122 ||\n\t\tprofile_idc == 244 ||\n\t\tprofile_idc == 44 ||\n\t\tprofile_idc == 83 ||\n\t\tprofile_idc == 86 ||\n\t\tprofile_idc == 118 ||\n\t\tprofile_idc == 128\n\t) {\n\t\t// chroma_format_idc\n\t\tlet chromaFIUEV = ExpGolomb.readUEV(golombBuffer, bitOffset);\n\t\tbitOffset += chromaFIUEV.bitLength;\n\n\t\tif (chromaFIUEV.value == 3) {\n\t\t\t// separate_colour_plane_flag = ExpGolomb.readBit(golombBuffer, bitOffset);\n\t\t\tbitOffset += 1;\n\t\t}\n\n\t\t// bit_depth_luma_minus8\n\t\tlet bitdlmUEV = ExpGolomb.readUEV(golombBuffer, bitOffset);\n\t\tbitOffset += bitdlmUEV.bitLength;\n\n\t\t// bit_depth_chroma_minus8\n\t\tlet bitdcmUEV = ExpGolomb.readUEV(golombBuffer, bitOffset);\n\t\tbitOffset += bitdcmUEV.bitLength;\n\n\t\t// qpprime_y_zero_transform_bypass_flag\n\t\t// qpprime_y_zero_transform_bypass_flag = ExpGolomb.readBit(golombBuffer, bitOffset);\n\t\tbitOffset += 1;\n\n\t\t// seq_scaling_matrix_present_flag\n\t\tseq_scaling_matrix_present_flag = ExpGolomb.readBit(golombBuffer, bitOffset);\n\t\tbitOffset += 1;\n\n\t\tif (seq_scaling_matrix_present_flag) {\n\t\t\tfor (let i = 0; i < (chromaFIUEV.value != 3 ? 8 : 12); i++) {\n\t\t\t\tlet seq_scaling_list_present_flag = ExpGolomb.readBit(golombBuffer, bitOffset);\n\t\t\t\tbitOffset += 1;\n\n\t\t\t\tif (seq_scaling_list_present_flag) {\n\t\t\t\t\tif (i < 6) {\n\t\t\t\t\t\tscaling_list(golombBuffer, 16);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tscaling_list(golombBuffer, 64);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// log2_max_frame_num_minus4\n\tlet lmfnmUEV = ExpGolomb.readUEV(golombBuffer, bitOffset);\n\tbitOffset += lmfnmUEV.bitLength;\n\n\t// pic_order_cnt_type\n\tlet poctUEV = ExpGolomb.readUEV(golombBuffer, bitOffset);\n\tlet pic_order_cnt_type = poctUEV.value;\n\tbitOffset += poctUEV.bitLength;\n\n\tif (pic_order_cnt_type === 0) {\n\t\t// log2_max_pic_order_cnt_lsb_minus4\n\t\tlmpoclmUEV = ExpGolomb.readUEV(golombBuffer, bitOffset);\n\t\tbitOffset += lmpoclmUEV.bitLength;\n\t} else if (pic_order_cnt_type === 1) {\n\t\t// delta_pic_order_always_zero_flag = ExpGolomb.readBit(golombBuffer, bitOffset);\n\t\tbitOffset += 1;\n\n\t\t// offset_for_non_ref_pic\n\t\tofnrpSEV = ExpGolomb.readSEV(golombBuffer, bitOffset);\n\t\tbitOffset += ofnrpSEV.bitLength;\n\n\t\t// offset_for_top_to_bottom_field\n\t\tofttbfSEV = ExpGolomb.readSEV(golombBuffer, bitOffset);\n\t\tbitOffset += ofttbfSEV.bitLength;\n\n\t\t// num_ref_frames_in_pic_order_cnt_cycle\n\t\tnrfipoccUEV = ExpGolomb.readUEV(golombBuffer, bitOffset);\n\t\tbitOffset += nrfipoccUEV.bitLength;\n\n\t\t// let offset_for_ref_frames = [];\n\t\tfor (let i = 0, item; i < nrfipoccUEV.value; i++) {\n\t\t\titem = ExpGolomb.readSEV(golombBuffer, bitOffset);\n\t\t\tbitOffset += item.bitLength;\n\n\t\t\t// offset_for_ref_frames.push(item);\n\t\t}\n\t}\n\n\t// max_num_ref_frames\n\t// \n\t// H.264  16  16\n\tlet mnrfUEV = ExpGolomb.readUEV(golombBuffer, bitOffset);\n\tbitOffset += mnrfUEV.bitLength;\n\n\t// gaps_in_frame_num_value_allowed_flag\n\t// let gaps_in_frame_num_value_allowed_flag = ExpGolomb.readBit(golombBuffer, bitOffset);\n\tbitOffset += 1;\n\n\t// pic_width_in_mbs_minus1\n\tlet picWidthUEV = ExpGolomb.readUEV(golombBuffer, bitOffset);\n\tbitOffset += picWidthUEV.bitLength;\n\n\t// pic_height_in_map_units_minus1\n\tlet picHeightUEV = ExpGolomb.readUEV(golombBuffer, bitOffset);\n\tbitOffset += picHeightUEV.bitLength;\n\n\t// frame_mbs_only_flag\n\t//  1 , \n\t//  0 , \n\tlet frame_mbs_only_flag = ExpGolomb.readBit(golombBuffer, bitOffset);\n\tbitOffset += 1;\n\n\tif (!frame_mbs_only_flag) {\n\t\t// mb_adaptive_frame_field_flag (Unused, Unnecessary to read it.)\n\t\t// ExpGolomb.readBit(golombBuffer, bitOffset);\n\t\tbitOffset += 1;\n\t}\n\n\t// direct_8x8_inference_flag,   B   skip \n\t// let direct_8x8_inference_flag = ExpGolomb.readBit(golombBuffer, bitOffset);\n\tbitOffset += 1;\n\n\t// frame_cropping_flag, \n\tlet frame_cropping_flag = ExpGolomb.readBit(golombBuffer, bitOffset);\n\tbitOffset += 1;\n\n\tlet cropLeft = 0,\n\t\tcropRight = 0,\n\t\tcropTop = 0,\n\t\tcropBottom = 0;\n\tif (frame_cropping_flag) {\n\t\tlet fcloUEV = ExpGolomb.readUEV(golombBuffer, bitOffset);\n\t\tbitOffset += fcloUEV.bitLength;\n\t\tcropLeft = fcloUEV.value;\n\n\t\tlet fcroUEV = ExpGolomb.readUEV(golombBuffer, bitOffset);\n\t\tbitOffset += fcroUEV.bitLength;\n\t\tcropRight = fcroUEV.value;\n\n\t\tlet fctoUEV = ExpGolomb.readUEV(golombBuffer, bitOffset);\n\t\tbitOffset += fctoUEV.bitLength;\n\t\tcropTop = fctoUEV.value;\n\n\t\tlet fcboUEV = ExpGolomb.readUEV(golombBuffer, bitOffset);\n\t\tbitOffset += fcboUEV.bitLength;\n\t\tcropBottom = fcboUEV.value;\n\t}\n\n\t// vui_parameters_present_flag\n\tlet vui_parameters_present_flag = ExpGolomb.readBit(golombBuffer, bitOffset);\n\tbitOffset += 1;\n\n\tif (vui_parameters_present_flag) {\n\t\t// Annex E, E.1.1 VUI parameters syntax\n\t\t// VUI \n\t\t// aspect_ratio, video_format\n\n\t\tlet aspect_ratio_info_present_flag = ExpGolomb.readBit(golombBuffer, bitOffset);\n\t\tbitOffset += 1;\n\n\t\tif (aspect_ratio_info_present_flag) {\n\t\t\tconst aspectRatioIdc = ExpGolomb.readByte(golombBuffer, bitOffset);\n\t\t\tbitOffset += 8;\n\n\t\t\tswitch (aspectRatioIdc) {\n\t\t\t\tcase 1:\n\t\t\t\t\tpixelRatio = [1, 1];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\tpixelRatio = [12, 11];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3:\n\t\t\t\t\tpixelRatio = [10, 11];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\tpixelRatio = [16, 11];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5:\n\t\t\t\t\tpixelRatio = [40, 33];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 6:\n\t\t\t\t\tpixelRatio = [24, 11];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 7:\n\t\t\t\t\tpixelRatio = [20, 11];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 8:\n\t\t\t\t\tpixelRatio = [32, 11];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 9:\n\t\t\t\t\tpixelRatio = [80, 33];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 10:\n\t\t\t\t\tpixelRatio = [18, 11];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 11:\n\t\t\t\t\tpixelRatio = [15, 11];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 12:\n\t\t\t\t\tpixelRatio = [64, 33];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 13:\n\t\t\t\t\tpixelRatio = [160, 99];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 14:\n\t\t\t\t\tpixelRatio = [4, 3];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 15:\n\t\t\t\t\tpixelRatio = [3, 2];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 16:\n\t\t\t\t\tpixelRatio = [2, 1];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 255: {\n\t\t\t\t\tlet width0 = ExpGolomb.readByte(golombBuffer, bitOffset);\n\t\t\t\t\tbitOffset += 8;\n\t\t\t\t\tlet width1 = ExpGolomb.readByte(golombBuffer, bitOffset);\n\t\t\t\t\tbitOffset += 8;\n\t\t\t\t\tlet height0 = ExpGolomb.readByte(golombBuffer, bitOffset);\n\t\t\t\t\tbitOffset += 8;\n\t\t\t\t\tlet height1 = ExpGolomb.readByte(golombBuffer, bitOffset);\n\t\t\t\t\tbitOffset += 8;\n\t\t\t\t\tpixelRatio = [(width0 << 8) | width1, (height0 << 8) | height1];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (pixelRatio) {\n\t\t\t\tpixelScale = pixelRatio[0] / pixelRatio[1];\n\t\t\t}\n\n\t\t\tif (aspectRatioIdc === 255) {\n\t\t\t\t// sar_width\n\t\t\t\tbitOffset += 16;\n\t\t\t\t// sar_height\n\t\t\t\tbitOffset += 16;\n\t\t\t}\n\t\t}\n\n\t\tlet overscan_info_present_flag = ExpGolomb.readBit(golombBuffer, bitOffset);\n\t\tbitOffset += 1;\n\n\t\tif (overscan_info_present_flag) {\n\t\t\tbitOffset += 1;\n\t\t\t// overscan_appropriate_flag;\n\t\t}\n\n\t\tlet video_signal_type_present_flag = ExpGolomb.readBit(golombBuffer, bitOffset);\n\t\tbitOffset += 1;\n\n\t\tif (video_signal_type_present_flag) {\n\t\t\t/*\n                Table E-2  Meaning of video_format\n                video_format    Meaning\n                0               Component\n                1               PAL\n                2               NTSC\n                3               SECAM\n                4               MAC\n                5               Unspecified video format\n                6               Reserved\n                7               Reserved\n             */\n\t\t\tvideo_format = ExpGolomb.readBit(golombBuffer, bitOffset, 3);\n\t\t\tbitOffset += 3;\n\n\t\t\t// switch (video_format) {\n\t\t\t// }\n\n\t\t\t// let video_full_range_flag = ExpGolomb.readBit(golombBuffer, bitOffset);\n\t\t\tbitOffset += 1;\n\n\t\t\tlet colour_description_present_flag = ExpGolomb.readBit(golombBuffer, bitOffset);\n\t\t\tbitOffset += 1;\n\n\t\t\tif (colour_description_present_flag) {\n\t\t\t\t// colour_primaries            u(8)\n\t\t\t\t// transfer_characteristics    u(8)\n\t\t\t\t// matrix_coefficients         u(8)\n\t\t\t\tbitOffset += 24;\n\t\t\t}\n\t\t}\n\n\t\tlet chroma_loc_info_present_flag = ExpGolomb.readBit(golombBuffer, bitOffset);\n\t\tbitOffset += 1;\n\n\t\tif (chroma_loc_info_present_flag) {\n\t\t\tlet chroma_sample_loc_type_top_field = ExpGolomb.readUEV(golombBuffer, bitOffset);\n\t\t\tbitOffset += chroma_sample_loc_type_top_field.bitLength;\n\n\t\t\tlet chroma_sample_loc_type_bottom_field = ExpGolomb.readUEV(golombBuffer, bitOffset);\n\t\t\tbitOffset += chroma_sample_loc_type_bottom_field.bitLength;\n\t\t}\n\n\t\tlet timing_info_present_flag = ExpGolomb.readBit(golombBuffer, bitOffset);\n\t\tbitOffset += 1;\n\n\t\tif (timing_info_present_flag) {\n\t\t\tnum_units_in_tick = ExpGolomb.readBit(golombBuffer, bitOffset, 32);\n\t\t\tbitOffset += 32;\n\n\t\t\ttime_scale = ExpGolomb.readBit(golombBuffer, bitOffset, 32);\n\t\t\tbitOffset += 32;\n\n\t\t\tfixed_frame_rate_flag = ExpGolomb.readBit(golombBuffer, bitOffset);\n\t\t\tbitOffset += 1;\n\n\t\t\tfps = time_scale / (num_units_in_tick * 2);\n\t\t}\n\n\t\t// There is left VUI other's parameters to be decoded ...\n\t\t// For now, it is useless, so don't pass them.\n\t}\n\n\t// let FrameHeightInMbs = (2 - frame_mbs_only_flag) * (picHeightUEV.value + 1);\n\t// PicSizeInMapUnits = PicWidthInMbs * PicHeightInMapUnits\n\n\treturn {\n\t\tprofile_idc: profile_idc,\n\t\tprofile_compatibility: profile_compatibility,\n\t\tlevel_idc: level_idc,\n\t\tsps_id: spsUEV.value, // ue(v)\n\t\tlog2_max_frame_num_minus4: poctUEV.value, // ue(v)\n\t\tpic_order_cnt_type, // ue(v)\n\t\tlog2_max_pic_order_cnt_lsb_minus4: lmpoclmUEV ? lmpoclmUEV.value : 0, // ue(v)\n\n\t\twidth: Math.ceil(((picWidthUEV.value + 1) * 16 - cropLeft * 2 - cropRight * 2) * pixelScale), // PicWidthInSamplesL = PicWidthInMbs * 16\n\t\theight: (2 - frame_mbs_only_flag) * (picHeightUEV.value + 1) * 16 - cropTop * 2 - cropBottom * 2,\n\n\t\tpixelRatio: pixelRatio,\n\t\tpayload: golombBuffer,\n\n\t\tvideo_format: video_format,\n\n\t\tfps: fps,\n\t\tfixedFPS: fixed_frame_rate_flag\n\t};\n}\n","/**\n * @file: exp-golumb.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\n/**\n * exp golumb algorithm.\n * codeNum = 2leadingZeroBits  1 + read_bits( leadingZeroBits )\n * @see https://en.wikipedia.org/wiki/Exponential-Golomb_coding\n */\n\n/**\n * read n bit.\n * @param buffer\n * @param {number} bitOffset\n * @param {number} length\n * @returns {number}\n * @private\n */\nfunction _readBit(buffer, bitOffset = 0, length = 1) {\n\tlet startByte = 0;\n\tlet startByteBitPos = 0;\n\tlet val = 0;\n\tlet bitStr = '',\n\t\tbitVal = 0;\n\n\tfor (let j = bitOffset; j < bitOffset + length; j++) {\n\t\tstartByte = Math.floor(j / 8);\n\t\tstartByteBitPos = 7 - (j % 8);\n\t\tbitVal = (buffer[startByte] >> startByteBitPos) & 0x01;\n\n\t\tbitStr += bitVal;\n\t}\n\n\tval = parseInt(bitStr, 2);\n\n\treturn val;\n}\n\n/**\n * read 1 byte.\n * @param buffer\n * @param {number} bitOffset\n * @returns {number}\n * @private\n */\nfunction _readByte(buffer, bitOffset = 0) {\n\treturn _readBit(buffer, bitOffset, 8);\n}\n\n/**\n * Unsigned Integer Exp-Golomb Coded.\n * @param buffer\n * @param {number} bitOffset\n * @private\n */\nfunction _readUEV(buffer, bitOffset = 0) {\n\tlet leadingZeros = [];\n\tlet bitLength = buffer.byteLength * 8;\n\tlet readBit1 = false;\n\tlet startByte = 0;\n\tlet startByteBitPos = 0;\n\tlet bitVal = 0;\n\tlet value = '';\n\n\t// 1.  leadingZeros\n\tfor (let i = bitOffset; i < bitLength; i++) {\n\t\tstartByte = Math.floor(i / 8);\n\t\tstartByteBitPos = 7 - (i % 8);\n\n\t\tbitVal = (buffer[startByte] >> startByteBitPos) & 0x01;\n\n\t\tif (!readBit1) {\n\t\t\tif (bitVal === 0) {\n\t\t\t\tleadingZeros.push(0);\n\t\t\t} else {\n\t\t\t\treadBit1 = true;\n\t\t\t\tbitOffset = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tlet codeNumLength = leadingZeros.length + 1;\n\n\t// 2. \n\tfor (let j = bitOffset; j < bitOffset + codeNumLength; j++) {\n\t\tstartByte = Math.floor(j / 8);\n\t\tstartByteBitPos = 7 - (j % 8);\n\t\tbitVal = (buffer[startByte] >> startByteBitPos) & 0x01;\n\n\t\tvalue += bitVal;\n\t}\n\n\tvalue = parseInt(value, 2) - 1;\n\n\treturn {\n\t\tbitLength: leadingZeros.length + codeNumLength,\n\t\tvalue: value\n\t};\n}\n\n/**\n * Signed Integer Exp-Golomb Coded.\n * @param buffer\n * @param {number} bitOffset\n * @private\n */\nfunction _readSEV(buffer, bitOffset = 0) {\n\tlet uev = _readUEV(buffer, bitOffset);\n\tlet codeNum = uev.value;\n\n\tlet signedValue = Math.pow(-1, codeNum + 1) * Math.ceil(codeNum / 2);\n\n\treturn {\n\t\tbitLength: uev.bitLength,\n\t\tvalue: signedValue\n\t};\n}\n\nexport default {\n\treadUEV: _readUEV,\n\treadSEV: _readSEV,\n\treadBit: _readBit,\n\treadByte: _readByte\n};\n","/**\n * @file: pps.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\nimport ExpGolomb from '../../util/exp-golumb';\n\n/**\n * decode (PPS)Picture parameter set\n * @param payload\n * @returns {{}}\n */\nexport default function(payload) {\n\tlet bitOffset = 0;\n\n\tlet golombBuffer = payload;\n\tlet slice_group_change_direction_flag = 0,\n\t\tsliceGroupIds = [];\n\tlet sgcdfUEV, picSizeUEV;\n\tlet i = 0;\n\n\t// pic_parameter_set_id\n\tlet ppsUEV = ExpGolomb.readUEV(golombBuffer, bitOffset);\n\tbitOffset += ppsUEV.bitLength;\n\n\t// seq_parameter_set_id\n\tlet spsUEV = ExpGolomb.readUEV(golombBuffer, bitOffset);\n\tbitOffset += spsUEV.bitLength;\n\n\t// entropy_coding_mode_flag\n\t// 0: Exp-Golomb coded, see subclause 9.1 or CAVLC, see subclause 9.2\n\t// 1: CABAC, see subclause 9.3\n\tlet entropy_coding_mode_flag = ExpGolomb.readBit(golombBuffer, bitOffset);\n\tbitOffset += 1;\n\n\t// bottom_field_pic_order_in_frame_present_flag\n\tlet bottom_field_pic_order_in_frame_present_flag = ExpGolomb.readBit(golombBuffer, bitOffset);\n\tbitOffset += 1;\n\n\t// num_slice_groups_minus1,\n\tlet sliceGroupUEV = ExpGolomb.readUEV(golombBuffer, bitOffset);\n\tbitOffset += sliceGroupUEV.bitLength;\n\n\tif (sliceGroupUEV.value > 0) {\n\t\t// slice_group_map_type\n\t\tlet sgmtUEV = ExpGolomb.readUEV(golombBuffer, bitOffset);\n\t\tbitOffset += sgmtUEV.bitLength;\n\n\t\tlet iGroup = 0,\n\t\t\titemUev;\n\n\t\tswitch (sgmtUEV.value) {\n\t\t\tcase 0:\n\t\t\t\tfor (iGroup = 0; iGroup <= sgmtUEV.value; iGroup++) {\n\t\t\t\t\t// run_length_minus1\n\t\t\t\t\titemUev = ExpGolomb.readUEV(golombBuffer, bitOffset);\n\t\t\t\t\tbitOffset += itemUev.bitLength;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tfor (iGroup = 0; iGroup <= sgmtUEV.value; iGroup++) {\n\t\t\t\t\t// top_left\n\t\t\t\t\titemUev = ExpGolomb.readUEV(golombBuffer, bitOffset);\n\t\t\t\t\tbitOffset += itemUev.bitLength;\n\t\t\t\t\t// bottom_right\n\t\t\t\t\titemUev = ExpGolomb.readUEV(golombBuffer, bitOffset);\n\t\t\t\t\tbitOffset += itemUev.bitLength;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\tcase 4:\n\t\t\tcase 5:\n\t\t\t\t// slice_group_change_direction_flag\n\t\t\t\tslice_group_change_direction_flag = ExpGolomb.readBit(golombBuffer, bitOffset);\n\t\t\t\tbitOffset += 1;\n\t\t\t\t// slice_group_change_rate_minus1\n\t\t\t\tsgcdfUEV = ExpGolomb.readUEV(golombBuffer, bitOffset);\n\t\t\t\tbitOffset += sgcdfUEV.bitLength;\n\t\t\t\tbreak;\n\t\t\tcase 6:\n\t\t\t\t{\n\t\t\t\t\t// pic_size_in_map_units_minus1\n\t\t\t\t\tpicSizeUEV = ExpGolomb.readUEV(golombBuffer, bitOffset);\n\t\t\t\t\tbitOffset += picSizeUEV.bitLength;\n\n\t\t\t\t\tlet length = Math.ceil(Math.log2(sliceGroupUEV.value + 1));\n\t\t\t\t\tfor (i = 0; i <= picSizeUEV.value; i++) {\n\t\t\t\t\t\t// pic_size_in_map_units_minus1\n\t\t\t\t\t\tsliceGroupIds.push(ExpGolomb.readBit(golombBuffer, bitOffset, length));\n\t\t\t\t\t\tbitOffset += length;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t// num_ref_idx_l0_default_active_minus1\n\tlet nril0dcmUEV = ExpGolomb.readUEV(golombBuffer, bitOffset);\n\tbitOffset += nril0dcmUEV.bitLength;\n\n\t// num_ref_idx_l1_default_active_minus1\n\tlet nril1dcmUEV = ExpGolomb.readUEV(golombBuffer, bitOffset);\n\tbitOffset += nril1dcmUEV.bitLength;\n\n\t// weighted_pred_flag\n\tlet weighted_pred_flag = ExpGolomb.readBit(golombBuffer, bitOffset);\n\tbitOffset += 1;\n\n\t// weighted_bipred_idc\n\tlet weighted_bipred_idc = ExpGolomb.readBit(golombBuffer, bitOffset, 2);\n\tbitOffset += 1;\n\n\t// pic_init_qp_minus26\n\tlet piqpSEV = ExpGolomb.readSEV(golombBuffer, bitOffset);\n\tbitOffset += piqpSEV.bitLength;\n\t// pic_init_qs_minus26\n\tlet piqsSEV = ExpGolomb.readSEV(golombBuffer, bitOffset);\n\tbitOffset += piqsSEV.bitLength;\n\t// chroma_qp_index_offset\n\tlet cqioSEV = ExpGolomb.readSEV(golombBuffer, bitOffset);\n\tbitOffset += cqioSEV.bitLength;\n\n\tlet deblocking_filter_control_present_flag = ExpGolomb.readBit(golombBuffer, bitOffset);\n\tbitOffset += 1;\n\tlet constrained_intra_pred_flag = ExpGolomb.readBit(golombBuffer, bitOffset);\n\tbitOffset += 1;\n\tlet redundant_pic_cnt_present_flag = ExpGolomb.readBit(golombBuffer, bitOffset);\n\tbitOffset += 1;\n\n\t// if( more_rbsp_data( ) ) {\n\t//     // Unused data...\n\t// }\n\n\treturn {\n\t\tsliceGroupNum: sliceGroupUEV.value + 1\n\t};\n}\n","var $ = require('../internals/export');\n\nvar log = Math.log;\nvar LN2 = Math.LN2;\n\n// `Math.log2` method\n// https://tc39.github.io/ecma262/#sec-math.log2\n$({ target: 'Math', stat: true }, {\n  log2: function log2(x) {\n    return log(x) / LN2;\n  }\n});\n","/**\n * @file: avc-config.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\n/**\n * AVC Config Helper\n * Accord sps/pps, generate mimeType info.\n */\n\nexport default (sps, pps) => {\n\tlet profile_idc = sps.profile_idc;\n\tlet profile_compatibility = sps.profile_compatibility;\n\tlet level_idc = sps.level_idc;\n\tlet codecString = 'avc1.';\n\n\tlet arr = [profile_idc, profile_compatibility, level_idc];\n\tfor (let j = 0; j < arr.length; j++) {\n\t\tlet h = arr[j].toString(16);\n\t\tif (h.length < 2) {\n\t\t\th = '0' + h;\n\t\t}\n\t\tcodecString += h;\n\t}\n\n\treturn {\n\t\tcodec: codecString\n\t};\n};\n","/**\n * @file: pes.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\n/**\n * Packetized Elementary Stream.\n */\nimport Stream from '../../util/stream';\nimport CacheBuffer from '../../util/cache-buffer';\nimport PES from '../structs/pes';\n\nclass PesStream extends Stream {\n\tconstructor(ctx, psi) {\n\t\tsuper();\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tthis.context = ctx;\n\n\t\t/**\n\t\t * @type {PSI}\n\t\t * @private\n\t\t */\n\t\tthis.PSI = psi;\n\n\t\t/**\n\t\t * @type {?number}\n\t\t * @private\n\t\t */\n\t\tthis.PID = null;\n\n\t\t/**\n\t\t * @type {CacheBuffer}\n\t\t * @private\n\t\t */\n\t\tthis.cache_buffer = new CacheBuffer();\n\t}\n\n\t/**\n\t * @param {Packet} packet\n\t */\n\tpush(packet) {\n\t\tconst self = this;\n\n\t\t// PES PID\n\t\tif (packet.PID > 0x00ff && packet.PID < 0x1fff) {\n\t\t\tif (this.PSI.currentProgramPID == -1) {\n\t\t\t\tself._pushPacket(packet);\n\t\t\t} else if (this.PSI.currentProgramPID !== packet.PID) {\n\t\t\t\tif (packet.payload_unit_start_indicator === 1) {\n\t\t\t\t\tself._assembleOnePES();\n\t\t\t\t}\n\n\t\t\t\tself._pushPacket(packet);\n\t\t\t}\n\t\t}\n\t}\n\n\tflush() {\n\t\tconst self = this;\n\n\t\t// PES\n\t\tself._assembleOnePES();\n\n\t\tself.emit('done');\n\t}\n\n\treset() {\n\t\tthis._clearCached();\n\n\t\tthis.emit('reset');\n\t}\n\n\t_clearCached() {\n\t\tthis.PID = null;\n\t\tthis.cache_buffer.clear();\n\t}\n\n\t_pushPacket(p) {\n\t\tlet empty = this.cache_buffer.empty;\n\n\t\t// Make first packet in cache is start unit.\n\t\tif (empty && p.payload_unit_start_indicator === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (empty) {\n\t\t\tthis.PID = p.PID;\n\t\t}\n\n\t\tthis.cache_buffer.append(p.payload);\n\t}\n\n\t_assembleOnePES() {\n\t\tconst self = this;\n\n\t\tif (!this.cache_buffer.empty) {\n\t\t\tlet bytes;\n\n\t\t\ttry {\n\t\t\t\tbytes = this.cache_buffer.toNewBytes();\n\t\t\t} catch (e) {\n\t\t\t\tthrow `pes alloc mem err ${this.cache_buffer.byteLength}`;\n\t\t\t}\n\n\t\t\tlet pesData = new PES(bytes);\n\t\t\tlet track = this.PSI.findTrack(this.PID);\n\n\t\t\t// console.log(`stream_id: ${pesData.stream_id}, PTS: ${pesData.PTS}, DTS: ${pesData.DTS}`);\n\n\t\t\tif (track) {\n\t\t\t\t// Assemble one pes packet, emit it to next stream.\n\t\t\t\tself.emit('data', {\n\t\t\t\t\tpid: track.id,\n\t\t\t\t\tstream_type: track.stream_type,\n\t\t\t\t\tpcr_pid: track.pcr_pid,\n\t\t\t\t\tpes: pesData\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tself._clearCached();\n\t\t}\n\t}\n}\n\nexport default PesStream;\n","/**\n * @file: pes.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\nimport DataViewReader from '../../util/dv';\n\n/**\n * @extends DataViewReader\n */\nclass Pes extends DataViewReader {\n\tconstructor(buffer) {\n\t\tsuper();\n\n\t\t// The packet_start_code_prefix is a 24-bit code.\n\t\tthis.start_code_prefix = (this.readUint16(buffer, 0) << 8) | buffer[2];\n\n\t\t// In Transport Streams,\n\t\t// the stream_id may be set to any valid value which correctly describes the elementary stream type.\n\t\t// the elementary stream type is specified in the PSI(Program Specific Information).\n\t\tthis.stream_id = buffer[3];\n\n\t\t// A 16-bit field specifying the number of bytes in the PES packet.\n\t\tthis.packet_length = this.readUint16(buffer, 4);\n\n\t\tthis.data_alignment_indicator = buffer[6] & 0x04;\n\n\t\tthis.copyright = buffer[6] & 0x02;\n\n\t\t// PTS (presentation time stamp)\n\t\t// DTS (decoding time stamp)\n\t\tthis.PTS_DTS_flags = buffer[7] >> 6;\n\n\t\t// ESCR (Elementary Stream Clock Reference system):\n\t\t// A time stamp in the PES Stream from which decoders of PES streams may derive timing.\n\t\tthis.ESCR_flag = buffer[7] & 0x20;\n\n\t\tthis.ES_rate_flag = buffer[7] & 0x10;\n\n\t\tthis.trick_mode_flag = buffer[7] & 0x08;\n\n\t\tthis.additional_copy_info_flag = buffer[7] & 0x04;\n\n\t\tthis.CRC_flag = buffer[7] & 0x02;\n\n\t\tthis.extension_flag = buffer[7] & 0x01;\n\n\t\tthis.header_data_length = buffer[8];\n\n\t\tthis.PTS = 0;\n\t\tif ((this.PTS_DTS_flags & 0x02) == 0x02) {\n\t\t\tthis.PTS = this._calcTimestamp(buffer, 9);\n\t\t}\n\n\t\t// if there is no dts, let DTS=PTS\n\t\t// See Annex D - D.0.2 Audio and Video Presentation Synchronization\n\t\tthis.DTS = this.PTS;\n\n\t\tif ((this.PTS_DTS_flags & 0x01) == 0x01) {\n\t\t\tthis.DTS = this._calcTimestamp(buffer, 14);\n\t\t}\n\n\t\t// if (this.ESCR_flag === 1) {\n\t\t// }\n\t\t//\n\t\t// if (this.ES_rate_flag === 1) {\n\t\t// }\n\t\t//\n\t\t//\n\t\t// if (this.trick_mode_flag === 1) {\n\t\t//\n\t\t// }\n\t\t//\n\t\t// if (this.ESCR_flag === 1) {\n\t\t// }\n\n\t\tthis.data_byte = buffer.subarray(9 + this.header_data_length);\n\n\t\t// this.isStartPes = (buffer[0] << 16 | buffer[1] << 8 | buffer[2]) & 0xffffff === 0x000001;\n\t}\n\n\t/**\n\t * @param {Uint8Array} buffer\n\t * @param {Number} start\n\t * @private\n\t */\n\t_calcTimestamp(buffer, start) {\n\t\t// PTS / DTS is 33 bit\n\t\treturn (\n\t\t\t// JS Bitwise operators treat their operands as a sequence of 32 bits,\n\t\t\t// We cannot use bitwise operator in JS beyond 32bits\n\t\t\t(buffer[start] & 0x0e) * 536870912 + // Math.pow(2, 29) === 536870912\n\t\t\t(buffer[start + 1] << 22) +\n\t\t\t((buffer[start + 2] >> 1) << 15) +\n\t\t\t(buffer[start + 3] << 7) +\n\t\t\t(buffer[start + 4] >> 1)\n\t\t);\n\t}\n\n\tvalid() {\n\t\tlet start_code_prefix = this.start_code_prefix;\n\n\t\treturn start_code_prefix[0] === 0x00 && start_code_prefix[1] === 0x00 && start_code_prefix[2] === 0x01;\n\t}\n}\n\nexport default Pes;\n","/**\n * @file: psi.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\n/**\n * Packetized Elementary Stream.\n */\n\nimport PATSection from './structs/patSection';\nimport PMTSection from './structs/pmtSection';\nimport SDTSection from './structs/sdtSection';\nimport {PAT_PID, CAT_PID, TSDT_PID, SDT_PID} from '../enum/m2t-pid';\n\n// const MAX_PIDS_PER_PROGRAM = 64;\n\nclass PSI {\n\t/**\n\t * program PID\n\t * @returns {number}\n\t */\n\tget currentProgramPID() {\n\t\tlet _pmtIds = [];\n\n\t\tfor (let i = 0; i < this.pat_table.length; i++) {\n\t\t\t_pmtIds.push(this.pat_table[i].pid);\n\t\t}\n\n\t\treturn _pmtIds.length > 0 ? _pmtIds[0] : -1;\n\t}\n\n\t// get pmtTable() {\n\t//     return this.pat_table;\n\t// }\n\n\tconstructor(ctx) {\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tthis.context = ctx;\n\n\t\t/**\n\t\t * Specify by SDT Packet\n\t\t * @type {Array}\n\t\t * @private\n\t\t */\n\t\tthis.metadata = {};\n\n\t\t/**\n\t\t * Specify by PMT Packet\n\t\t * @type {Array}\n\t\t * @private\n\t\t */\n\t\tthis.pat_table = [];\n\n\t\t/**\n\t\t * Specify by PES stream\n\t\t * @type {Array}\n\t\t * @private\n\t\t */\n\t\tthis.pes_streams = [];\n\t}\n\n\t/**\n\t * PSI\n\t * HLS PMT/PAT \n\t * PSIPSI mux reset\n\t *  TS HLSPAT/PMT TS \n\t */\n\treset() {\n\t\tthis.metadata = {};\n\t\tthis.pat_table.splice(0, this.pat_table.length);\n\t\tthis.pes_streams.splice(0, this.pes_streams.length);\n\t}\n\n\t/**\n\t * @param {Packet} packet\n\t */\n\tparse(packet) {\n\t\tconst self = this;\n\n\t\t// ISO13818-1: Table 2-3  PID table\n\t\tif (PAT_PID === packet.PID) {\n\t\t\t/* PAT PID */\n\t\t\tthis._parsePat(packet);\n\t\t} else if (CAT_PID === packet.PID) {\n\t\t\t/* CAT PID */\n\t\t} else if (TSDT_PID === packet.PID) {\n\t\t\t/* Transport Stream Description Table */\n\t\t} else if (0x0003 <= packet.PID && packet.PID <= 0x000f) {\n\t\t\t/* Reserved */\n\t\t} else if (SDT_PID === packet.PID) {\n\t\t\t/* Service Description Table */\n\t\t\tthis._parseSdt(packet);\n\t\t} else if (packet.PID === self.currentProgramPID) {\n\t\t\t/* PMT PID */\n\t\t\tthis._parsePmt(packet);\n\t\t}\n\t\t// else if (this.findTrack(packet.PID)) {\n\t\t// \t/* Reserved */\n\t\t// } else {\n\t\t// \tlogger.warn(`psi unknown packet PID ${packet.PID}`);\n\t\t// }\n\t}\n\n\t// findPmtProgram(PID) {\n\t// \tlet program = null;\n\t//\n\t// \tfor (let i = 0; i < this.pat_table.length; i++) {\n\t// \t\tif (this.pat_table[i].pid === PID) {\n\t// \t\t\tprogram = this.pat_table[i].id;\n\t// \t\t\tbreak;\n\t// \t\t}\n\t// \t}\n\t//\n\t// \treturn program;\n\t// }\n\n\t/**\n\t * @param {number} PID\n\t * @returns {?Object}\n\t */\n\tfindTrack(PID) {\n\t\tlet program = null;\n\t\tlet streams = this.pes_streams;\n\n\t\tfor (let i = 0; i < streams.length; i++) {\n\t\t\tif (streams[i].id === PID) {\n\t\t\t\tprogram = streams[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn program;\n\t}\n\n\t/**\n\t * Parse PAT Packet\n\t * @param {Packet} pack\n\t * @return {PATSection}\n\t * @private\n\t */\n\t_parsePat(pack) {\n\t\tlet data;\n\n\t\tif (pack.payload_unit_start_indicator) {\n\t\t\t// psi has pointer_field\n\t\t\tlet pointer = pack.payload[0];\n\n\t\t\tdata = pack.payload.subarray(pointer + 1);\n\t\t} else {\n\t\t\tdata = pack.payload;\n\t\t}\n\n\t\tlet pat = new PATSection(data);\n\n\t\t// https://tools.ietf.org/html/rfc8216#section-3.2\n\t\t// Transport Stream Segments MUST contain a single MPEG-2 Program;\n\t\tfor (var i = 0; i < pat.pmtTable.length; i++) {\n\t\t\tthis._add_pid_to_pmt(pat.pmtTable[i].programNum, pat.pmtTable[i].program_map_PID);\n\t\t}\n\n\t\treturn pat;\n\t}\n\n\t/**\n\t * Associates Program Number and Program Map Table(PMT) PID\n\t * @param {number} programId\n\t * @param {number} pid\n\t * @private\n\t */\n\t_add_pid_to_pmt(programId, pid) {\n\t\tlet table = this.pat_table;\n\n\t\tfunction get_pmt(id) {\n\t\t\tfor (let i = 0, item; i < table.length; i++) {\n\t\t\t\titem = table[i];\n\t\t\t\tif (item.id === id) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tidx: i,\n\t\t\t\t\t\titem\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tlet p = get_pmt(programId);\n\t\tif (!p) {\n\t\t\ttable.push({\n\t\t\t\tid: programId,\n\t\t\t\tpid: pid\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Parse PMT Packet\n\t * @param {Packet} pack\n\t * @return {PMTSection}\n\t * @private\n\t */\n\t_parsePmt(pack) {\n\t\tlet data;\n\n\t\tif (pack.payload_unit_start_indicator) {\n\t\t\t// psi has pointer_field\n\t\t\tlet pointer = pack.payload[0];\n\n\t\t\tdata = pack.payload.subarray(pointer + 1);\n\t\t} else {\n\t\t\tdata = pack.payload;\n\t\t}\n\n\t\tlet pmt = new PMTSection(data);\n\n\t\tfor (var i = 0; i < pmt.pes_table.length; i++) {\n\t\t\tthis._add_pes_stream(pmt.pes_table[i], pmt);\n\t\t}\n\n\t\treturn pmt;\n\t}\n\n\t/**\n\t * @param stream\n\t * @param pmt\n\t * @private\n\t */\n\t_add_pes_stream(stream, pmt) {\n\t\tlet streams = this.pes_streams;\n\n\t\tfunction get_program(id) {\n\t\t\tfor (let i = 0, item; i < streams.length; i++) {\n\t\t\t\titem = streams[i];\n\t\t\t\tif (item.id === id) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tidx: i,\n\t\t\t\t\t\titem\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tlet p = get_program(stream.id);\n\t\tif (!p) {\n\t\t\tstreams.push({\n\t\t\t\tid: stream.PID,\n\t\t\t\tstream_type: stream.streamType,\n\t\t\t\tpcr_pid: pmt.PCR_PID,\n\t\t\t\tduration: 0,\n\t\t\t\tsps: [],\n\t\t\t\tpps: [],\n\t\t\t\tpixelRatio: 1,\n\t\t\t\ttimescale: 90000, // (in TS timescale = 90kHz)\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Parse SDT Packet\n\t * @param {Packet} pack\n\t * @returns {SDTSection}\n\t * @private\n\t */\n\t_parseSdt(pack) {\n\t\tlet data;\n\n\t\tif (pack.payload_unit_start_indicator) {\n\t\t\t// psi has pointer_field\n\t\t\tlet pointer = pack.payload[0];\n\n\t\t\tdata = pack.payload.subarray(pointer + 1);\n\t\t} else {\n\t\t\tdata = pack.payload;\n\t\t}\n\n\t\tlet sdt = new SDTSection(data);\n\n\t\tif (sdt.service_table.length > 0) {\n\t\t\tthis.metadata.service_name = sdt.service_table[0].name;\n\t\t\tthis.metadata.service_provider = sdt.service_table[0].provider_name;\n\t\t}\n\n\t\treturn sdt;\n\t}\n}\n\nexport default PSI;\n","/**\n * @file: patSection.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\n/**\n * Structure for pat.\n */\nimport DataViewReader from '../../util/dv';\nimport logger from '../../util/logger';\n\n/**\n * @extends DataViewReader\n */\nclass PATSection extends DataViewReader {\n\tconstructor(buffer) {\n\t\tsuper();\n\n\t\t// program_association_section 0x00\n\t\tthis.table_id = buffer[0];\n\n\t\tthis.section_syntax_indicator = buffer[1] >> 7;\n\n\t\t// this.zero = (buffer[1] >> 6) & 0x1;\n\n\t\t// this.reserved_0 = (buffer[1] >> 4) & 0x3;\n\n\t\t// the number of bytes of the section\n\t\t// starting immediately following the section_length field, and including the CRC.\n\t\tthis.section_length = ((buffer[1] & 0x0f) << 8) | buffer[2];\n\n\t\tthis.transport_stream_id = this.readUint16(buffer, 3);\n\n\t\t// this.reserved_1 = buffer[5] >> 6;\n\n\t\tthis.version_number = (buffer[5] >> 1) & 0x1f;\n\n\t\tthis.current_next_indicator = buffer[5] && 0x01;\n\n\t\t// The section_number of the first section in the Program Association Table shall be 0x00.\n\t\t// It shall be incremented by 1 with each additional section in the PAT.\n\t\tthis.section_number = buffer[6];\n\n\t\t// The number of the last section (that is, the section with the highest section_number) of the complete PAT.\n\t\tthis.last_section_number = buffer[7];\n\n\t\tthis.network_PID = 0x00;\n\t\tvar n = 0,\n\t\t\tprogram_num,\n\t\t\treserved_3;\n\t\tvar len = this.section_length - 4 - 5; // 4: crc32, 5: bytes followed by section_length\n\n\t\tthis.pmtTable = [];\n\t\t/* loop by 4 bytes, during  */\n\t\tfor (; n < len; n += 4) {\n\t\t\tprogram_num = this.readUint16(buffer, 8 + n);\n\t\t\treserved_3 = buffer[10 + n] >> 5;\n\n\t\t\tif (program_num == 0x00) {\n\t\t\t\tthis.network_PID = ((buffer[10 + n] & 0x1f) << 8) | buffer[11 + n];\n\n\t\t\t\t// TSPID\n\t\t\t\t// TS_network_Pid = this.network_PID;\n\n\t\t\t\tlogger.log('packet->network_PID %0x /n/n', this.network_PID);\n\t\t\t} else {\n\t\t\t\tthis.pmtTable.push({\n\t\t\t\t\tprogramNum: program_num,\n\t\t\t\t\tprogram_map_PID: ((buffer[10 + n] & 0x1f) << 8) | buffer[11 + n]\n\t\t\t\t});\n\n\t\t\t\t// TS_PAT_Program\n\t\t\t\t// PAT_program;\n\t\t\t\t// PAT_program.program_map_PID = (buffer[10 + n] & 0x1F) << 8 | buffer[11 + n];\n\t\t\t\t// PAT_program.program_number = program_num;\n\t\t\t\t// this.program.push_back(PAT_program);\n\t\t\t\t// TS_program.push_back(PAT_program);//PATPAT\n\t\t\t}\n\t\t}\n\n\t\tvar crcLength = this.section_length + 3;\n\t\tthis.CRC_32 =\n\t\t\t((buffer[crcLength - 4] & 0x000000ff) << 24) |\n\t\t\t((buffer[crcLength - 3] & 0x000000ff) << 16) |\n\t\t\t((buffer[crcLength - 2] & 0x000000ff) << 8) |\n\t\t\t(buffer[crcLength - 1] & 0x000000ff);\n\t}\n\n\tvalid() {\n\t\tlet start_code_prefix = this.start_code_prefix;\n\n\t\treturn start_code_prefix[0] === 0x00 && start_code_prefix[1] === 0x00 && start_code_prefix[2] === 0x01;\n\t}\n}\n\nexport default PATSection;\n","/**\n * @file: pmtSection.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\n/**\n * Structure for pat.\n */\nimport DataViewReader from '../../util/dv';\nimport logger from '../../util/logger';\n\n/**\n * @extends DataViewReader\n */\nclass PMTSection extends DataViewReader {\n\tconstructor(buffer) {\n\t\tsuper();\n\n\t\t// program_map_section  0x02\n\t\tthis.table_id = buffer[0];\n\n\t\tthis.section_syntax_indicator = buffer[1] >> 7;\n\n\t\t// this.zero = (buffer[1] >> 6) & 0x1;\n\n\t\t// this.reserved_0 = (buffer[1] >> 4) & 0x3;\n\n\t\t// the number of bytes of the section\n\t\t// starting immediately following the section_length field, and including the CRC.\n\t\tthis.section_length = ((buffer[1] & 0x0f) << 8) | buffer[2];\n\n\t\t// It specifies the program to which the program_map_PID is applicable.\n\t\tthis.program_number = this.readUint16(buffer, 3);\n\n\t\t// this.reserved_1 = buffer[5] >> 6;\n\n\t\tthis.version_number = (buffer[5] >> 1) & 0x1f;\n\n\t\tthis.current_next_indicator = buffer[5] && 0x01;\n\n\t\t// The section_number of the first section in the Program Association Table shall be 0x00.\n\t\t// It shall be incremented by 1 with each additional section in the PAT.\n\t\tthis.section_number = buffer[6];\n\n\t\t// The number of the last section (that is, the section with the highest section_number) of the complete PAT.\n\t\tthis.last_section_number = buffer[7];\n\n\t\t// contain the PCR fields valid for the program specified by program_number.\n\t\tthis.PCR_PID = ((buffer[8] & 0x1f) << 8) | buffer[9];\n\n\t\t// this.reserved_2 = buffer[10] >> 4;\n\n\t\t// The number of bytes of the descriptors immediately following the program_info_length field.\n\t\tthis.program_info_length = ((buffer[10] & 0x0f) << 8) | buffer[11];\n\n\t\tif (this.program_info_length < 0) {\n\t\t\treturn;\n\t\t} else if (this.program_info_length > 2) {\n\t\t\tlet i = 0;\n\n\t\t\twhile (i < this.program_info_length) {\n\t\t\t\t// let descriptor_tag = buffer[12 + i];\n\t\t\t\tlet descriptor_length = buffer[13 + i];\n\n\t\t\t\t// \tlogger.log('descriptor_tag', descriptor_tag, descriptor_length);\n\t\t\t\ti += descriptor_length;\n\t\t\t}\n\t\t}\n\n\t\tvar es_section_pos = 12 + this.program_info_length;\n\t\tvar es_section_len = this.section_length - this.program_info_length - 9 - 4; // 9: bytes followed by section_length, 4: crc32\n\t\tvar es_section_end = es_section_pos + es_section_len;\n\n\t\tif (es_section_pos >= es_section_end) {\n\t\t\treturn logger.warn(`es_section_pos < es_section_end ${es_section_pos}, ${es_section_end}`);\n\t\t}\n\n\t\tthis.pes_table = [];\n\n\t\tlet j = 0;\n\t\twhile (j < es_section_len) {\n\t\t\tlet stream_type = buffer[es_section_pos + j];\n\t\t\tlet elementary_PID = this.readUint16(buffer, es_section_pos + j + 1) & 0x1fff;\n\t\t\tlet ES_info_length = this.readUint16(buffer, es_section_pos + j + 3) & 0x0fff;\n\n\t\t\tthis.pes_table.push({\n\t\t\t\tstreamType: stream_type,\n\t\t\t\tPID: elementary_PID\n\t\t\t});\n\n\t\t\tif (ES_info_length > 2) {\n\t\t\t\tlet k = 0;\n\t\t\t\tlet es_pos = es_section_pos + j + 5;\n\n\t\t\t\twhile (k < ES_info_length) {\n\t\t\t\t\t// let descriptor_tag = buffer[es_pos + k];\n\t\t\t\t\tlet descriptor_length = buffer[es_pos + k];\n\n\t\t\t\t\t// if (descriptor_tag === )\n\t\t\t\t\tk += descriptor_length;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tj += ES_info_length + 5;\n\t\t}\n\n\t\tvar crcLength = this.section_length + 3;\n\t\tthis.CRC_32 =\n\t\t\t((buffer[crcLength - 4] & 0x000000ff) << 24) |\n\t\t\t((buffer[crcLength - 3] & 0x000000ff) << 16) |\n\t\t\t((buffer[crcLength - 2] & 0x000000ff) << 8) |\n\t\t\t(buffer[crcLength - 1] & 0x000000ff);\n\t}\n\n\tparse() {\n\t\t// let data = this.uint8;\n\t}\n\n\tvalid() {\n\t\tlet start_code_prefix = this.start_code_prefix;\n\n\t\treturn start_code_prefix[0] === 0x00 && start_code_prefix[1] === 0x00 && start_code_prefix[2] === 0x01;\n\t}\n}\n\nexport default PMTSection;\n","/**\n * @file: sdtSection.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\n/**\n * Structure for sdt.\n */\nimport DataViewReader from '../../util/dv';\nimport logger from '../../util/logger';\n\n/**\n * @extends DataViewReader\n */\nclass SDTSection extends DataViewReader {\n\tconstructor(buffer) {\n\t\tsuper();\n\n\t\t// program_map_section  0x02\n\t\tthis.table_id = buffer[0];\n\n\t\tthis.section_syntax_indicator = buffer[1] >> 7;\n\n\t\t// this.reserved_0 = (buffer[1] >> 4) & 0x3;\n\n\t\t// the number of bytes of the section\n\t\t// starting immediately following the section_length field, and including the CRC.\n\t\tthis.section_length = ((buffer[1] & 0x0f) << 8) | buffer[2];\n\n\t\t// This is a 16-bit field which serves as a label for identification of the TS,\n\t\t// about which the SDT informs, from any other multiplex within the delivery system\n\t\tthis.transport_stream_id = this.readUint16(buffer, 3);\n\n\t\t// this.reserved_1 = buffer[5] >> 6;\n\n\t\tthis.version_number = (buffer[5] >> 1) & 0x1f;\n\n\t\tthis.current_next_indicator = buffer[5] & 0x01;\n\n\t\t// The section_number of the first section in the sub_table shall be \"0x00\".\n\t\t// The section_number shall be incremented by 1 with each additional section\n\t\t// with the same table_id, transport_stream_id, and original_network_id.\n\t\tthis.section_number = buffer[6];\n\n\t\t// This 8-bit field specifies the number of the last section\n\t\t// (that is, the section with the highest section_number) of the sub_table of which this section is part\n\t\tthis.last_section_number = buffer[7];\n\n\t\t// This field gives the label identifying the network_id of the originating delivery system.\n\t\tthis.original_network_id = this.readUint16(buffer, 8);\n\n\t\t// this.reserved_2 = buffer[10];\n\n\t\t// section_length - (following the section_length field length) - crc32Length\n\t\tlet sv_len = this.section_length - 8 - 4; // 8: bytes followed by section_length, 4: crc32\n\n\t\tthis.service_table = [];\n\t\tlet i = 0;\n\t\twhile (i < sv_len) {\n\t\t\tlet j = 0,\n\t\t\t\tservice = {};\n\n\t\t\tservice.service_id = this.readUint16(buffer, 11);\n\t\t\tservice.EIT_schedule_flag = buffer[13] & 0x02;\n\t\t\tservice.EIT_present_following_flag = buffer[13] & 0x01;\n\t\t\tservice.running_status = buffer[14] >> 5;\n\t\t\tservice.free_CA_mode = (buffer[14] >> 4) & 0x01;\n\t\t\tservice.descriptors_loop_length = ((buffer[14] & 0x0f) << 8) | buffer[15];\n\n\t\t\twhile (j < service.descriptors_loop_length) {\n\t\t\t\tlet start = 16 + j;\n\t\t\t\tlet descriptor_tag = buffer[start];\n\t\t\t\tlet descriptor_length = buffer[start + 1];\n\n\t\t\t\tswitch (descriptor_tag) {\n\t\t\t\t\tcase 0x48: // service_descriptor\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet service_type = buffer[start + 2];\n\t\t\t\t\t\t\tlet service_provider_name = [];\n\t\t\t\t\t\t\tlet service_provider_name_length = buffer[start + 3];\n\t\t\t\t\t\t\tlet k = 0,\n\t\t\t\t\t\t\t\tl = 0,\n\t\t\t\t\t\t\t\tnextPos = start + 4;\n\n\t\t\t\t\t\t\tfor (k = 0; k < service_provider_name_length; k++) {\n\t\t\t\t\t\t\t\tservice_provider_name.push(String.fromCharCode(buffer[nextPos]));\n\t\t\t\t\t\t\t\tnextPos += 1;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tservice.provider_name = service_provider_name.join('');\n\n\t\t\t\t\t\t\tlet service_name = [];\n\t\t\t\t\t\t\tlet service_name_length = buffer[nextPos];\n\t\t\t\t\t\t\tnextPos += 1;\n\n\t\t\t\t\t\t\tfor (l = 0; l < service_name_length; l++) {\n\t\t\t\t\t\t\t\tservice_name.push(String.fromCharCode(buffer[nextPos]));\n\t\t\t\t\t\t\t\tnextPos += 1;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tservice.name = service_name.join('');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tlogger.warn(`sdt section unhandled descriptor_tag ${descriptor_tag}`);\n\t\t\t\t}\n\n\t\t\t\tj += 2 + descriptor_length;\n\t\t\t}\n\n\t\t\tthis.service_table.push(service);\n\n\t\t\ti += 5 + service.descriptors_loop_length;\n\t\t}\n\t}\n}\n\nexport default SDTSection;\n","/**\n * @file: m2t-pid.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\n/**\n * @overview Program and program element descriptors.\n * @see ISO/IEC 13818-1: Table 2-3  PID table\n * @see DVB SI: 5.1.3 Coding of PID and table_id fields\n */\n\n/**\n * @readonly\n * @enum {number}\n * @export\n */\nexport const PAT_PID = 0x0000;\nexport const CAT_PID = 0x0001;\nexport const TSDT_PID = 0x0002;\n/* reserved 0x0003 to 0x000F */\nexport const SDT_PID = 0x0011;\n","/**\n * @file: packet.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\n/**\n * packet structure.\n */\nimport DataViewReader from '../../util/dv';\n\nconst SYNC_BYTE = 0x47; // The sync_byte is a fixed 8-bit field whose value is '0100 0111' (0x47).\n\n/**\n * @extends DataViewReader\n */\nclass Packet extends DataViewReader {\n\t/**\n\t * @param {Uint8Array} buffer\n\t */\n\tconstructor(buffer) {\n\t\tsuper();\n\n\t\tthis.sync_byte = buffer[0];\n\n\t\tthis.transport_error_indicator = buffer[1] >> 7;\n\n\t\t// Indicating transport stream packets carry PES packets or PSI data\n\t\t// PES: 1 -> commence with the first byte of a PES packet,  0 -> no PES packet shall start in this packet.\n\t\t// PSI: 1 -> carries the first byte of a PSI section, 0 -> no pointer_field in the payload.\n\t\tthis.payload_unit_start_indicator = (buffer[1] >> 6) & 1;\n\n\t\tthis.transport_priority = (buffer[1] >>> 5) & 1;\n\n\t\t// The PID(Packet ID) is a 13-bit field, indicating the type of the data stored in the packet payload.\n\t\t// NOTE  The transport packets with PID values 0x0000, 0x0001, and 0x0010-0x1FFE are allowed to carry a PCR.\n\t\t// ISO/IEC 13818-1 : 2000 (E)\n\t\t// Value                  Description\n\t\t// 0x0000                 Program Association Table\n\t\t// 0x0001                 Conditional Access Table\n\t\t// 0x0002                 Transport Stream Description Table\n\t\t// 0x0003-0x000F          Reserved\n\t\t// 0x0010 ... 0x1FFE      May be assigned as network_PID, Program_map_PID, elementary_PID, or for other purposes\n\t\t// https://www.dvb.org/resources/public/standards/a38_dvb-si_specification.pdf\n\t\t// 0x0040                 Network_information_section-actual_network\n\t\t// 0x0041                 Network_information_section-other_network\n\t\t// 0x0042                 Service_description_section-actual_transport_stream\n\t\t// 0x0043                 TO 0x45 Reserved for future use\n\t\t// 0x0046                 Service_description_section-other_transport_stream\n\t\t// 0x0047                 TO 0x49 Reserved for future use\n\t\t// 0x004A                 Bouquet_association_section\n\t\t// 0x004B                 TO 0x4D Reserved for future use\n\t\t// 0x004E                 Event_information_section-actual_transport_stream,P/F\n\t\t// 0x004F                 Event_information_section-other_transport_stream,P/F\n\t\t// 0x0050                 TO 0x5F Event_information_section-actual_transport_stream,schedule\n\t\t// 0x0060                 TO 0x6F Event_information_section-other_transport_stream,schedule\n\t\t// 0x0070                 Time_data_section\n\t\t// 0x0071                 Running_status_section\n\t\t// 0x0072                 Stuffing_section\n\t\t// 0x0073                 Time_offset_section\n\t\t// 0x0074                 TO 0x007D Reserved for future use\n\t\t// 0x007E                 Discontinuity_information_section\n\t\t// 0x007F                 Selection_information_section\n\t\t// 0x0080                 TO 0x00FE User defined\n\t\t// 0x00FF                 Reserved\n\t\t// 0x1FFF                 Null packet\n\t\tthis.PID = this.readUint16(buffer, 1) & 0x1fff;\n\n\t\t// transport_scrambling_control\n\t\tthis.tsc = buffer[3] >> 6;\n\n\t\t// adaptation_field_control\n\t\t// Value  Description\n\t\t// 00     Reserved for future use by ISO/IEC\n\t\t// 01     No adaptation_field, payload only\n\t\t// 10     Adaptation_field only, no payload\n\t\t// 11     Adaptation_field followed by payload\n\t\tthis.afc = (buffer[3] >> 4) & 3;\n\n\t\t// '1' indicates that the discontinuity state is true for the current Transport Stream packet.\n\t\t// continuity_counter\n\t\tthis.continuity_counter = buffer[3] & 0xf;\n\n\t\t// self defines.\n\t\tthis.has_payload = this.afc & 1;\n\t\tthis.has_adaptation = this.afc & 2;\n\t\tthis.is_discontinuity = this.has_adaptation && buffer[4] != 0 /* with length > 0 */ && buffer[5] & 0x80;\n\t\t/* and discontinuity indicated */\n\n\t\tif (this.has_payload) {\n\t\t\tif (this.has_adaptation) {\n\t\t\t\tlet adaptation_field_length = buffer[4];\n\t\t\t\tthis.payload = buffer.subarray(5 + adaptation_field_length);\n\t\t\t} else {\n\t\t\t\tthis.payload = buffer.subarray(4);\n\t\t\t}\n\t\t}\n\t}\n\n\tvalid() {\n\t\tlet val = this.sync_byte === SYNC_BYTE && this.has_payload;\n\t\treturn val;\n\t}\n}\n\nexport default Packet;\n","/**\n * @file: mux-error-code.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\n/**\n * @readonly\n * @enum {Number}\n * @export\n */\nlet counter = 0;\n\nexport default {\n\tWORKER_EXCEPTION: counter++,\n\tWORKER_MSG_EXCEPTION: counter++,\n\tTS_SYNC_BYTE: counter++\n};\n","/**\n * @file: demux.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\nimport stream from '../util/stream';\nimport logger from '../util/logger';\nimport mp4 from './mp4-inspector';\n\n/**\n * mp4.\n */\nclass Demux extends stream {\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\t/**\n\t * This is end pipeline stream\n\t */\n\tget endStream() {\n\t\treturn this;\n\t}\n\n\t/**\n\t * @param {Uint8Array} buffer\n\t */\n\tpush(buffer) {\n\t\tlogger.log(`mp4 demux received ${buffer.byteLength} bytes`);\n\n\t\tthis.emit('data', mp4.mp4toJSON(buffer));\n\t}\n}\n\nexport default Demux;\n","/**\n * @file: mp4-inspector.js, created at Monday, 23rd December 2019 3:47:23 pm\n * @copyright Copyright (c) 2020\n * @author gem <gems.xu@gmail.com>\n */\n\n/* eslint-disable */\nlet /**\n\t * Returns the string representation of an ASCII encoded four byte buffer.\n\t * @param buffer {Uint8Array} a four-byte buffer to translate\n\t * @return {string} the corresponding string\n\t */\n\tparseType = function(buffer) {\n\t\tlet result = '';\n\t\tresult += String.fromCharCode(buffer[0]);\n\t\tresult += String.fromCharCode(buffer[1]);\n\t\tresult += String.fromCharCode(buffer[2]);\n\t\tresult += String.fromCharCode(buffer[3]);\n\t\treturn result;\n\t},\n\tparseMp4Date = function(seconds) {\n\t\treturn new Date(seconds * 1000 - 2082844800000);\n\t},\n\tparseSampleFlags = function(flags) {\n\t\treturn {\n\t\t\tisLeading: (flags[0] & 0x0c) >>> 2,\n\t\t\tdependsOn: flags[0] & 0x03,\n\t\t\tisDependedOn: (flags[1] & 0xc0) >>> 6,\n\t\t\thasRedundancy: (flags[1] & 0x30) >>> 4,\n\t\t\tpaddingValue: (flags[1] & 0x0e) >>> 1,\n\t\t\tisNonSyncSample: flags[1] & 0x01,\n\t\t\tdegradationPriority: (flags[2] << 8) | flags[3]\n\t\t};\n\t},\n\tnalParse = function(avcStream) {\n\t\tlet avcView = new DataView(avcStream.buffer, avcStream.byteOffset, avcStream.byteLength),\n\t\t\tresult = [],\n\t\t\ti,\n\t\t\tlength;\n\t\tfor (i = 0; i < avcStream.length; i += length) {\n\t\t\tlength = avcView.getUint32(i);\n\t\t\ti += 4;\n\t\t\tswitch (avcStream[i] & 0x1f) {\n\t\t\t\tcase 0x01:\n\t\t\t\t\tresult.push('NDR');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x05:\n\t\t\t\t\tresult.push('IDR');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x06:\n\t\t\t\t\tresult.push('SEI');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x07:\n\t\t\t\t\tresult.push('SPS');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x08:\n\t\t\t\t\tresult.push('PPS');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x09:\n\t\t\t\t\tresult.push('AUD');\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tresult.push(avcStream[i] & 0x1f);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t},\n\t// registry of handlers for individual mp4 box types\n\tparse = {\n\t\t// codingname, not a first-class box type. stsd entries share the\n\t\t// same format as real boxes so the parsing infrastructure can be\n\t\t// shared\n\t\tavc1: function(data) {\n\t\t\tlet view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n\t\t\treturn {\n\t\t\t\tdataReferenceIndex: view.getUint16(6),\n\t\t\t\twidth: view.getUint16(24),\n\t\t\t\theight: view.getUint16(26),\n\t\t\t\thorizresolution: view.getUint16(28) + view.getUint16(30) / 16,\n\t\t\t\tvertresolution: view.getUint16(32) + view.getUint16(34) / 16,\n\t\t\t\tframeCount: view.getUint16(40),\n\t\t\t\tdepth: view.getUint16(74),\n\t\t\t\tconfig: mp4toJSON(data.subarray(78, data.byteLength))\n\t\t\t};\n\t\t},\n\t\tavcC: function(data) {\n\t\t\tlet view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n\t\t\t\tresult = {\n\t\t\t\t\tconfigurationVersion: data[0],\n\t\t\t\t\tavcProfileIndication: data[1],\n\t\t\t\t\tprofileCompatibility: data[2],\n\t\t\t\t\tavcLevelIndication: data[3],\n\t\t\t\t\tlengthSizeMinusOne: data[4] & 0x03,\n\t\t\t\t\tsps: [],\n\t\t\t\t\tpps: []\n\t\t\t\t},\n\t\t\t\tnumOfSequenceParameterSets = data[5] & 0x1f,\n\t\t\t\tnumOfPictureParameterSets,\n\t\t\t\tnalSize,\n\t\t\t\toffset,\n\t\t\t\ti;\n\n\t\t\t// iterate past any SPSs\n\t\t\toffset = 6;\n\t\t\tfor (i = 0; i < numOfSequenceParameterSets; i++) {\n\t\t\t\tnalSize = view.getUint16(offset);\n\t\t\t\toffset += 2;\n\t\t\t\tresult.sps.push(new Uint8Array(data.subarray(offset, offset + nalSize)));\n\t\t\t\toffset += nalSize;\n\t\t\t}\n\t\t\t// iterate past any PPSs\n\t\t\tnumOfPictureParameterSets = data[offset];\n\t\t\toffset++;\n\t\t\tfor (i = 0; i < numOfPictureParameterSets; i++) {\n\t\t\t\tnalSize = view.getUint16(offset);\n\t\t\t\toffset += 2;\n\t\t\t\tresult.pps.push(new Uint8Array(data.subarray(offset, offset + nalSize)));\n\t\t\t\toffset += nalSize;\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\tbtrt: function(data) {\n\t\t\tlet view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n\t\t\treturn {\n\t\t\t\tbufferSizeDB: view.getUint32(0),\n\t\t\t\tmaxBitrate: view.getUint32(4),\n\t\t\t\tavgBitrate: view.getUint32(8)\n\t\t\t};\n\t\t},\n\t\tesds: function(data) {\n\t\t\tlet view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n\t\t\treturn {\n\t\t\t\tversion: data[0],\n\t\t\t\tflags: new Uint8Array(data.subarray(1, 4)),\n\t\t\t\tesId: (data[6] << 8) | data[7],\n\t\t\t\tstreamPriority: data[8] & 0x1f,\n\t\t\t\tdecoderConfig: {\n\t\t\t\t\tobjectProfileIndication: data[11],\n\t\t\t\t\tstreamType: (data[12] >>> 2) & 0x3f,\n\t\t\t\t\tbufferSize: (data[13] << 16) | (data[14] << 8) | data[15],\n\t\t\t\t\tmaxBitrate: (data[16] << 24) | (data[17] << 16) | (data[18] << 8) | data[19],\n\t\t\t\t\tavgBitrate: (data[20] << 24) | (data[21] << 16) | (data[22] << 8) | data[23],\n\t\t\t\t\tdecoderConfigDescriptor: {\n\t\t\t\t\t\ttag: data[24],\n\t\t\t\t\t\tlength: data[25],\n\t\t\t\t\t\t// audioObjectType: (data[26] >>> 3) & 0x1f,\n\t\t\t\t\t\t// samplingFrequencyIndex: ((data[26] & 0x07) << 1) |\n\t\t\t\t\t\t//   ((data[27] >>> 7) & 0x01),\n\t\t\t\t\t\t// channelConfiguration: (data[27] >>> 3) & 0x0f,\n\t\t\t\t\t\t// FIXME\n\t\t\t\t\t\taudioObjectType: (data[35] >>> 3) & 0x1f,\n\t\t\t\t\t\tsamplingFrequencyIndex: ((data[35] & 0x07) << (8 + (data[36] & 0x80))) >> 7,\n\t\t\t\t\t\tchannelConfiguration: (data[36] & 0x78) >> 3\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\tftyp: function(data) {\n\t\t\tlet view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n\t\t\t\tresult = {\n\t\t\t\t\tmajorBrand: parseType(data.subarray(0, 4)),\n\t\t\t\t\tminorVersion: view.getUint32(4),\n\t\t\t\t\tcompatibleBrands: []\n\t\t\t\t},\n\t\t\t\ti = 8;\n\t\t\twhile (i < data.byteLength) {\n\t\t\t\tresult.compatibleBrands.push(parseType(data.subarray(i, i + 4)));\n\t\t\t\ti += 4;\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\tdinf: function(data) {\n\t\t\treturn {\n\t\t\t\tboxes: mp4toJSON(data)\n\t\t\t};\n\t\t},\n\t\tdref: function(data) {\n\t\t\treturn {\n\t\t\t\tversion: data[0],\n\t\t\t\tflags: new Uint8Array(data.subarray(1, 4)),\n\t\t\t\tdataReferences: mp4toJSON(data.subarray(8))\n\t\t\t};\n\t\t},\n\t\thdlr: function(data) {\n\t\t\tlet view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n\t\t\t\tresult = {\n\t\t\t\t\tversion: view.getUint8(0),\n\t\t\t\t\tflags: new Uint8Array(data.subarray(1, 4)),\n\t\t\t\t\thandlerType: parseType(data.subarray(8, 12)),\n\t\t\t\t\tname: ''\n\t\t\t\t},\n\t\t\t\ti = 8;\n\n\t\t\t// parse out the name field\n\t\t\tfor (i = 24; i < data.byteLength; i++) {\n\t\t\t\tif (data[i] === 0x00) {\n\t\t\t\t\t// the name field is null-terminated\n\t\t\t\t\ti++;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tresult.name += String.fromCharCode(data[i]);\n\t\t\t}\n\t\t\t// decode UTF-8 to javascript's internal representation\n\t\t\t// see http://ecmanaut.blogspot.com/2006/07/encoding-decoding-utf8-in-javascript.html\n\t\t\tresult.name = decodeURIComponent(decodeURIComponent(result.name));\n\n\t\t\treturn result;\n\t\t},\n\t\t// mdat: function(data) {\n\t\t// \treturn {\n\t\t// \t\tbyteLength: data.byteLength,\n\t\t// \t\tnals: nalParse(data),\n\t\t// \t\trealData: data\n\t\t// \t};\n\t\t// },\n\t\tmdhd: function(data) {\n\t\t\tlet view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n\t\t\t\ti = 4,\n\t\t\t\tlanguage,\n\t\t\t\tresult = {\n\t\t\t\t\tversion: view.getUint8(0),\n\t\t\t\t\tflags: new Uint8Array(data.subarray(1, 4)),\n\t\t\t\t\tlanguage: ''\n\t\t\t\t};\n\t\t\tif (result.version === 1) {\n\t\t\t\ti += 4;\n\t\t\t\tresult.creationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\t\t\t\ti += 8;\n\t\t\t\tresult.modificationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\t\t\t\ti += 4;\n\t\t\t\tresult.timescale = view.getUint32(i);\n\t\t\t\ti += 8;\n\t\t\t\tresult.duration = view.getUint32(i); // truncating top 4 bytes\n\t\t\t} else {\n\t\t\t\tresult.creationTime = parseMp4Date(view.getUint32(i));\n\t\t\t\ti += 4;\n\t\t\t\tresult.modificationTime = parseMp4Date(view.getUint32(i));\n\t\t\t\ti += 4;\n\t\t\t\tresult.timescale = view.getUint32(i);\n\t\t\t\ti += 4;\n\t\t\t\tresult.duration = view.getUint32(i);\n\t\t\t}\n\t\t\ti += 4;\n\t\t\t// language is stored as an ISO-639-2/T code in an array of three 5-bit fields\n\t\t\t// each field is the packed difference between its ASCII value and 0x60\n\t\t\tlanguage = view.getUint16(i);\n\t\t\tresult.language += String.fromCharCode((language >> 10) + 0x60);\n\t\t\tresult.language += String.fromCharCode(((language & 0x03c0) >> 5) + 0x60);\n\t\t\tresult.language += String.fromCharCode((language & 0x1f) + 0x60);\n\n\t\t\treturn result;\n\t\t},\n\t\tmdia: function(data) {\n\t\t\treturn {\n\t\t\t\tboxes: mp4toJSON(data)\n\t\t\t};\n\t\t},\n\t\tmfhd: function(data) {\n\t\t\treturn {\n\t\t\t\tversion: data[0],\n\t\t\t\tflags: new Uint8Array(data.subarray(1, 4)),\n\t\t\t\tsequenceNumber: (data[4] << 24) | (data[5] << 16) | (data[6] << 8) | data[7]\n\t\t\t};\n\t\t},\n\t\tminf: function(data) {\n\t\t\treturn {\n\t\t\t\tboxes: mp4toJSON(data)\n\t\t\t};\n\t\t},\n\t\t// codingname, not a first-class box type. stsd entries share the\n\t\t// same format as real boxes so the parsing infrastructure can be\n\t\t// shared\n\t\tmp4a: function(data) {\n\t\t\tlet view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n\t\t\t\tresult = {\n\t\t\t\t\t// 6 bytes reserved\n\t\t\t\t\tdataReferenceIndex: view.getUint16(6),\n\t\t\t\t\t// 4 + 4 bytes reserved\n\t\t\t\t\tchannelcount: view.getUint16(16),\n\t\t\t\t\tsamplesize: view.getUint16(18),\n\t\t\t\t\t// 2 bytes pre_defined\n\t\t\t\t\t// 2 bytes reserved\n\t\t\t\t\tsamplerate: view.getUint16(24) + view.getUint16(26) / 65536\n\t\t\t\t};\n\n\t\t\t// if there are more bytes to process, assume this is an ISO/IEC\n\t\t\t// 14496-14 MP4AudioSampleEntry and parse the ESDBox\n\t\t\tif (data.byteLength > 28) {\n\t\t\t\tresult.streamDescriptor = mp4toJSON(data.subarray(28))[0];\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\tmoof: function(data) {\n\t\t\treturn {\n\t\t\t\tboxes: mp4toJSON(data)\n\t\t\t};\n\t\t},\n\t\tmoov: function(data) {\n\t\t\treturn {\n\t\t\t\tboxes: mp4toJSON(data)\n\t\t\t};\n\t\t},\n\t\tmvex: function(data) {\n\t\t\treturn {\n\t\t\t\tboxes: mp4toJSON(data)\n\t\t\t};\n\t\t},\n\t\tmvhd: function(data) {\n\t\t\tlet view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n\t\t\t\ti = 4,\n\t\t\t\tresult = {\n\t\t\t\t\tversion: view.getUint8(0),\n\t\t\t\t\tflags: new Uint8Array(data.subarray(1, 4))\n\t\t\t\t};\n\n\t\t\tif (result.version === 1) {\n\t\t\t\ti += 4;\n\t\t\t\tresult.creationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\t\t\t\ti += 8;\n\t\t\t\tresult.modificationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\t\t\t\ti += 4;\n\t\t\t\tresult.timescale = view.getUint32(i);\n\t\t\t\ti += 8;\n\t\t\t\tresult.duration = view.getUint32(i); // truncating top 4 bytes\n\t\t\t} else {\n\t\t\t\tresult.creationTime = parseMp4Date(view.getUint32(i));\n\t\t\t\ti += 4;\n\t\t\t\tresult.modificationTime = parseMp4Date(view.getUint32(i));\n\t\t\t\ti += 4;\n\t\t\t\tresult.timescale = view.getUint32(i);\n\t\t\t\ti += 4;\n\t\t\t\tresult.duration = view.getUint32(i);\n\t\t\t}\n\t\t\ti += 4;\n\n\t\t\t// convert fixed-point, base 16 back to a number\n\t\t\tresult.rate = view.getUint16(i) + view.getUint16(i + 2) / 16;\n\t\t\ti += 4;\n\t\t\tresult.volume = view.getUint8(i) + view.getUint8(i + 1) / 8;\n\t\t\ti += 2;\n\t\t\ti += 2;\n\t\t\ti += 2 * 4;\n\t\t\tresult.matrix = new Uint32Array(data.subarray(i, i + 9 * 4));\n\t\t\ti += 9 * 4;\n\t\t\ti += 6 * 4;\n\t\t\tresult.nextTrackId = view.getUint32(i);\n\t\t\treturn result;\n\t\t},\n\t\tpdin: function(data) {\n\t\t\tlet view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n\t\t\treturn {\n\t\t\t\tversion: view.getUint8(0),\n\t\t\t\tflags: new Uint8Array(data.subarray(1, 4)),\n\t\t\t\trate: view.getUint32(4),\n\t\t\t\tinitialDelay: view.getUint32(8)\n\t\t\t};\n\t\t},\n\t\tsdtp: function(data) {\n\t\t\tlet result = {\n\t\t\t\t\tversion: data[0],\n\t\t\t\t\tflags: new Uint8Array(data.subarray(1, 4)),\n\t\t\t\t\tsamples: []\n\t\t\t\t},\n\t\t\t\ti;\n\n\t\t\tfor (i = 4; i < data.byteLength; i++) {\n\t\t\t\tresult.samples.push({\n\t\t\t\t\tdependsOn: (data[i] & 0x30) >> 4,\n\t\t\t\t\tisDependedOn: (data[i] & 0x0c) >> 2,\n\t\t\t\t\thasRedundancy: data[i] & 0x03\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\tsidx: function(data) {\n\t\t\tlet view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n\t\t\t\tresult = {\n\t\t\t\t\tversion: data[0],\n\t\t\t\t\tflags: new Uint8Array(data.subarray(1, 4)),\n\t\t\t\t\treferences: [],\n\t\t\t\t\treferenceId: view.getUint32(4),\n\t\t\t\t\ttimescale: view.getUint32(8),\n\t\t\t\t\tearliestPresentationTime: view.getUint32(12),\n\t\t\t\t\tfirstOffset: view.getUint32(16)\n\t\t\t\t},\n\t\t\t\treferenceCount = view.getUint16(22),\n\t\t\t\ti;\n\n\t\t\tfor (i = 24; referenceCount; i += 12, referenceCount--) {\n\t\t\t\tresult.references.push({\n\t\t\t\t\treferenceType: (data[i] & 0x80) >>> 7,\n\t\t\t\t\treferencedSize: view.getUint32(i) & 0x7fffffff,\n\t\t\t\t\tsubsegmentDuration: view.getUint32(i + 4),\n\t\t\t\t\tstartsWithSap: !!(data[i + 8] & 0x80),\n\t\t\t\t\tsapType: (data[i + 8] & 0x70) >>> 4,\n\t\t\t\t\tsapDeltaTime: view.getUint32(i + 8) & 0x0fffffff\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\t\tstbl: function(data) {\n\t\t\treturn {\n\t\t\t\tboxes: mp4toJSON(data)\n\t\t\t};\n\t\t},\n\t\tstco: function(data) {\n\t\t\tlet view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n\t\t\tlet entryCount = view.getUint32(4);\n\t\t\tlet result = {\n\t\t\t\tversion: data[0],\n\t\t\t\tflags: new Uint8Array(data.subarray(1, 4)),\n\t\t\t\tentryCount: entryCount,\n\t\t\t\tchunkOffsets: []\n\t\t\t};\n\t\t\tfor (let i = 8; entryCount; i += 4, entryCount--) {\n\t\t\t\tresult.chunkOffsets.push(view.getUint32(i));\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\tstsc: function(data) {\n\t\t\tlet view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n\t\t\t\tentryCount = view.getUint32(4),\n\t\t\t\tresult = {\n\t\t\t\t\tversion: data[0],\n\t\t\t\t\tflags: new Uint8Array(data.subarray(1, 4)),\n\t\t\t\t\tsampleToChunks: []\n\t\t\t\t},\n\t\t\t\ti;\n\t\t\tfor (i = 8; entryCount; i += 12, entryCount--) {\n\t\t\t\tresult.sampleToChunks.push({\n\t\t\t\t\tfirstChunk: view.getUint32(i),\n\t\t\t\t\tsamplesPerChunk: view.getUint32(i + 4),\n\t\t\t\t\tsampleDescriptionIndex: view.getUint32(i + 8)\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\tstsd: function(data) {\n\t\t\treturn {\n\t\t\t\tversion: data[0],\n\t\t\t\tflags: new Uint8Array(data.subarray(1, 4)),\n\t\t\t\tboxes: mp4toJSON(data.subarray(8))\n\t\t\t};\n\t\t},\n\t\tstsz: function(data) {\n\t\t\tlet view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n\t\t\t\tresult = {\n\t\t\t\t\tversion: data[0],\n\t\t\t\t\tflags: new Uint8Array(data.subarray(1, 4)),\n\t\t\t\t\tsampleSize: view.getUint32(4),\n\t\t\t\t\tentries: []\n\t\t\t\t},\n\t\t\t\ti;\n\t\t\tfor (i = 12; i < data.byteLength; i += 4) {\n\t\t\t\tresult.entries.push(view.getUint32(i));\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\tstts: function(data) {\n\t\t\tlet view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n\t\t\t\tresult = {\n\t\t\t\t\tversion: data[0],\n\t\t\t\t\tflags: new Uint8Array(data.subarray(1, 4)),\n\t\t\t\t\ttimeToSamples: []\n\t\t\t\t},\n\t\t\t\tentryCount = view.getUint32(4),\n\t\t\t\ti;\n\n\t\t\tfor (i = 8; entryCount; i += 8, entryCount--) {\n\t\t\t\tresult.timeToSamples.push({\n\t\t\t\t\tsampleCount: view.getUint32(i),\n\t\t\t\t\tsampleDelta: view.getUint32(i + 4)\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\tstyp: function(data) {\n\t\t\treturn parse.ftyp(data);\n\t\t},\n\t\ttfdt: function(data) {\n\t\t\treturn {\n\t\t\t\tversion: data[0],\n\t\t\t\tflags: new Uint8Array(data.subarray(1, 4)),\n\t\t\t\tbaseMediaDecodeTime: (data[4] << 24) | (data[5] << 16) | (data[6] << 8) | data[7]\n\t\t\t};\n\t\t},\n\t\ttfhd: function(data) {\n\t\t\tlet view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n\t\t\t\tresult = {\n\t\t\t\t\tversion: data[0],\n\t\t\t\t\tflags: new Uint8Array(data.subarray(1, 4)),\n\t\t\t\t\ttrackId: view.getUint32(4)\n\t\t\t\t},\n\t\t\t\tbaseDataOffsetPresent = result.flags[2] & 0x01,\n\t\t\t\tsampleDescriptionIndexPresent = result.flags[2] & 0x02,\n\t\t\t\tdefaultSampleDurationPresent = result.flags[2] & 0x08,\n\t\t\t\tdefaultSampleSizePresent = result.flags[2] & 0x10,\n\t\t\t\tdefaultSampleFlagsPresent = result.flags[2] & 0x20,\n\t\t\t\ti;\n\n\t\t\ti = 8;\n\t\t\tif (baseDataOffsetPresent) {\n\t\t\t\ti += 4; // truncate top 4 bytes\n\t\t\t\tresult.baseDataOffset = view.getUint32(12);\n\t\t\t\ti += 4;\n\t\t\t}\n\t\t\tif (sampleDescriptionIndexPresent) {\n\t\t\t\tresult.sampleDescriptionIndex = view.getUint32(i);\n\t\t\t\ti += 4;\n\t\t\t}\n\t\t\tif (defaultSampleDurationPresent) {\n\t\t\t\tresult.defaultSampleDuration = view.getUint32(i);\n\t\t\t\ti += 4;\n\t\t\t}\n\t\t\tif (defaultSampleSizePresent) {\n\t\t\t\tresult.defaultSampleSize = view.getUint32(i);\n\t\t\t\ti += 4;\n\t\t\t}\n\t\t\tif (defaultSampleFlagsPresent) {\n\t\t\t\tresult.defaultSampleFlags = view.getUint32(i);\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\ttkhd: function(data) {\n\t\t\tlet view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n\t\t\t\ti = 4,\n\t\t\t\tresult = {\n\t\t\t\t\tversion: view.getUint8(0),\n\t\t\t\t\tflags: new Uint8Array(data.subarray(1, 4))\n\t\t\t\t};\n\t\t\tif (result.version === 1) {\n\t\t\t\ti += 4;\n\t\t\t\tresult.creationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\t\t\t\ti += 8;\n\t\t\t\tresult.modificationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\t\t\t\ti += 4;\n\t\t\t\tresult.trackId = view.getUint32(i);\n\t\t\t\ti += 4;\n\t\t\t\ti += 8;\n\t\t\t\tresult.duration = view.getUint32(i); // truncating top 4 bytes\n\t\t\t} else {\n\t\t\t\tresult.creationTime = parseMp4Date(view.getUint32(i));\n\t\t\t\ti += 4;\n\t\t\t\tresult.modificationTime = parseMp4Date(view.getUint32(i));\n\t\t\t\ti += 4;\n\t\t\t\tresult.trackId = view.getUint32(i);\n\t\t\t\ti += 4;\n\t\t\t\ti += 4;\n\t\t\t\tresult.duration = view.getUint32(i);\n\t\t\t}\n\t\t\ti += 4;\n\t\t\ti += 2 * 4;\n\t\t\tresult.layer = view.getUint16(i);\n\t\t\ti += 2;\n\t\t\tresult.alternateGroup = view.getUint16(i);\n\t\t\ti += 2;\n\t\t\t// convert fixed-point, base 16 back to a number\n\t\t\tresult.volume = view.getUint8(i) + view.getUint8(i + 1) / 8;\n\t\t\ti += 2;\n\t\t\ti += 2;\n\t\t\tresult.matrix = new Uint32Array(data.subarray(i, i + 9 * 4));\n\t\t\ti += 9 * 4;\n\t\t\tresult.width = view.getUint16(i) + view.getUint16(i + 2) / 16;\n\t\t\ti += 4;\n\t\t\tresult.height = view.getUint16(i) + view.getUint16(i + 2) / 16;\n\t\t\treturn result;\n\t\t},\n\t\ttraf: function(data) {\n\t\t\treturn {\n\t\t\t\tboxes: mp4toJSON(data)\n\t\t\t};\n\t\t},\n\t\ttrak: function(data) {\n\t\t\treturn {\n\t\t\t\tboxes: mp4toJSON(data)\n\t\t\t};\n\t\t},\n\t\ttrex: function(data) {\n\t\t\tlet view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n\t\t\treturn {\n\t\t\t\tversion: data[0],\n\t\t\t\tflags: new Uint8Array(data.subarray(1, 4)),\n\t\t\t\ttrackId: view.getUint32(4),\n\t\t\t\tdefaultSampleDescriptionIndex: view.getUint32(8),\n\t\t\t\tdefaultSampleDuration: view.getUint32(12),\n\t\t\t\tdefaultSampleSize: view.getUint32(16),\n\t\t\t\tsampleDependsOn: data[20] & 0x03,\n\t\t\t\tsampleIsDependedOn: (data[21] & 0xc0) >> 6,\n\t\t\t\tsampleHasRedundancy: (data[21] & 0x30) >> 4,\n\t\t\t\tsamplePaddingValue: (data[21] & 0x0e) >> 1,\n\t\t\t\tsampleIsDifferenceSample: !!(data[21] & 0x01),\n\t\t\t\tsampleDegradationPriority: view.getUint16(22)\n\t\t\t};\n\t\t},\n\t\ttrun: function(data) {\n\t\t\tlet result = {\n\t\t\t\t\tversion: data[0],\n\t\t\t\t\tflags: new Uint8Array(data.subarray(1, 4)),\n\t\t\t\t\tsamples: []\n\t\t\t\t},\n\t\t\t\tview = new DataView(data.buffer, data.byteOffset, data.byteLength),\n\t\t\t\tdataOffsetPresent = result.flags[2] & 0x01,\n\t\t\t\tfirstSampleFlagsPresent = result.flags[2] & 0x04,\n\t\t\t\tsampleDurationPresent = result.flags[1] & 0x01,\n\t\t\t\tsampleSizePresent = result.flags[1] & 0x02,\n\t\t\t\tsampleFlagsPresent = result.flags[1] & 0x04,\n\t\t\t\tsampleCompositionTimeOffsetPresent = result.flags[1] & 0x08,\n\t\t\t\tsampleCount = view.getUint32(4),\n\t\t\t\toffset = 8,\n\t\t\t\tsample;\n\n\t\t\tif (dataOffsetPresent) {\n\t\t\t\tresult.dataOffset = view.getUint32(offset);\n\t\t\t\toffset += 4;\n\t\t\t}\n\t\t\tif (firstSampleFlagsPresent && sampleCount) {\n\t\t\t\tsample = {\n\t\t\t\t\tflags: parseSampleFlags(data.subarray(offset, offset + 4))\n\t\t\t\t};\n\t\t\t\toffset += 4;\n\t\t\t\tif (sampleDurationPresent) {\n\t\t\t\t\tsample.duration = view.getUint32(offset);\n\t\t\t\t\toffset += 4;\n\t\t\t\t}\n\t\t\t\tif (sampleSizePresent) {\n\t\t\t\t\tsample.size = view.getUint32(offset);\n\t\t\t\t\toffset += 4;\n\t\t\t\t}\n\t\t\t\tif (sampleCompositionTimeOffsetPresent) {\n\t\t\t\t\tsample.compositionTimeOffset = view.getUint32(offset);\n\t\t\t\t\toffset += 4;\n\t\t\t\t}\n\t\t\t\tresult.samples.push(sample);\n\t\t\t\tsampleCount--;\n\t\t\t}\n\t\t\twhile (sampleCount--) {\n\t\t\t\tsample = {};\n\t\t\t\tif (sampleDurationPresent) {\n\t\t\t\t\tsample.duration = view.getUint32(offset);\n\t\t\t\t\toffset += 4;\n\t\t\t\t}\n\t\t\t\tif (sampleSizePresent) {\n\t\t\t\t\tsample.size = view.getUint32(offset);\n\t\t\t\t\toffset += 4;\n\t\t\t\t}\n\t\t\t\tif (sampleFlagsPresent) {\n\t\t\t\t\tsample.flags = parseSampleFlags(data.subarray(offset, offset + 4));\n\t\t\t\t\toffset += 4;\n\t\t\t\t}\n\t\t\t\tif (sampleCompositionTimeOffsetPresent) {\n\t\t\t\t\tsample.compositionTimeOffset = view.getUint32(offset);\n\t\t\t\t\toffset += 4;\n\t\t\t\t}\n\t\t\t\tresult.samples.push(sample);\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\t'url ': function(data) {\n\t\t\treturn {\n\t\t\t\tversion: data[0],\n\t\t\t\tflags: new Uint8Array(data.subarray(1, 4))\n\t\t\t};\n\t\t},\n\t\tvmhd: function(data) {\n\t\t\t//let view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n\t\t\treturn {\n\t\t\t\tversion: data[0],\n\t\t\t\tflags: new Uint8Array(data.subarray(1, 4))\n\t\t\t\t//graphicsmode: view.getUint16(4),\n\t\t\t\t//opcolor: new Uint16Array([view.getUint16(6),\n\t\t\t\t//                          view.getUint16(8),\n\t\t\t\t//                          view.getUint16(10)])\n\t\t\t};\n\t\t}\n\t};\n\n/**\n * Return a javascript array of box objects parsed from an ISO base\n * media file.\n * @param data {Uint8Array} the binary data of the media to be inspected\n * @return {array} a javascript array of potentially nested box objects\n */\nlet mp4toJSON = function(data) {\n\tlet i = 0,\n\t\tresult = [],\n\t\tview = new DataView(data.buffer, data.byteOffset, data.byteLength),\n\t\tsize,\n\t\ttype,\n\t\tend,\n\t\tbox;\n\n\twhile (i < data.byteLength) {\n\t\t// parse box data\n\t\t(size = view.getUint32(i)), (type = parseType(data.subarray(i + 4, i + 8)));\n\t\tend = size > 1 ? i + size : data.byteLength;\n\n\t\t// parse type-specific data\n\t\tbox = (\n\t\t\tparse[type] ||\n\t\t\tfunction(data) {\n\t\t\t\treturn {\n\t\t\t\t\tdata: data\n\t\t\t\t};\n\t\t\t}\n\t\t)(data.subarray(i + 8, end));\n\t\tbox.size = size;\n\t\tbox.type = type;\n\n\t\t// store this box and move to the next\n\t\tresult.push(box);\n\t\ti = end;\n\t}\n\treturn result;\n};\n\nlet MP4Inspect = {\n\tmp4toJSON: mp4toJSON\n};\n\nexport default MP4Inspect;\n","var DESCRIPTORS = require('../internals/descriptors');\nvar objectDefinePropertyModule = require('../internals/object-define-property');\nvar regExpFlags = require('../internals/regexp-flags');\nvar UNSUPPORTED_Y = require('../internals/regexp-sticky-helpers').UNSUPPORTED_Y;\n\n// `RegExp.prototype.flags` getter\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nif (DESCRIPTORS && (/./g.flags != 'g' || UNSUPPORTED_Y)) {\n  objectDefinePropertyModule.f(RegExp.prototype, 'flags', {\n    configurable: true,\n    get: regExpFlags\n  });\n}\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Uint32Array` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Uint32', function (init) {\n  return function Uint32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n}\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n"],"sourceRoot":""}